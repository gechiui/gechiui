/*! This file is auto-generated */
!function(u){var s,n;function c(t){return t.split(new RegExp(n+"\\s*"))}void 0!==window.uiAutocompleteL10n&&(s=0,n=gc.i18n._x(",","tag delimiter")||",",u.fn.gcTagsSuggest=function(t){var i,o,a=u(this);if(!a.length)return this;var r=(t=t||{}).taxonomy||a.attr("data-gc-taxonomy")||"post_tag";return delete t.taxonomy,t=u.extend({source:function(t,n){var e;o===t.term?n(i):(e=c(t.term).pop(),u.get(window.ajaxurl,{action:"ajax-tag-search",tax:r,q:e}).always(function(){a.removeClass("ui-autocomplete-loading")}).done(function(t){var e,o=[];if(t){for(e in t=t.split("\n")){var a=++s;o.push({id:a,name:t[e]})}n(i=o)}else n(o)}),o=t.term)},focus:function(t,e){a.attr("aria-activedescendant","gc-tags-autocomplete-"+e.item.id),t.preventDefault()},select:function(t,e){var o=c(a.val());return o.pop(),o.push(e.item.name,""),a.val(o.join(n+" ")),u.ui.keyCode.TAB===t.keyCode?(window.gc.a11y.speak(gc.i18n.__("\u5df2\u9009\u53d6\u6807\u7b7e\u9879\u76ee\u3002"),"assertive"),t.preventDefault()):u.ui.keyCode.ENTER===t.keyCode&&(window.tagBox&&(window.tagBox.userAction="add",window.tagBox.flushTags(u(this).closest(".tagsdiv"))),t.preventDefault(),t.stopPropagation()),!1},open:function(){a.attr("aria-expanded","true")},close:function(){a.attr("aria-expanded","false")},minLength:2,position:{my:"left top+2",at:"left bottom",collision:"none"},messages:{noResults:window.uiAutocompleteL10n.noResults,results:function(t){return 1<t?window.uiAutocompleteL10n.manyResults.replace("%d",t):window.uiAutocompleteL10n.oneResult}}},t),a.on("keydown",function(){a.removeAttr("aria-activedescendant")}),a.autocomplete(t),a.autocomplete("instance")&&(a.autocomplete("instance")._renderItem=function(t,e){return u('<li role="option" id="gc-tags-autocomplete-'+e.id+'">').text(e.name).appendTo(t)},a.attr({role:"combobox","aria-autocomplete":"list","aria-expanded":"false","aria-owns":a.autocomplete("widget").attr("id")}).on("focus",function(){c(a.val()).pop()&&a.autocomplete("search")}),a.autocomplete("widget").addClass("gc-tags-autocomplete").attr("role","listbox").removeAttr("tabindex").on("menufocus",function(t,e){e.item.attr("aria-selected","true")}).on("menublur",function(){u(this).find('[aria-selected="true"]').removeAttr("aria-selected")})),this})}(jQuery);