window.addEventListener("DOMContentLoaded",(()=>{const e="gc-block-search__searchfield-hidden";Array.from(document.getElementsByClassName("gc-block-search__button-behavior-expand")).forEach((t=>{const r=t.querySelector(".gc-block-search__input"),a=t.querySelector(".gc-block-search__button"),i=t.querySelector(".gc-block-search__label"),c=a.getAttribute("aria-label"),s=r.getAttribute("id"),o=i=>i?(r.removeAttribute("aria-hidden"),r.removeAttribute("tabindex"),a.removeAttribute("aria-expanded"),a.removeAttribute("aria-controls"),a.setAttribute("type","submit"),a.setAttribute("aria-label","Submit Search"),t.classList.remove(e)):(a.removeAttribute("type"),r.setAttribute("aria-hidden","true"),r.setAttribute("tabindex","-1"),a.setAttribute("aria-expanded","false"),a.setAttribute("aria-controls",s),a.setAttribute("aria-label",c),t.classList.add(e)),d=e=>e.target.closest(".gc-block-search")?"Escape"===e.key?(a.focus(),o(!1)):void 0:o(!1),n=a=>{t.classList.contains(e)&&(a.preventDefault(),r.focus(),o(!0))};a.removeAttribute("type"),r.addEventListener("keydown",(e=>{d(e)})),a.addEventListener("click",n),a.addEventListener("keydown",(e=>{d(e)})),i&&i.addEventListener("click",n),document.body.addEventListener("click",d)}))}));