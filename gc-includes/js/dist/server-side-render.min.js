/*! This file is auto-generated */
this.gc=this.gc||{},this.gc.serverSideRender=function(e){var t={};function n(r){if(t[r])return t[r].exports;var c=t[r]={i:r,l:!1,exports:{}};return e[r].call(c.exports,c,c.exports,n),c.l=!0,c.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(r,c,function(t){return e[t]}.bind(null,c));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="lezw")}({IgLd:function(e,t){e.exports=window.gc.data},JWwu:function(e,t){e.exports=window.gc.deprecated},YLtl:function(e,t){e.exports=window.lodash},dMTb:function(e,t){e.exports=window.gc.compose},ewfG:function(e,t){e.exports=window.gc.element},jd0n:function(e,t){e.exports=window.gc.components},lezw:function(e,t,n){"use strict";n.r(t);var r=n("wx14"),c=n("ewfG"),o=n("IgLd"),u=n("JWwu"),s=n.n(u),l=n("YLtl"),i=n("dMTb"),a=n("z4sU"),d=n("xuem"),f=n.n(d),b=n("zP/e"),p=n("jd0n"),O=n("n68F");function j(e){let{className:t}=e;return Object(c.createElement)(p.Placeholder,{className:t},Object(a.__)("区块渲染为空。"))}function m(e){let{response:t,className:n}=e;const r=Object(a.sprintf)(Object(a.__)("载入区块时发生错误：%s"),t.errorMsg);return Object(c.createElement)(p.Placeholder,{className:n},r)}function w(e){let{children:t,showLoader:n}=e;return Object(c.createElement)("div",{style:{position:"relative"}},n&&Object(c.createElement)("div",{style:{position:"absolute",top:"50%",left:"50%",marginTop:"-9px",marginLeft:"-9px"}},Object(c.createElement)(p.Spinner,null)),Object(c.createElement)("div",{style:{opacity:n?"0.3":1}},t))}function g(e){const{attributes:t,block:n,className:o,httpMethod:u="GET",urlQueryArgs:s,EmptyResponsePlaceholder:a=j,ErrorResponsePlaceholder:d=m,LoadingResponsePlaceholder:p=w}=e,g=Object(c.useRef)(!0),[v,h]=Object(c.useState)(!1),y=Object(c.useRef)(),[x,E]=Object(c.useState)(null),P=Object(i.usePrevious)(e),[S,T]=Object(c.useState)(!1);function _(){if(!g.current)return;T(!0);const e=t&&Object(O.__experimentalSanitizeBlockAttributes)(n,t),r="POST"===u,c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(b.addQueryArgs)("/gc/v2/block-renderer/"+e,{context:"edit",...null!==t?{attributes:t}:{},...n})}(n,r?null:null!=e?e:null,s),o=r?{attributes:null!=e?e:null}:null,l=y.current=f()({path:c,data:o,method:r?"POST":"GET"}).then(e=>{g.current&&l===y.current&&e&&E(e.rendered)}).catch(e=>{g.current&&l===y.current&&E({error:!0,errorMsg:e.message})}).finally(()=>{g.current&&l===y.current&&T(!1)});return l}const M=Object(i.useDebounce)(_,500);Object(c.useEffect)(()=>()=>{g.current=!1},[]),Object(c.useEffect)(()=>{void 0===P?_():Object(l.isEqual)(P,e)||M()}),Object(c.useEffect)(()=>{if(!S)return;const e=setTimeout(()=>{h(!0)},1e3);return()=>clearTimeout(e)},[S]);const R=!!x,L=""===x,z=null==x?void 0:x.error;return S?Object(c.createElement)(p,Object(r.a)({},e,{showLoader:v}),R&&Object(c.createElement)(c.RawHTML,{className:o},x)):L||!R?Object(c.createElement)(a,e):z?Object(c.createElement)(d,Object(r.a)({response:x},e)):Object(c.createElement)(c.RawHTML,{className:o},x)}const v={},h=Object(o.withSelect)(e=>{const t=e("core/editor");if(t){const e=t.getCurrentPostId();if(e&&"number"==typeof e)return{currentPostId:e}}return v})(e=>{let{urlQueryArgs:t=v,currentPostId:n,...o}=e;const u=Object(c.useMemo)(()=>n?{post_id:n,...t}:t,[n,t]);return Object(c.createElement)(g,Object(r.a)({urlQueryArgs:u},o))});window&&window.gc&&window.gc.components&&(window.gc.components.ServerSideRender=Object(c.forwardRef)((e,t)=>(s()("gc.components.ServerSideRender",{since:"5.3",alternative:"gc.serverSideRender"}),Object(c.createElement)(h,Object(r.a)({},e,{ref:t})))));t.default=h},n68F:function(e,t){e.exports=window.gc.blocks},wx14:function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},xuem:function(e,t){e.exports=window.gc.apiFetch},z4sU:function(e,t){e.exports=window.gc.i18n},"zP/e":function(e,t){e.exports=window.gc.url}}).default;