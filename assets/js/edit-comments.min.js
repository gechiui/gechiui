/*! This file is auto-generated */
!function(C){var o,s,i=document.title,x=C("#dashboard_right_now").length,d=gc.i18n.__,w=function(t){t=parseInt(t.html().replace(/[^0-9]+/g,""),10);return isNaN(t)?0:t},r=function(t,e){var n="";if(!isNaN(e)){if(3<(e=e<1?"0":e.toString()).length){for(;3<e.length;)n=thousandsSeparator+e.substr(e.length-3)+n,e=e.substr(0,e.length-3);e+=n}t.html(e)}},b=function(n,t){var e=".post-com-count-"+t,a="comment-count-no-comments",o="comment-count-approved";k("span.approved-count",n),t&&(t=C("span."+o,e),e=C("span."+a,e),t.each(function(){var t=C(this),e=w(t)+n;0===(e=e<1?0:e)?t.removeClass(o).addClass(a):t.addClass(o).removeClass(a),r(t,e)}),e.each(function(){var t=C(this);0<n?t.removeClass(a).addClass(o):t.addClass(a).removeClass(o),r(t,n)}))},k=function(t,n){C(t).each(function(){var t=C(this),e=w(t)+n;r(t,e=e<1?0:e)})},E=function(t){x&&t&&t.i18n_comments_text&&C(".comment-count a","#dashboard_right_now").text(t.i18n_comments_text)},I=function(t){t&&t.i18n_moderation_text&&(C(".comments-in-moderation-text").text(t.i18n_moderation_text),x&&t.in_moderation&&C(".comment-mod-count","#dashboard_right_now")[0<t.in_moderation?"removeClass":"addClass"]("hidden"))},l=function(t){var e,n,a;s=s||new RegExp(d("\u8bc4\u8bba\uff08%s\uff09").replace("%s","\\([0-9"+thousandsSeparator+"]+\\)")+"?"),o=o||C("<div />"),e=i,1<=(a=(a=s.exec(document.title))?(a=a[0],o.html(a),w(o)+t):(o.html(0),t))?(r(o,a),(n=s.exec(document.title))&&(e=document.title.replace(n[0],d("\u8bc4\u8bba\uff08%s\uff09").replace("%s",o.text())+" "))):(n=s.exec(e))&&(e=e.replace(n[0],d("\u8bc4\u8bba"))),document.title=e},L=function(n,t){var e=".post-com-count-"+t,a="comment-count-no-pending",o="post-com-count-no-pending",s="comment-count-pending";x||l(n),C("span.pending-count").each(function(){var t=C(this),e=w(t)+n;e<1&&(e=0),t.closest(".awaiting-mod")[0===e?"addClass":"removeClass"]("count-0"),r(t,e)}),t&&(t=C("span."+s,e),e=C("span."+a,e),t.each(function(){var t=C(this),e=w(t)+n;0===(e=e<1?0:e)?(t.parent().addClass(o),t.removeClass(s).addClass(a)):(t.parent().removeClass(o),t.addClass(s).removeClass(a)),r(t,e)}),e.each(function(){var t=C(this);0<n?(t.parent().removeClass(o),t.removeClass(a).addClass(s)):(t.parent().addClass(o),t.addClass(a).removeClass(s)),r(t,n)}))};window.setCommentsList=function(){var i,g=0,v=C('input[name="_total"]',"#comments-form"),l=C('input[name="_per_page"]',"#comments-form"),c=C('input[name="_page"]',"#comments-form"),_=function(t,e,n){e<g||(n&&(g=e),v.val(t.toString()))},t=function(t,e){var n,a,o,s=C("#"+e.element);!0!==e.parsed&&(o=e.parsed.responses[0]),a=C("#replyrow"),n=C("#comment_ID",a).val(),a=C("#replybtn",a),s.is(".unapproved")?(e.data.id==n&&a.text(d("\u6279\u51c6\u5e76\u56de\u590d")),s.find(".row-actions span.view").addClass("hidden").end().find("div.comment_status").html("0")):(e.data.id==n&&a.text(d("\u56de\u590d")),s.find(".row-actions span.view").removeClass("hidden").end().find("div.comment_status").html("1")),i=C("#"+e.element).is("."+e.dimClass)?1:-1,o?(E(o.supplemental),I(o.supplemental),L(i,o.supplemental.postId),b(-1*i,o.supplemental.postId)):(L(i),b(-1*i))},e=function(t,e){var n,a,o,s,i=!1,r=C(t.target).attr("data-gc-lists");return t.data._total=v.val()||0,t.data._per_page=l.val()||0,t.data._page=c.val()||0,t.data._url=document.location.href,t.data.comment_status=C('input[name="comment_status"]',"#comments-form").val(),-1!=r.indexOf(":trash=1")?i="trash":-1!=r.indexOf(":spam=1")&&(i="spam"),i&&(n=r.replace(/.*?comment-([0-9]+).*/,"$1"),r=C("#comment-"+n),o=C("#"+i+"-undo-holder").html(),r.find(".check-column :checkbox").prop("checked",!1),r.siblings("#replyrow").length&&commentReply.cid==n&&commentReply.close(),a=r.is("tr")?(a=r.children(":visible").length,s=C(".author strong",r).text(),C('<tr id="undo-'+n+'" class="undo un'+i+'" style="display:none;"><td colspan="'+a+'">'+o+"</td></tr>")):(s=C(".comment-author",r).text(),C('<div id="undo-'+n+'" style="display:none;" class="undo un'+i+'">'+o+"</div>")),r.before(a),C("strong","#undo-"+n).text(s),(o=C(".undo a","#undo-"+n)).attr("href","comment.php?action=un"+i+"comment&c="+n+"&_gcnonce="+t.data._ajax_nonce),o.attr("data-gc-lists","delete:the-comment-list:comment-"+n+"::un"+i+"=1"),o.attr("class","vim-z vim-destructive aria-button-if-js"),C(".avatar",r).first().clone().prependTo("#undo-"+n+" ."+i+"-undo-inside"),o.on("click",function(t){t.preventDefault(),t.stopPropagation(),e.gcList.del(this),C("#undo-"+n).css({backgroundColor:"#ceb"}).fadeOut(350,function(){C(this).remove(),C("#comment-"+n).css("backgroundColor","").fadeIn(300,function(){C(this).show()})})})),t},n=function(t,e){var n,a,o,s,i=!0===e.parsed?{}:e.parsed.responses[0],r=!0===e.parsed?"":i.supplemental.status,l=!0===e.parsed?"":i.supplemental.postId,c=!0===e.parsed?"":i.supplemental,d=C(e.target).parent(),m=C("#"+e.element),p=m.hasClass("approved")&&!m.hasClass("unapproved"),u=m.hasClass("unapproved"),h=m.hasClass("spam"),m=m.hasClass("trash"),f=!1;E(c),I(c),d.is("span.undo")?(d.hasClass("unspam")?(n=-1,"trash"===r?a=1:"1"===r?s=1:"0"===r&&(o=1)):d.hasClass("untrash")&&(a=-1,"spam"===r?n=1:"1"===r?s=1:"0"===r&&(o=1)),f=!0):d.is("span.spam")?(p?s=-1:u?o=-1:m&&(a=-1),n=1):d.is("span.unspam")?(p?o=1:u?s=1:(m||h)&&(d.hasClass("approve")?s=1:d.hasClass("unapprove")&&(o=1)),n=-1):d.is("span.trash")?(p?s=-1:u?o=-1:h&&(n=-1),a=1):d.is("span.untrash")?(p?o=1:u?s=1:m&&(d.hasClass("approve")?s=1:d.hasClass("unapprove")&&(o=1)),a=-1):d.is("span.approve:not(.unspam):not(.untrash)")?o=-(s=1):d.is("span.unapprove:not(.unspam):not(.untrash)")?(s=-1,o=1):d.is("span.delete")&&(h?n=-1:m&&(a=-1)),o&&(L(o,l),k("span.all-count",o)),s&&(b(s,l),k("span.all-count",s)),n&&k("span.spam-count",n),a&&k("span.trash-count",a),("trash"===e.data.comment_status&&!w(C("span.trash-count"))||"spam"===e.data.comment_status&&!w(C("span.spam-count")))&&C("#delete_all").hide(),x||(c=v.val()?parseInt(v.val(),10):0,C(e.target).parent().is("span.undo")?c++:c--,c<0&&(c=0),"object"==typeof t?i.supplemental.total_items_i18n&&g<i.supplemental.time?((r=i.supplemental.total_items_i18n||"")&&(C(".displaying-num").text(r.replace("&nbsp;",String.fromCharCode(160))),C(".total-pages").text(i.supplemental.total_pages_i18n.replace("&nbsp;",String.fromCharCode(160))),C(".tablenav-pages").find(".next-page, .last-page").toggleClass("disabled",i.supplemental.total_pages==C(".current-page").val())),_(c,i.supplemental.time,!0)):i.supplemental.time&&_(c,i.supplemental.time,!1):_(c,t,!1)),theExtraList&&0!==theExtraList.length&&0!==theExtraList.children().length&&!f&&(theList.get(0).gcList.add(theExtraList.children(":eq(0):not(.no-items)").remove().clone()),y(),p=function(){C("#the-comment-list tr:visible").length||theList.get(0).gcList.add(theExtraList.find(".no-items").clone())},(u=C(":animated","#the-comment-list")).length?u.promise().done(p):p())},y=function(t){var e=C.query.get(),n=C(".total-pages").text(),a=C('input[name="_per_page"]',"#comments-form").val();e.paged||(e.paged=1),e.paged>n||(t?(theExtraList.empty(),e.number=Math.min(8,a)):(e.number=1,e.offset=Math.min(8,a)-1),e.no_placeholder=!0,e.paged++,!0===e.comment_type&&(e.comment_type=""),e=C.extend(e,{action:"fetch-list",list_args:list_args,_ajax_fetch_list_nonce:C("#_ajax_fetch_list_nonce").val()}),C.ajax({url:ajaxurl,global:!1,dataType:"json",data:e,success:function(t){theExtraList.get(0).gcList.add(t.rows)}}))};window.theExtraList=C("#the-extra-comment-list").gcList({alt:"",delColor:"none",addColor:"none"}),window.theList=C("#the-comment-list").gcList({alt:"",delBefore:e,dimAfter:t,delAfter:n,addColor:"none"}).on("gcListDelEnd",function(t,e){var n=C(e.target).attr("data-gc-lists"),e=e.element.replace(/[^0-9]+/g,"");-1==n.indexOf(":trash=1")&&-1==n.indexOf(":spam=1")||C("#undo-"+e).fadeIn(300,function(){C(this).show()})})},window.commentReply={cid:"",act:"",originalContent:"",init:function(){var t=C("#replyrow");C(".cancel",t).on("click",function(){return commentReply.revert()}),C(".save",t).on("click",function(){return commentReply.send()}),C("input#author-name, input#author-email, input#author-url",t).on("keypress",function(t){if(13==t.which)return commentReply.send(),t.preventDefault(),!1}),C("#the-comment-list .column-comment > p").on("dblclick",function(){commentReply.toggle(C(this).parent())}),C("#doaction, #post-query-submit").on("click",function(){0<C("#the-comment-list #replyrow").length&&commentReply.close()}),this.comments_listing=C('#comments-form > input[name="comment_status"]').val()||""},addEvents:function(t){t.each(function(){C(this).find(".column-comment > p").on("dblclick",function(){commentReply.toggle(C(this).parent())})})},toggle:function(t){"none"!==C(t).css("display")&&(C("#replyrow").parent().is("#com-reply")||window.confirm(d("\u4f60\u786e\u5b9a\u8981\u7f16\u8f91\u6b64\u8bc4\u8bba\u5417\uff1f\n\u60a8\u6240\u505a\u7684\u66f4\u6539\u5c06\u4e22\u5931\u3002")))&&C(t).find("button.vim-q").trigger("click")},revert:function(){if(C("#the-comment-list #replyrow").length<1)return!1;C("#replyrow").fadeOut("fast",function(){commentReply.close()})},close:function(){var t=C(),e=C("#replyrow");e.parent().is("#com-reply")||(this.cid&&(t=C("#comment-"+this.cid)),"edit-comment"===this.act&&t.fadeIn(300,function(){t.show().find(".vim-q").attr("aria-expanded","false").trigger("focus")}).css("backgroundColor",""),"replyto-comment"===this.act&&t.find(".vim-r").attr("aria-expanded","false").trigger("focus"),"undefined"!=typeof QTags&&QTags.closeAllTags("replycontent"),C("#add-new-comment").css("display",""),e.hide(),C("#com-reply").append(e),C("#replycontent").css("height","").val(""),C("#edithead input").val(""),C(".notice-error",e).addClass("hidden").find(".error").empty(),C(".spinner",e).removeClass("is-active"),this.cid="",this.originalContent="")},open:function(t,e,n){var a,o,s,i,r=C("#comment-"+t),l=r.height();return this.discardCommentChanges()&&(this.close(),this.cid=t,a=C("#replyrow"),o=C("#inline-"+t),s=this.act=("edit"==(n=n||"replyto")?"edit":"replyto")+"-comment",this.originalContent=C("textarea.comment",o).val(),i=C("> th:visible, > td:visible",r).length,a.hasClass("inline-edit-row")&&0!==i&&C("td",a).attr("colspan",i),C("#action",a).val(s),C("#comment_post_ID",a).val(e),C("#comment_ID",a).val(t),"edit"==n?(C("#author-name",a).val(C("div.author",o).text()),C("#author-email",a).val(C("div.author-email",o).text()),C("#author-url",a).val(C("div.author-url",o).text()),C("#status",a).val(C("div.comment_status",o).text()),C("#replycontent",a).val(C("textarea.comment",o).val()),C("#edithead, #editlegend, #savebtn",a).show(),C("#replyhead, #replybtn, #addhead, #addbtn",a).hide(),120<l&&(i=500<l?500:l,C("#replycontent",a).css("height",i+"px")),r.after(a).fadeOut("fast",function(){C("#replyrow").fadeIn(300,function(){C(this).show()})})):"add"==n?(C("#addhead, #addbtn",a).show(),C("#replyhead, #replybtn, #edithead, #editlegend, #savebtn",a).hide(),C("#the-comment-list").prepend(a),C("#replyrow").fadeIn(300)):(s=C("#replybtn",a),C("#edithead, #editlegend, #savebtn, #addhead, #addbtn",a).hide(),C("#replyhead, #replybtn",a).show(),r.after(a),r.hasClass("unapproved")?s.text(d("\u6279\u51c6\u5e76\u56de\u590d")):s.text(d("\u56de\u590d")),C("#replyrow").fadeIn(300,function(){C(this).show()})),setTimeout(function(){var t=C("#replyrow").offset().top,e=t+C("#replyrow").height(),n=window.pageYOffset||document.documentElement.scrollTop,a=document.documentElement.clientHeight||window.innerHeight||0;n+a-20<e?window.scroll(0,e-a+35):t-20<n&&window.scroll(0,t-35),C("#replycontent").trigger("focus").on("keyup",function(t){27==t.which&&commentReply.revert()})},600)),!1},send:function(){var e={};C("#replysubmit .error-notice").addClass("hidden"),C("#replysubmit .spinner").addClass("is-active"),C("#replyrow input").not(":button").each(function(){var t=C(this);e[t.attr("name")]=t.val()}),e.content=C("#replycontent").val(),e.id=e.comment_post_ID,e.comments_listing=this.comments_listing,e.p=C('[name="p"]').val(),C("#comment-"+C("#comment_ID").val()).hasClass("unapproved")&&(e.approve_parent=1),C.ajax({type:"POST",url:ajaxurl,data:e,success:function(t){commentReply.show(t)},error:function(t){commentReply.error(t)}})},show:function(t){var e,n,a,o=this;return"string"==typeof t?(o.error({responseText:t}),!1):(t=gcAjax.parseAjaxResponse(t)).errors?(o.error({responseText:gcAjax.broken}),!1):(o.revert(),e="#comment-"+(t=t.responses[0]).id,"edit-comment"==o.act&&C(e).remove(),void(t.supplemental.parent_approved&&(a=C("#comment-"+t.supplemental.parent_approved),L(-1,t.supplemental.parent_post_id),"moderated"==this.comments_listing)?a.animate({backgroundColor:"#CCEEBB"},400,function(){a.fadeOut()}):(t.supplemental.i18n_comments_text&&(E(t.supplemental),I(t.supplemental),b(1,t.supplemental.parent_post_id),k("span.all-count",1)),t.data=t.data||"",t=t.data.toString().trim(),C(t).hide(),C("#replyrow").after(t),e=C(e),o.addEvents(e),n=e.hasClass("unapproved")?"#FFFFE0":e.closest(".widefat, .postbox").css("backgroundColor"),e.animate({backgroundColor:"#CCEEBB"},300).animate({backgroundColor:n},300,function(){a&&a.length&&a.animate({backgroundColor:"#CCEEBB"},300).animate({backgroundColor:n},300).removeClass("unapproved").addClass("approved").find("div.comment_status").html("1")}))))},error:function(t){var e=t.statusText,n=C("#replysubmit .notice-error"),a=n.find(".error");C("#replysubmit .spinner").removeClass("is-active"),(e=t.responseText?t.responseText.replace(/<.[^<>]*?>/g,""):e)&&(n.removeClass("hidden"),a.html(e))},addcomment:function(t){var e=this;C("#add-new-comment").fadeOut(200,function(){e.open(0,t,"add"),C("table.comments-box").css("display",""),C("#no-comments").remove()})},discardCommentChanges:function(){var t=C("#replyrow");return this.originalContent===C("#replycontent",t).val()||window.confirm(d("\u4f60\u786e\u5b9a\u8981\u8fd9\u4e48\u505a\u5417\uff1f\n\u60a8\u6240\u505a\u7684\u8bc4\u8bba\u66f4\u6539\u5c06\u4e22\u5931\u3002"))}},C(function(){var t,e,n,a;setCommentsList(),commentReply.init(),C(document).on("click","span.delete a.delete",function(t){t.preventDefault()}),void 0!==C.table_hotkeys&&(t=function(n){return function(){var t="next"==n?"first":"last",e=C(".tablenav-pages ."+n+"-page:not(.disabled)");e.length&&(window.location=e[0].href.replace(/\&hotkeys_highlight_(first|last)=1/g,"")+"&hotkeys_highlight_"+t+"=1")}},e=function(t,e){window.location=C("span.edit a",e).attr("href")},n=function(){C("#cb-select-all-1").data("gc-toggle",1).trigger("click").removeData("gc-toggle")},a=function(e){return function(){var t=C('select[name="action"]');C('option[value="'+e+'"]',t).prop("selected",!0),C("#doaction").trigger("click")}},C.table_hotkeys(C("table.widefat"),["a","u","s","d","r","q","z",["e",e],["shift+x",n],["shift+a",a("approve")],["shift+s",a("spam")],["shift+d",a("delete")],["shift+t",a("trash")],["shift+z",a("untrash")],["shift+u",a("unapprove")]],{highlight_first:adminCommentsSettings.hotkeys_highlight_first,highlight_last:adminCommentsSettings.hotkeys_highlight_last,prev_page_link_cb:t("prev"),next_page_link_cb:t("next"),hotkeys_opts:{disableInInput:!0,type:"keypress",noDisable:'.check-column input[type="checkbox"]'},cycle_expr:"#the-comment-list tr",start_row_index:0})),C("#the-comment-list").on("click",".comment-inline",function(){var t=C(this),e="replyto";void 0!==t.data("action")&&(e=t.data("action")),C(this).attr("aria-expanded","true"),commentReply.open(t.data("commentId"),t.data("postId"),e)})})}(jQuery);