/*! This file is auto-generated */
window.autosave=function(){return!0},function(s,a){function n(){T={post_title:s("#title").val()||"",content:s("#content").val()||"",excerpt:s("#excerpt").val()||""},_=r(T)}function i(t){var e=(new Date).getTime(),n=[],o=u();return o&&o.isDirty()&&!o.isHidden()&&H<e-3e3&&(o.save(),H=e),o={post_id:s("#post_ID").val()||0,post_type:s("#post_type").val()||"",post_author:s("#post_author").val()||"",post_title:s("#title").val()||"",content:s("#content").val()||"",excerpt:s("#excerpt").val()||""},"local"===t||(s('input[id^="in-category-"]:checked').each(function(){n.push(this.value)}),o.catslist=n.join(","),(e=s("#post_name").val())&&(o.post_name=e),(t=s("#parent_id").val())&&(o.parent_id=t),s("#comment_status").prop("checked")&&(o.comment_status="open"),s("#ping_status").prop("checked")&&(o.ping_status="open"),"1"===s("#auto_draft").val()&&(o.auto_draft="1")),o}function r(t){return"object"==typeof t?(t.post_title||"")+"::"+(t.content||"")+"::"+(t.excerpt||""):(s("#title").val()||"")+"::"+(s("#content").val()||"")+"::"+(s("#excerpt").val()||"")}function c(){j.trigger("autosave-disable-buttons"),setTimeout(o,5e3)}function o(){j.trigger("autosave-enable-buttons")}function u(){return"undefined"!=typeof tinymce&&tinymce.get("content")}function l(){h=!0,a.clearTimeout(e),e=a.setTimeout(function(){h=!1},1e4)}function v(){y=(new Date).getTime()+1e3*autosaveL10n.autosaveInterval||6e4}function g(){var t=!1;return t=k&&S?(t=sessionStorage.getItem("gc-autosave-"+S))?JSON.parse(t):{}:t}function p(){var t=g();return t&&D&&t["post_"+D]||!1}function f(t){var e=g();if(!e||!D)return!1;if(t)e["post_"+D]=t;else{if(!e.hasOwnProperty("post_"+D))return!1;delete e["post_"+D]}return t=e,!(!k||!S)&&(e="gc-autosave-"+S,sessionStorage.setItem(e,JSON.stringify(t)),null!==sessionStorage.getItem(e))}function d(t){var e;return!(I||!k)&&(t?(e=p()||{},s.extend(e,t)):e=i("local"),(t=r(e))!==(C=void 0===C?_:C)&&(e.save_time=(new Date).getTime(),e.status=s("#post_status").val()||"",(e=f(e))&&(C=t),e))}function m(t,e){function n(t){return t.toString().replace(/[\x20\t\r\n\f]+/g,"")}return n(t||"")===n(e||"")}function t(){var t,e,n,o=p(),a=gcCookies.get("gc-saving-post"),i=s("#has-newer-autosave").parent(".notice"),c=s(".gc-header-end");if(a===D+"-saved")return gcCookies.remove("gc-saving-post"),void f(!1);o&&(a=s("#content").val()||"",t=s("#title").val()||"",e=s("#excerpt").val()||"",m(a,o.content)&&m(t,o.post_title)&&m(e,o.excerpt)||(c.length||(c=s(".wrap h1, .wrap h2").first()),n=s("#local-storage-notice").insertAfter(c).addClass("notice-warning"),i.length?i.slideUp(150,function(){n.slideDown(150)}):n.slideDown(200),n.find(".restore-backup").on("click.autosave-local",function(){!function(t){var e;if(t)return C=r(t),s("#title").val()!==t.post_title&&s("#title").trigger("focus").val(t.post_title||""),s("#excerpt").val(t.excerpt||""),(e=u())&&!e.isHidden()&&"undefined"!=typeof switchEditors?(e.settings.gcautop&&t.content&&(t.content=switchEditors.gcautop(t.content)),e.undoManager.transact(function(){e.setContent(t.content||""),e.nodeChanged()})):(s("#content-html").trigger("click"),s("#content").trigger("focus"),document.execCommand("selectAll"),document.execCommand("insertText",!1,t.content||""))}(o),n.fadeTo(250,0,function(){n.slideUp(150)})})))}var _,h,e,x,w,y,b,S,D,k,C,I,T,H,j;a.gc=a.gc||{},a.gc.autosave=(T={},H=0,j=s(document),s(function(){n()}).on("tinymce-editor-init.autosave",function(t,e){"content"!==e.id&&"excerpt"!==e.id||a.setTimeout(function(){e.save(),n()},1e3)}),{getPostData:i,getCompareString:r,disableButtons:c,enableButtons:o,local:(I=!1,S=void 0!==a.autosaveL10n&&a.autosaveL10n.blog_id,function(){var t=Math.random().toString(),e=!1;try{a.sessionStorage.setItem("gc-test",t),e=a.sessionStorage.getItem("gc-test")===t,a.sessionStorage.removeItem("gc-test")}catch(t){}return k=e}()&&S&&(s("#content").length||s("#excerpt").length)&&s(function(){D=s("#post_ID").val()||0,s("#gc-content-wrap").hasClass("tmce-active")?j.on("tinymce-editor-init.autosave",function(){a.setTimeout(function(){t()},1500)}):t(),a.setInterval(d,15e3),s("form#post").on("submit.autosave-local",function(){var t=u(),e=s("#post_ID").val()||0,t=(t&&!t.isHidden()?t.on("submit",function(){d({post_title:s("#title").val()||"",content:s("#content").val()||"",excerpt:s("#excerpt").val()||""})}):d({post_title:s("#title").val()||"",content:s("#content").val()||"",excerpt:s("#excerpt").val()||""}),"https:"===a.location.protocol);gcCookies.set("gc-saving-post",e+"-check",86400,!1,!1,t)})}),{hasStorage:k,getSavedPostData:p,save:d,suspend:function(){I=!0},resume:function(){I=!1}}),server:(y=0,b=!1,s(function(){v()}).on("heartbeat-send.autosave",function(t,e){var n,o=!(b||h||!a.autosave())&&(!((new Date).getTime()<y)&&((o=r(n=i()))!==(w=void 0===w?_:w)&&(x=o,l(),c(),j.trigger("gccountwords",[n.content]).trigger("before-autosave",[n]),n._gcnonce=s("#_gcnonce").val()||"",n)));o&&(e.gc_autosave=o)}).on("heartbeat-tick.autosave",function(t,e){e.gc_autosave&&(e=e.gc_autosave,v(),h=!1,w=x,x="",j.trigger("after-autosave",[e]),o(),e.success&&s("#auto_draft").val(""))}).on("heartbeat-connection-lost.autosave",function(t,e,n){"timeout"!==e&&603!==n||(e=s("#lost-connection-notice"),gc.autosave.local.hasStorage||e.find(".hide-if-no-sessionstorage").hide(),e.show(),c())}).on("heartbeat-connection-restored.autosave",function(){s("#lost-connection-notice").hide(),o()}),{tempBlockSave:l,triggerSave:function(){y=0,gc.heartbeat.connectNow()},postChanged:function(){var n=!1;return a.tinymce?(a.tinymce.each(["content","excerpt"],function(t){var e=a.tinymce.get(t);if(!e||e.isHidden()){if((s("#"+t).val()||"")!==T[t])return!(n=!0)}else if(e.isDirty())return!(n=!0)}),n=(s("#title").val()||"")!==T.post_title||n):r()!==_},suspend:function(){b=!0},resume:function(){b=!1}})})}(jQuery,window);