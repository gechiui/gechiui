/*! This file is auto-generated */
!function(F,I){"use strict";var L=I(F),M=I(document),V=I("#gcadminbar"),N=I("#gcfooter");I(function(){var h,e,u=I("#postdivrich"),p=I("#gc-content-wrap"),m=I("#gc-content-editor-tools"),w=I(),H=I(),b=I("#ed_toolbar"),v=I("#content"),i=v[0],o=0,x=I("#post-status-info"),y=I(),T=I(),B=I("#side-sortables"),C=I("#postbox-container-1"),S=I("#post-body"),O=F.gc.editor&&F.gc.editor.fullscreen,r=function(){},l=function(){},z=!1,E=!1,k=!1,A=!1,W=0,K=56,R=20,Y=300,c=p.hasClass("tmce-active")?"tinymce":"html",U=!!parseInt(F.getUserSetting("hidetb"),10),P={windowHeight:0,windowWidth:0,adminBarHeight:0,toolsHeight:0,menuBarHeight:0,visualTopHeight:0,textTopHeight:0,bottomHeight:0,statusBarHeight:0,sideSortablesHeight:0},f=F._.throttle(function(){var t=F.scrollX||document.documentElement.scrollLeft,e=F.scrollY||document.documentElement.scrollTop,o=parseInt(i.style.height,10);i.style.height=Y+"px",i.scrollHeight>Y&&(i.style.height=i.scrollHeight+"px"),void 0!==t&&F.scrollTo(t,e),i.scrollHeight<o&&g()},300);function D(){var t=i.value.length;h&&!h.isHidden()||!h&&"tinymce"===c||(t<o?f():parseInt(i.style.height,10)<i.scrollHeight&&(i.style.height=Math.ceil(i.scrollHeight)+"px",g()),o=t)}function g(t){var e,o,i,n,s,c,f,a,d,u,r,l,g;O&&O.settings.visible||(e=L.scrollTop(),o="scroll"!==(u=t&&t.type),i=h&&!h.isHidden(),n=Y,s=S.offset().top,c=p.width(),!o&&P.windowHeight||(g=L.width(),(P={windowHeight:L.height(),windowWidth:g,adminBarHeight:600<g?V.outerHeight():0,toolsHeight:m.outerHeight()||0,menuBarHeight:y.outerHeight()||0,visualTopHeight:w.outerHeight()||0,textTopHeight:b.outerHeight()||0,bottomHeight:x.outerHeight()||0,statusBarHeight:T.outerHeight()||0,sideSortablesHeight:B.height()||0}).menuBarHeight<3&&(P.menuBarHeight=0)),i||"resize"!==u||D(),g=i?(f=w,l=H,P.visualTopHeight):(f=b,l=v,P.textTopHeight),(i||f.length)&&(u=f.parent().offset().top,r=l.offset().top,l=l.outerHeight(),(i?Y+g:Y+20)+5<l?((!z||o)&&e>=u-P.toolsHeight-P.adminBarHeight&&e<=u-P.toolsHeight-P.adminBarHeight+l-n?(z=!0,m.css({position:"fixed",top:P.adminBarHeight,width:c}),i&&y.length&&y.css({position:"fixed",top:P.adminBarHeight+P.toolsHeight,width:c-2-(i?0:f.outerWidth()-f.width())}),f.css({position:"fixed",top:P.adminBarHeight+P.toolsHeight+P.menuBarHeight,width:c-2-(i?0:f.outerWidth()-f.width())})):(z||o)&&(e<=u-P.toolsHeight-P.adminBarHeight?(z=!1,m.css({position:"absolute",top:0,width:c}),i&&y.length&&y.css({position:"absolute",top:0,width:c-2}),f.css({position:"absolute",top:P.menuBarHeight,width:c-2-(i?0:f.outerWidth()-f.width())})):e>=u-P.toolsHeight-P.adminBarHeight+l-n&&(z=!1,m.css({position:"absolute",top:l-n,width:c}),i&&y.length&&y.css({position:"absolute",top:l-n,width:c-2}),f.css({position:"absolute",top:l-n+P.menuBarHeight,width:c-2-(i?0:f.outerWidth()-f.width())}))),(!E||o&&U)&&e+P.windowHeight<=r+l+P.bottomHeight+P.statusBarHeight+1?t&&0<t.deltaHeight&&t.deltaHeight<100?F.scrollBy(0,t.deltaHeight):i&&U&&(E=!0,T.css({position:"fixed",bottom:P.bottomHeight,visibility:"",width:c-2}),x.css({position:"fixed",bottom:0,width:c})):(!U&&E||(E||o)&&e+P.windowHeight>r+l+P.bottomHeight+P.statusBarHeight-1)&&(E=!1,T.attr("style",U?"":"visibility: hidden;"),x.attr("style",""))):o&&(m.css({position:"absolute",top:0,width:c}),i&&y.length&&y.css({position:"absolute",top:0,width:c-2}),f.css({position:"absolute",top:P.menuBarHeight,width:c-2-(i?0:f.outerWidth()-f.width())}),T.attr("style",U?"":"visibility: hidden;"),x.attr("style","")),C.width()<300&&600<P.windowWidth&&M.height()>B.height()+s+120&&P.windowHeight<l?(P.sideSortablesHeight+K+R>P.windowHeight||k||A?e+K<=s?(B.attr("style",""),k=A=!1):W<e?k?(k=!1,a=B.offset().top-P.adminBarHeight,(d=N.offset().top)<a+P.sideSortablesHeight+R&&(a=d-P.sideSortablesHeight-12),B.css({position:"absolute",top:a,bottom:""})):!A&&P.sideSortablesHeight+B.offset().top+R<e+P.windowHeight&&(A=!0,B.css({position:"fixed",top:"auto",bottom:R})):e<W&&(A?(A=!1,a=B.offset().top-R,(d=N.offset().top)<a+P.sideSortablesHeight+R&&(a=d-P.sideSortablesHeight-12),B.css({position:"absolute",top:a,bottom:""})):!k&&B.offset().top>=e+K&&(k=!0,B.css({position:"fixed",top:K,bottom:""}))):(s-K<=e?B.css({position:"fixed",top:K}):B.attr("style",""),k=A=!1),W=e):(B.attr("style",""),k=A=!1),o&&(p.css({paddingTop:P.toolsHeight}),i?H.css({paddingTop:P.visualTopHeight+P.menuBarHeight}):v.css({marginTop:P.textTopHeight}))))}function n(){D(),g()}function X(t){for(var e=1;e<6;e++)setTimeout(t,500*e)}function t(){F.pageYOffset&&130<F.pageYOffset&&F.scrollTo(F.pageXOffset,0),u.addClass("gc-editor-expand"),L.on("scroll.editor-expand resize.editor-expand",function(t){g(t.type),clearTimeout(e),e=setTimeout(g,100)}),M.on("gc-collapse-menu.editor-expand postboxes-columnchange.editor-expand editor-classchange.editor-expand",g).on("postbox-toggled.editor-expand postbox-moved.editor-expand",function(){!k&&!A&&F.pageYOffset>K&&(A=!0,F.scrollBy(0,-1),g(),F.scrollBy(0,1)),g()}).on("gc-window-resized.editor-expand",function(){h&&!h.isHidden()?h.execCommand("gcAutoResize"):D()}),v.on("focus.editor-expand input.editor-expand propertychange.editor-expand",D),r(),O&&O.pubsub.subscribe("hidden",n),h&&(h.settings.gc_autoresize_on=!0,h.execCommand("gcAutoResizeOn"),h.isHidden()||h.execCommand("gcAutoResize")),h&&!h.isHidden()||D(),g(),M.trigger("editor-expand-on")}function s(){var t=parseInt(F.getUserSetting("ed_size",300),10);t<50?t=50:5e3<t&&(t=5e3),F.pageYOffset&&130<F.pageYOffset&&F.scrollTo(F.pageXOffset,0),u.removeClass("gc-editor-expand"),L.off(".editor-expand"),M.off(".editor-expand"),v.off(".editor-expand"),l(),O&&O.pubsub.unsubscribe("hidden",n),I.each([w,b,m,y,x,T,p,H,v,B],function(t,e){e&&e.attr("style","")}),z=E=k=A=!1,h&&(h.settings.gc_autoresize_on=!1,h.execCommand("gcAutoResizeOff"),h.isHidden()||(v.hide(),t&&h.theme.resizeTo(null,t))),t&&v.height(t),M.trigger("editor-expand-off")}M.on("tinymce-editor-init.editor-expand",function(t,c){var f=F.tinymce.util.VK,e=_.debounce(function(){I(".mce-floatpanel:hover").length||F.tinymce.ui.FloatPanel.hideAll(),I(".mce-tooltip").hide()},1e3,!0);function o(t){t=t.keyCode;t<=47&&t!==f.SPACEBAR&&t!==f.ENTER&&t!==f.DELETE&&t!==f.BACKSPACE&&t!==f.UP&&t!==f.LEFT&&t!==f.DOWN&&t!==f.UP||91<=t&&t<=93||112<=t&&t<=123||144===t||145===t||i(t)}function i(t){var e,o,i,n,s=function(){var t,e,o=c.selection.getNode();if(c.gc&&c.gc.getView&&(t=c.gc.getView(o)))e=t.getBoundingClientRect();else{t=c.selection.getRng();try{e=t.getClientRects()[0]}catch(t){}e=e||o.getBoundingClientRect()}return!!e.height&&e}();s&&(o=(e=s.top+c.iframeElement.getBoundingClientRect().top)+s.height,e-=50,o+=50,i=P.adminBarHeight+P.toolsHeight+P.menuBarHeight+P.visualTopHeight,(n=P.windowHeight-(U?P.bottomHeight+P.statusBarHeight:0))-i<s.height||(e<i&&(t===f.UP||t===f.LEFT||t===f.BACKSPACE)?F.scrollTo(F.pageXOffset,e+F.pageYOffset-i):n<o&&F.scrollTo(F.pageXOffset,o+F.pageYOffset-n)))}function n(t){t.state||g()}function s(){L.on("scroll.mce-float-panels",e),setTimeout(function(){c.execCommand("gcAutoResize"),g()},300)}function a(){L.off("scroll.mce-float-panels"),setTimeout(function(){var t=p.offset().top;F.pageYOffset>t&&F.scrollTo(F.pageXOffset,t-P.adminBarHeight),D(),g()},100),g()}function d(){U=!U}"content"===c.id&&((h=c).settings.autoresize_min_height=Y,w=p.find(".mce-toolbar-grp"),H=p.find(".mce-edit-area"),T=p.find(".mce-statusbar"),y=p.find(".mce-menubar"),r=function(){c.on("keyup",o),c.on("show",s),c.on("hide",a),c.on("gc-toolbar-toggle",d),c.on("setcontent gc-autoresize gc-toolbar-toggle",g),c.on("undo redo",i),c.on("FullscreenStateChanged",n),L.off("scroll.mce-float-panels").on("scroll.mce-float-panels",e)},l=function(){c.off("keyup",o),c.off("show",s),c.off("hide",a),c.off("gc-toolbar-toggle",d),c.off("setcontent gc-autoresize gc-toolbar-toggle",g),c.off("undo redo",i),c.off("FullscreenStateChanged",n),L.off("scroll.mce-float-panels")},u.hasClass("gc-editor-expand")&&(r(),X(g)))}),u.hasClass("gc-editor-expand")&&(t(),p.hasClass("html-active")&&X(function(){g(),D()})),I("#adv-settings .editor-expand").show(),I("#editor-expand-toggle").on("change.editor-expand",function(){I(this).prop("checked")?(t(),F.setUserSetting("editor_expand","on")):(s(),F.setUserSetting("editor_expand","off"))}),F.editorExpand={on:t,off:s}}),I(function(){var i,n,t,s,c,f,a,d,u,r,l,g=I(document.body),o=I("#gccontent"),h=I("#post-body-content"),e=I("#title"),p=I("#content"),m=I(document.createElement("DIV")),w=I("#edit-slug-box"),H=w.find("a").add(w.find("button")).add(w.find("input")),Y=I("#adminmenuwrap"),b=(I(),I(),"on"===F.getUserSetting("editor_expand","on")),v=!!b&&"on"===F.getUserSetting("post_dfw"),x=0,y=0,T=20;function B(){(s=h.offset()).right=s.left+h.outerWidth(),s.bottom=s.top+h.outerHeight()}function C(){b||(b=!0,M.trigger("dfw-activate"),p.on("keydown.focus-shortcut",R))}function S(){b&&(z(),b=!1,M.trigger("dfw-deactivate"),p.off("keydown.focus-shortcut"))}function O(){!v&&b&&(v=!0,p.on("keydown.focus",_),e.add(p).on("blur.focus",A),_(),F.setUserSetting("post_dfw","on"),M.trigger("dfw-on"))}function z(){v&&(v=!1,e.add(p).off(".focus"),k(),h.off(".focus"),F.setUserSetting("post_dfw","off"),M.trigger("dfw-off"))}function E(){(v?z:O)()}function _(t){var e,o=t&&t.keyCode;F.navigator.platform&&(e=-1<F.navigator.platform.indexOf("Mac")),27===o||87===o&&t.altKey&&(!e&&t.shiftKey||e&&t.ctrlKey)?k(t):t&&(t.metaKey||t.ctrlKey&&!t.altKey||t.altKey&&t.shiftKey||o&&(o<=47&&8!==o&&13!==o&&32!==o&&46!==o||91<=o&&o<=93||112<=o&&o<=135||144<=o&&o<=150||224<=o))||(i||(i=!0,clearTimeout(r),r=setTimeout(function(){m.show()},600),h.css("z-index",9998),m.on("mouseenter.focus",function(){B(),L.on("scroll.focus",function(){var t=F.pageYOffset;d&&a&&d!==t&&(a<s.top-T||a>s.bottom+T)&&k(),d=t})}).on("mouseleave.focus",function(){c=f=null,x=y=0,L.off("scroll.focus")}).on("mousemove.focus",function(t){var e=t.clientX,t=t.clientY,o=F.pageYOffset,i=F.pageXOffset;if(c&&f&&(e!==c||t!==f))if(t<=f&&t<s.top-o||f<=t&&t>s.bottom-o||e<=c&&e<s.left-i||c<=e&&e>s.right-i){if(x+=Math.abs(c-e),y+=Math.abs(f-t),(t<=s.top-T-o||t>=s.bottom+T-o||e<=s.left-T-i||e>=s.right+T-i)&&(10<x||10<y))return k(),c=f=null,void(x=y=0)}else x=y=0;c=e,f=t}).on("touchstart.focus",function(t){t.preventDefault(),k()}),h.off("mouseenter.focus"),u&&(clearTimeout(u),u=null),g.addClass("focus-on").removeClass("focus-off")),!n&&i&&(n=!0,V.on("mouseenter.focus",function(){V.addClass("focus-off")}).on("mouseleave.focus",function(){V.removeClass("focus-off")})),W())}function k(t){i&&(i=!1,clearTimeout(r),r=setTimeout(function(){m.hide()},200),h.css("z-index",""),m.off("mouseenter.focus mouseleave.focus mousemove.focus touchstart.focus"),void 0===t&&h.on("mouseenter.focus",function(){(I.contains(h.get(0),document.activeElement)||l)&&_()}),u=setTimeout(function(){u=null,h.off("mouseenter.focus")},1e3),g.addClass("focus-off").removeClass("focus-on")),n&&(n=!1,V.off(".focus")),K()}function A(){setTimeout(function(){var t=document.activeElement.compareDocumentPosition(h.get(0));function e(t){return I.contains(t.get(0),document.activeElement)}2!==t&&4!==t||!(e(Y)||e(o)||e(N))||k()},0)}function W(){t||!i||w.find(":focus").length||(t=!0,w.stop().fadeTo("fast",.3).on("mouseenter.focus",K).off("mouseleave.focus"),H.on("focus.focus",K).off("blur.focus"))}function K(){t&&(t=!1,w.stop().fadeTo("fast",1).on("mouseleave.focus",W).off("mouseenter.focus"),H.on("blur.focus",W).off("focus.focus"))}function R(t){t.altKey&&t.shiftKey&&87===t.keyCode&&E()}g.append(m),m.css({display:"none",position:"fixed",top:V.height(),right:0,bottom:0,left:0,"z-index":9997}),h.css({position:"relative"}),L.on("mousemove.focus",function(t){a=t.pageY}),I("#postdivrich").hasClass("gc-editor-expand")&&p.on("keydown.focus-shortcut",R),M.on("tinymce-editor-setup.focus",function(t,e){e.addButton("dfw",{active:v,classes:"gc-dfw btn widget",disabled:!b,onclick:E,onPostRender:function(){var t=this;e.on("init",function(){t.disabled()&&t.hide()}),M.on("dfw-activate.focus",function(){t.disabled(!1),t.show()}).on("dfw-deactivate.focus",function(){t.disabled(!0),t.hide()}).on("dfw-on.focus",function(){t.active(!0)}).on("dfw-off.focus",function(){t.active(!1)})},tooltip:"\u514d\u6253\u6270\u5199\u4f5c\u6a21\u5f0f",shortcut:"Alt+Shift+W"}),e.addCommand("gcToggleDFW",E),e.addShortcut("access+w","","gcToggleDFW")}),M.on("tinymce-editor-init.focus",function(t,e){var o,i;function n(){l=!0}function s(){l=!1}"content"===e.id&&(I(e.getWin()),I(e.getContentAreaContainer()).find("iframe"),o=function(){e.on("keydown",_),e.on("blur",A),e.on("focus",n),e.on("blur",s),e.on("gc-autoresize",B)},i=function(){e.off("keydown",_),e.off("blur",A),e.off("focus",n),e.off("blur",s),e.off("gc-autoresize",B)},v&&o(),M.on("dfw-on.focus",o).on("dfw-off.focus",i),e.on("click",function(t){t.target===e.getDoc().documentElement&&e.focus()}))}),M.on("quicktags-init",function(t,e){var o;e.settings.buttons&&-1!==(","+e.settings.buttons+",").indexOf(",dfw,")&&(o=I("#"+e.name+"_dfw"),I(document).on("dfw-activate",function(){o.prop("disabled",!1)}).on("dfw-deactivate",function(){o.prop("disabled",!0)}).on("dfw-on",function(){o.addClass("active")}).on("dfw-off",function(){o.removeClass("active")}))}),M.on("editor-expand-on.focus",C).on("editor-expand-off.focus",S),v&&(p.on("keydown.focus",_),e.add(p).on("blur.focus",A)),F.gc=F.gc||{},F.gc.editor=F.gc.editor||{},F.gc.editor.dfw={activate:C,deactivate:S,isActive:function(){return b},on:O,off:z,toggle:E,isOn:function(){return v}}})}(window,window.jQuery);