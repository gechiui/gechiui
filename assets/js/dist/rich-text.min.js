/*! This file is auto-generated */
!function(){"use strict";var r={n:function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},d:function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},e={},t=(r.r(e),r.d(e,{__UNSTABLE_LINE_SEPARATOR:function(){return k},__experimentalRichText:function(){return Ge},__unstableCreateElement:function(){return l},__unstableFormatEdit:function(){return Ze},__unstableInsertLineSeparator:function(){return oe},__unstableIsEmptyLine:function(){return ne},__unstableToDom:function(){return we},__unstableUseRichText:function(){return Ye},applyFormat:function(){return X},concat:function(){return Z},create:function(){return R},getActiveFormat:function(){return u},getActiveFormats:function(){return j},getActiveObject:function(){return J},getTextContent:function(){return ee},insert:function(){return s},insertObject:function(){return se},isCollapsed:function(){return S},isEmpty:function(){return te},join:function(){return re},registerFormatType:function(){return ae},remove:function(){return D},removeFormat:function(){return ie},replace:function(){return p},slice:function(){return ce},split:function(){return le},store:function(){return g},toHTMLString:function(){return O},toggleFormat:function(){return Me},unregisterFormatType:function(){return $e},useAnchor:function(){return Ie},useAnchorRef:function(){return Pe}}),{}),n=(r.r(t),r.d(t,{getFormatType:function(){return H},getFormatTypeForBareElement:function(){return B},getFormatTypeForClassName:function(){return z},getFormatTypes:function(){return a}}),{}),A=(r.r(n),r.d(n,{addFormatTypes:function(){return U},removeFormatTypes:function(){return K}}),window.gc.data);var w,_,o,N=(0,A.combineReducers)({formatTypes:function(e={},t){switch(t.type){case"ADD_FORMAT_TYPES":return{...e,...t.formatTypes.reduce((e,t)=>({...e,[t.name]:t}),{})};case"REMOVE_FORMAT_TYPES":return Object.fromEntries(Object.entries(e).filter(([e])=>!t.names.includes(e)))}return e}}),c={};function C(e){return[e]}function F(e,t,n){var r;if(e.length===t.length){for(r=n;r<e.length;r++)if(e[r]!==t[r])return;return 1}}w=e=>Object.values(e.formatTypes),o=(e=>[e.formatTypes])||C,i.getDependants=o,(i.clear=L)();const a=i;function L(){_=new WeakMap}function i(){for(var e,t,n,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];for((e=function(e){for(var t,n,r,a,i=_,o=!0,s=0;s<e.length;s++){if(t=e[s],!(r=t)||"object"!=typeof r){o=!1;break}i=i.has(t)?i.get(t):(r=new WeakMap,i.set(t,r),r)}return i.has(c)||((n=a={clear:function(){a.head=null}}).isUniqueByDependants=o,i.set(c,n)),i.get(c)}(n=o.apply(null,a))).isUniqueByDependants||(e.lastDependants&&!F(n,e.lastDependants,0)&&e.clear(),e.lastDependants=n),t=e.head;t;){if(F(t.args,a,1))return t!==e.head&&(t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.next=e.head,t.prev=null,e.head.prev=t,e.head=t),t.val;t=t.next}return t={val:w.apply(null,a)},a[0]=null,t.args=a,e.head&&((e.head.prev=t).next=e.head),(e.head=t).val}function H(e,t){return e.formatTypes[t]}function B(e,n){e=a(e);return e.find(({className:e,tagName:t})=>null===e&&n===t)||e.find(({className:e,tagName:t})=>null===e&&"*"===t)}function z(e,t){return a(e).find(({className:e})=>null!==e&&0<=` ${t} `.indexOf(` ${e} `))}function U(e){return{type:"ADD_FORMAT_TYPES",formatTypes:Array.isArray(e)?e:[e]}}function K(e){return{type:"REMOVE_FORMAT_TYPES",names:Array.isArray(e)?e:[e]}}const g=(0,A.createReduxStore)("core/rich-text",{reducer:N,selectors:t,actions:n});function f(e,t){if(e!==t){if(!e||!t)return!1;if(e.type!==t.type)return!1;var n=e.attributes,r=t.attributes;if(n!==r){if(!n||!r)return!1;var a=Object.keys(n),e=Object.keys(r);if(a.length!==e.length)return!1;var i=a.length;for(let e=0;e<i;e++){var o=a[e];if(n[o]!==r[o])return!1}}}return!0}function d(e){const n=e.formats.slice();return n.forEach((e,t)=>{const r=n[t-1];if(r){const a=e.slice();a.forEach((e,t)=>{var n=r[t];f(e,n)&&(a[t]=n)}),n[t]=a}}),{...e,formats:n}}function q(e,t,n){return(e=e.slice())[t]=n,e}function X(e,n,r=e.start,a=e.end){var i,{formats:t,activeFormats:o}=e,s=t.slice();if(r===a){var c=s[r]?.find(({type:e})=>e===n.type);if(c){for(var l=s[r].indexOf(c);s[r]&&s[r][l]===c;)s[r]=q(s[r],l,n),r--;for(a++;s[a]&&s[a][l]===c;)s[a]=q(s[a],l,n),a++}}else{let t=1/0;for(let e=r;e<a;e++)s[e]?(s[e]=s[e].filter(({type:e})=>e!==n.type),(i=s[e].length)<t&&(t=i)):(s[e]=[],t=0);for(let e=r;e<a;e++)s[e].splice(t,0,n)}return d({...e,formats:s,activeFormats:[...o?.filter(({type:e})=>e!==n.type)||[],n]})}function l({implementation:e},t){return l.body||(l.body=e.createHTMLDocument("").body),l.body.innerHTML=t,l.body}(0,A.register)(g);const k="\u2028",M="\ufffc",$="\ufeff";function v(){return{formats:[],replacements:[],text:""}}function R({element:e,text:t,html:n,range:r,multilineTag:a,multilineWrapperTags:i,__unstableIsEditableTree:o,preserveWhiteSpace:s}={}){return"string"==typeof t&&0<t.length?{formats:Array(t.length),replacements:Array(t.length),text:t}:"object"!=typeof(e="string"==typeof n&&0<n.length?l(document,n):e)?v():a?G({element:e,range:r,multilineTag:a,multilineWrapperTags:i,isEditableTree:o,preserveWhiteSpace:s}):y({element:e,range:r,isEditableTree:o,preserveWhiteSpace:s})}function h(e,t,n,r){var a,i,o,s,c;n&&(a=t["parentNode"],{startContainer:n,startOffset:i,endContainer:o,endOffset:s}=n,c=e.text.length,void 0!==r.start?e.start=c+r.start:t===n&&t.nodeType===t.TEXT_NODE?e.start=c+i:a===n&&t===n.childNodes[i]?e.start=c:a===n&&t===n.childNodes[i-1]?e.start=c+r.text.length:t===n&&(e.start=c),void 0!==r.end?e.end=c+r.end:t===o&&t.nodeType===t.TEXT_NODE?e.end=c+s:a===o&&t===o.childNodes[s-1]?e.end=c+r.text.length:a===o&&t===o.childNodes[s]?e.end=c:t===o&&(e.end=c+s))}function Y(e){return e.replace(new RegExp(`[${$}${M}]`,"gu"),"")}function y({element:t,range:n,multilineTag:r,multilineWrapperTags:a,currentWrapperTags:i=[],isEditableTree:o,preserveWhiteSpace:s}){var c=v();if(t)if(t.hasChildNodes()){var l=t.childNodes.length;for(let e=0;e<l;e++){var u=t.childNodes[e],f=u.nodeName.toLowerCase();if(u.nodeType===u.TEXT_NODE){let e=Y;var d=(e=s?e:e=>Y(e.replace(/[\n\r\t]+/g," ")))(u.nodeValue);h(c,u,n=function(n,r,a){if(r){var{startContainer:i,endContainer:o}=r;let{startOffset:e,endOffset:t}=r;return n===i&&(e=a(n.nodeValue.slice(0,e)).length),n===o&&(t=a(n.nodeValue.slice(0,t)).length),{startContainer:i,startOffset:e,endContainer:o,endOffset:t}}}(u,n,e),{text:d}),c.formats.length+=d.length,c.replacements.length+=d.length,c.text+=d}else if(u.nodeType===u.ELEMENT_NODE)if(o&&(u.getAttribute("data-rich-text-placeholder")||"br"===f&&!u.getAttribute("data-rich-text-line-break")))h(c,u,n,v());else if("script"===f){d={formats:[,],replacements:[{type:f,attributes:{"data-rich-text-script":u.getAttribute("data-rich-text-script")||encodeURIComponent(u.innerHTML)}}],text:M};h(c,u,n,d),b(c,d)}else if("br"===f)h(c,u,n,v()),b(c,R({text:"\n"}));else{const p=function({tagName:e,attributes:t}){let n;if(t&&t.class&&(n=(0,A.select)(g).getFormatTypeForClassName(t.class))&&(t.class=` ${t.class} `.replace(` ${n.className} `," ").trim(),t.class||delete t.class),!(n=n||(0,A.select)(g).getFormatTypeForBareElement(e)))return t?{type:e,attributes:t}:{type:e};if(n.__experimentalCreatePrepareEditableTree&&!n.__experimentalCreateOnChangeEditableValue)return null;if(!t)return{formatType:n,type:n.name,tagName:e};var r={},a={},i={...t};for(const s in n.attributes){var o=n.attributes[s];r[s]=i[o],n.__unstableFilterAttributeValue&&(r[s]=n.__unstableFilterAttributeValue(s,r[s])),delete i[o],void 0===r[s]&&delete r[s]}for(const c in i)a[c]=t[c];return!1===n.contentEditable&&delete a.contenteditable,{formatType:n,type:n.name,tagName:e,attributes:r,unregisteredAttributes:a}}({tagName:f,attributes:function({element:n}){if(n.hasAttributes()){var r=n.attributes.length;let t;for(let e=0;e<r;e++){var{name:a,value:i}=n.attributes[e];0!==a.indexOf("data-rich-text-")&&(a=/^on/i.test(a)?"data-disable-rich-text-"+a:a,(t=t||{})[a]=i)}return t}}({element:u})});function m(e){var t;return m.formats===e?m.newFormats:(t=e?[p,...e]:[p],m.formats=e,m.newFormats=t)}!1===p?.formatType?.contentEditable?(delete p.formatType,h(c,u,n,v()),b(c,{formats:[,],replacements:[{...p,innerHTML:u.innerHTML}],text:M})):(p&&delete p.formatType,a&&-1!==a.indexOf(f)?(h(c,u,n,f=G({element:u,range:n,multilineTag:r,multilineWrapperTags:a,currentWrapperTags:[...i,p],isEditableTree:o,preserveWhiteSpace:s})),b(c,f)):(h(c,u,n,f=y({element:u,range:n,multilineTag:r,multilineWrapperTags:a,isEditableTree:o,preserveWhiteSpace:s})),p?0===f.text.length?p.attributes&&b(c,{formats:[,],replacements:[p],text:M}):(m.newFormats=[p],b(c,{...f,formats:Array.from(f.formats,m)})):b(c,f)))}}}else h(c,t,n,v());return c}function G({element:t,range:n,multilineTag:r,multilineWrapperTags:a,currentWrapperTags:i=[],isEditableTree:o,preserveWhiteSpace:s}){var c=v();if(t&&t.hasChildNodes()){var l=t.children.length;for(let e=0;e<l;e++){var u,f=t.children[e];f.nodeName.toLowerCase()===r&&(u=y({element:f,range:n,multilineTag:r,multilineWrapperTags:a,currentWrapperTags:i,isEditableTree:o,preserveWhiteSpace:s}),(0!==e||0<i.length)&&b(c,{formats:[,],replacements:0<i.length?[i]:[,],text:k}),h(c,f,n,u),b(c,u))}}return c}function b(e,t){return e.formats=e.formats.concat(t.formats),e.replacements=e.replacements.concat(t.replacements),e.text+=t.text,e}function Z(...e){return d(e.reduce(b,R()))}function j(e,t=[]){var n,{formats:e,start:r,end:a,activeFormats:i}=e;if(void 0===r)return t;if(r===a)return i||(i=e[r-1]||t,n=e[r]||t,i.length<n.length?i:n);if(!e[r])return t;var o=e.slice(r,a),s=[...o[0]];let c=o.length;for(;c--;){var l=o[c];if(!l)return t;let e=s.length;for(;e--;){const u=s[e];l.find(e=>f(u,e))||s.splice(e,1)}if(0===s.length)return t}return s||t}function u(e,t){return j(e).find(({type:e})=>e===t)}function J({start:e,end:t,replacements:n,text:r}){if(e+1===t&&r[e]===M)return n[e]}const Q=new RegExp(`[${M}${k}]`,"g");function ee({text:e}){return e.replace(Q,e=>e===M?"":"\n")}function S({start:e,end:t}){if(void 0!==e&&void 0!==t)return e===t}function te({text:e}){return 0===e.length}function ne({text:e,start:t,end:n}){return t===n&&(0===e.length||0===t&&e.slice(0,1)===k||t===e.length&&e.slice(-1)===k||e.slice(t-1,n+1)===""+k+k)}function re(e,a=""){return"string"==typeof a&&(a=R({text:a})),d(e.reduce((e,{formats:t,replacements:n,text:r})=>({formats:e.formats.concat(a.formats,t),replacements:e.replacements.concat(a.replacements,n),text:e.text+a.text+r})))}function ae(e,t){if("string"!=typeof(t={name:e,...t}).name)window.console.error("Format names must be strings.");else if(/^[a-z][a-z0-9-]*\/[a-z][a-z0-9-]*$/.test(t.name))if((0,A.select)(g).getFormatType(t.name))window.console.error('Format "'+t.name+'" is already registered.');else if("string"!=typeof t.tagName||""===t.tagName)window.console.error("Format tag names must be a string.");else if("string"==typeof t.className&&""!==t.className||null===t.className)if(/^[_a-zA-Z]+[a-zA-Z0-9-]*$/.test(t.className)){if(null===t.className){e=(0,A.select)(g).getFormatTypeForBareElement(t.tagName);if(e&&"core/unknown"!==e.name)return void window.console.error(`Format "${e.name}" is already registered to handle bare tag name "${t.tagName}".`)}else{e=(0,A.select)(g).getFormatTypeForClassName(t.className);if(e)return void window.console.error(`Format "${e.name}" is already registered to handle class name "${t.className}".`)}if("title"in t&&""!==t.title)if("keywords"in t&&3<t.keywords.length)window.console.error('The format "'+t.name+'" can have a maximum of 3 keywords.');else{if("string"==typeof t.title)return(0,A.dispatch)(g).addFormatTypes(t),t;window.console.error("Format titles must be strings.")}else window.console.error('The format "'+t.name+'" must have a title.')}else window.console.error("A class name must begin with a letter, followed by any number of hyphens, letters, or numbers.");else window.console.error("Format class names must be a string, or null to handle bare elements.");else window.console.error("Format names must contain a namespace prefix, include only lowercase alphanumeric characters or dashes, and start with a letter. Example: my-plugin/my-custom-format")}function ie(e,t,n=e.start,r=e.end){var{formats:a,activeFormats:i}=e,o=a.slice();if(n===r){const s=o[n]?.find(({type:e})=>e===t);if(s){for(;o[n]?.find(e=>e===s);)m(o,n,t),n--;for(r++;o[r]?.find(e=>e===s);)m(o,r,t),r++}}else for(let e=n;e<r;e++)o[e]&&m(o,e,t);return d({...e,formats:o,activeFormats:i?.filter(({type:e})=>e!==t)||[]})}function m(e,t,n){var r=e[t].filter(({type:e})=>e!==n);r.length?e[t]=r:delete e[t]}function s(e,t,n=e.start,r=e.end){var{formats:a,replacements:i,text:o}=e,s=n+(t="string"==typeof t?R({text:t}):t).text.length;return d({formats:a.slice(0,n).concat(t.formats,a.slice(r)),replacements:i.slice(0,n).concat(t.replacements,i.slice(r)),text:o.slice(0,n)+t.text+o.slice(r),start:s,end:s})}function D(e,t,n){return s(e,R(),t,n)}function p({formats:o,replacements:s,text:e,start:c,end:l},t,u){return e=e.replace(t,(e,...t)=>{var n=t[t.length-2];let r=u,a,i;return"object"==typeof(r="function"==typeof r?u(e,...t):r)?(a=r.formats,i=r.replacements,r=r.text):(a=Array(r.length),i=Array(r.length),o[n]&&(a=a.fill(o[n]))),o=o.slice(0,n).concat(a,o.slice(n+e.length)),s=s.slice(0,n).concat(i,s.slice(n+e.length)),c=c&&(l=n+r.length),r}),d({formats:o,replacements:s,text:e,start:c,end:l})}function oe(e,t=e.start,n=e.end){var r=e.text.slice(0,t).lastIndexOf(k),r=e.replacements[r];let a=[,];return s(e,{formats:[,],replacements:a=r?[r]:a,text:k},t,n)}function se(e,t,n,r){return s(e,{formats:[,],replacements:[t],text:M},n,r)}function ce(e,t=e.start,n=e.end){var{formats:r,replacements:a,text:i}=e;return void 0===t||void 0===n?{...e}:{formats:r.slice(t,n),replacements:a.slice(t,n),text:i.slice(t,n)}}function le({formats:r,replacements:a,text:e,start:i,end:o},s){if("string"!=typeof s)return ue(...arguments);let c=0;return e.split(s).map(e=>{var t=c,n={formats:r.slice(t,t+e.length),replacements:a.slice(t,t+e.length),text:e};return c+=s.length+e.length,void 0!==i&&void 0!==o&&(t<=i&&i<c?n.start=i-t:i<t&&t<o&&(n.start=0),t<=o&&o<c?n.end=o-t:i<c&&o>c&&(n.end=e.length)),n})}function ue({formats:e,replacements:t,text:n,start:r,end:a},i=r,o=a){if(void 0!==r&&void 0!==a)return i={formats:e.slice(0,i),replacements:t.slice(0,i),text:n.slice(0,i)},e={formats:e.slice(o),replacements:t.slice(o),text:n.slice(o),start:0,end:0},[p(i,/\u2028+$/,""),p(e,/^\u2028+/,"")]}function fe(e){return(0,A.select)(g).getFormatType(e)}function de(t,e){if(e)return t;var n={};for(const r in t){let e=r;n[e=r.startsWith("data-disable-rich-text-")?r.slice("data-disable-rich-text-".length):e]=t[r]}return n}function P({type:e,tagName:t,attributes:n,unregisteredAttributes:r,object:a,boundaryClass:i,isEditableTree:o}){var s=fe(e);let c={};if(i&&o&&(c["data-rich-text-format-boundary"]="true"),!s)return{type:e,attributes:de(c=n?{...n,...c}:c,o),object:a};c={...r,...c};for(const u in n){var l=!!s.attributes&&s.attributes[u];l?c[l]=n[u]:c[u]=n[u]}return s.className&&(c.class?c.class=s.className+" "+c.class:c.class=s.className),o&&!1===s.contentEditable&&(c.contenteditable="false"),{type:t||s.tagName,object:s.object,attributes:de(c,o)}}function me({value:e,multilineTag:n,preserveWhiteSpace:r,createEmpty:t,append:c,getLastChild:l,getParent:u,isText:f,getText:d,remove:m,appendText:a,onStartIndex:i,onEndIndex:p,isEditableTree:g,placeholder:v}){var{formats:h,replacements:y,text:b,start:E,end:T}=e,o=h.length+1,x=t();const w={type:n};t=j(e);const _=t[t.length-1];let N,C,F;n?(c(c(x,{type:n}),""),C=N=[w]):c(x,"");for(let t=0;t<o;t++){const W=b.charAt(t);var L=g&&(!F||F===k||"\n"===F);let o=h[t],s=(n&&(o=W===k?N=(y[t]||[]).reduce((e,t)=>(e.push(t,w),e),[w]):[...N,...o||[]]),l(x));if(L&&W===k){let e=s;for(;!f(e);)e=l(e);c(u(e),$)}if(F===k){let e=s;for(;!f(e);)e=l(e);i&&E===t&&i(x,e),p&&T===t&&p(x,e)}if(o&&o.forEach((e,t)=>{var n,r,a,i;s=s&&C&&function(e,t,n){do{if(e[n]!==t[n])return}while(n--);return 1}(o,C,t)&&(W!==k||o.length-1!==t)?l(s):({type:t,tagName:n,attributes:r,unregisteredAttributes:a}=e,e=g&&W!==k&&e===_,i=u(s),i=c(i,P({type:t,tagName:n,attributes:r,unregisteredAttributes:a,boundaryClass:e,isEditableTree:g})),f(s)&&0===d(s).length&&m(s),c(i,""))}),W===k);else{if(0===t&&(i&&0===E&&i(x,s),p)&&0===T&&p(x,s),W===M){var A=y[t];if(!A)continue;var{type:R,attributes:S,innerHTML:D}=A,O=fe(R);g||"script"!==R?!1===O?.contentEditable?(s=c(u(s),P({...A,isEditableTree:g,boundaryClass:E===t&&T===t+1})),D&&c(s,{html:D})):s=c(u(s),P({...A,object:!0,isEditableTree:g})):(s=c(u(s),P({type:"script",isEditableTree:g})),c(s,{html:decodeURIComponent(S["data-rich-text-script"])})),s=c(u(s),"")}else r||"\n"!==W?f(s)?a(s,W):s=c(u(s),W):(s=c(u(s),{type:"br",attributes:g?{"data-rich-text-line-break":"true"}:void 0,object:!0}),s=c(u(s),""));i&&E===t+1&&i(x,s),p&&T===t+1&&p(x,s),L&&t===b.length&&(c(u(s),$),v)&&0===b.length&&c(u(s),{type:"span",attributes:{"data-rich-text-placeholder":v,contenteditable:"false",style:"pointer-events:none;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;"}})}C=o,F=W}return x}function pe(e,t){return e===t||e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}function E(e,t,n){var r=e.parentNode;let a=0;for(;e=e.previousSibling;)a++;return n=[a,...n],n=r!==t?E(r,t,n):n}function ge(e,t){for(t=[...t];e&&1<t.length;)e=e.childNodes[t.shift()];return{node:e,offset:t[0]}}function ve(e,t){if(void 0!==t.html)return e.innerHTML+=t.html;var{type:n,attributes:r}=t="string"==typeof t?e.ownerDocument.createTextNode(t):t;if(n){t=e.ownerDocument.createElement(n);for(const a in r)t.setAttribute(a,r[a])}return e.appendChild(t)}function he(e,t){e.appendData(t)}function ye({lastChild:e}){return e}function be({parentNode:e}){return e}function Ee(e){return e.nodeType===e.TEXT_NODE}function Te({nodeValue:e}){return e}function xe(e){return e.parentNode.removeChild(e)}function we({value:e,multilineTag:t,prepareEditableTree:n,isEditableTree:r=!0,placeholder:a,doc:i=document}){let o=[],s=[];return{body:me({value:e=n?{...e,formats:n(e)}:e,multilineTag:t,createEmpty:()=>l(i,""),append:ve,getLastChild:ye,getParent:be,isText:Ee,getText:Te,remove:xe,appendText:he,onStartIndex(e,t){o=E(t,e,[t.nodeValue.length])},onEndIndex(e,t){s=E(t,e,[t.nodeValue.length])},isEditableTree:r,placeholder:a}),selection:{startPath:o,endPath:s}}}function _e({value:e,current:t,multilineTag:n,prepareEditableTree:r,__unstableDomOnly:a,placeholder:i}){var{body:n,selection:r}=we({value:e,multilineTag:n,prepareEditableTree:r,placeholder:i,doc:t.ownerDocument});if(!function e(t,n){let r=0;let a;for(;a=t.firstChild;){const i=n.childNodes[r];if(i)if(i.isEqualNode(a))t.removeChild(a);else if(i.nodeName!==a.nodeName||i.nodeType===i.TEXT_NODE&&i.data!==a.data)n.replaceChild(a,i);else{const o=i.attributes,s=a.attributes;if(o){let e=o.length;for(;e--;){const c=o[e]["name"];a.getAttribute(c)||i.removeAttribute(c)}}if(s)for(let e=0;e<s.length;e++){const{name:l,value:u}=s[e];i.getAttribute(l)!==u&&i.setAttribute(l,u)}e(a,i),t.removeChild(a)}else n.appendChild(a);r++}for(;n.childNodes[r];)n.removeChild(n.childNodes[r])}(n,t),void 0!==e.start&&!a){var[{startPath:i,endPath:n},e]=[r,t],{node:i,offset:a}=ge(e,i),{node:n,offset:r}=ge(e,n),t=(e=e["ownerDocument"])["defaultView"],o=t.getSelection(),s=e.createRange(),i=(s.setStart(i,a),s.setEnd(n,r),e)["activeElement"];if(0<o.rangeCount){if(pe(s,o.getRangeAt(0)))return;o.removeAllRanges()}o.addRange(s),i===e.activeElement||i instanceof t.HTMLElement&&i.focus()}}var Ne=window.gc.escapeHtml;function O({value:e,multilineTag:t,preserveWhiteSpace:n}){return We(me({value:e,multilineTag:t,preserveWhiteSpace:n,createEmpty:Ce,append:Le,getLastChild:Fe,getParent:Re,isText:Se,getText:De,remove:Oe,appendText:Ae}).children)}function Ce(){return{}}function Fe({children:e}){return e&&e[e.length-1]}function Le(e,t){return((t="string"==typeof t?{text:t}:t).parent=e).children=e.children||[],e.children.push(t),t}function Ae(e,t){e.text+=t}function Re({parent:e}){return e}function Se({text:e}){return"string"==typeof e}function De({text:e}){return e}function Oe(e){var t=e.parent.children.indexOf(e);return-1!==t&&e.parent.children.splice(t,1),e}function We(e=[]){return e.map(t=>{if(void 0!==t.html)return t.html;if(void 0!==t.text)return(0,Ne.escapeEditableHTML)(t.text);{var{type:t,attributes:n,object:r,children:a}=[t][0];let e="";for(const i in n)(0,Ne.isValidAttributeName)(i)&&(e+=` ${i}="${(0,Ne.escapeAttribute)(n[i])}"`);return r?`<${t}${e}>`:`<${t}${e}>${We(a)}</${t}>`}}).join("")}var ke=window.gc.a11y,T=window.gc.i18n;function Me(e,t){return u(e,t.type)?(t.title&&(0,ke.speak)((0,T.sprintf)((0,T.__)("%s\u5df2\u79fb\u9664\u3002"),t.title),"assertive"),ie(e,t.type)):(t.title&&(0,ke.speak)((0,T.sprintf)((0,T.__)("%s\u5df2\u5e94\u7528\u3002"),t.title),"assertive"),X(e,t))}function $e(e){var t=(0,A.select)(g).getFormatType(e);if(t)return(0,A.dispatch)(g).removeFormatTypes(e),t;window.console.error(`Format ${e} is not registered.`)}var W=window.gc.element,N=window.gc.deprecated,je=r.n(N);function Pe({ref:e,value:t,settings:n={}}){je()("`useAnchorRef` hook",{since:"6.1",alternative:"`useAnchor` hook"});const{tagName:r,className:a,name:i}=n,o=i?u(t,i):void 0;return(0,W.useMemo)(()=>{if(e.current){var t=e.current["ownerDocument"]["defaultView"],t=t.getSelection();if(t.rangeCount){t=t.getRangeAt(0);if(!o)return t;let e=t.startContainer;for(e=e.nextElementSibling||e;e.nodeType!==e.ELEMENT_NODE;)e=e.parentNode;return e.closest(r+(a?"."+a:""))}}},[o,t.start,t.end,r,a])}function Ve(e,t,n){if(e){var r=e["ownerDocument"],r=r["defaultView"],r=r.getSelection();if(r&&r.rangeCount){var a,i,r=r.getRangeAt(0);if(r&&r.startContainer)return function(e,t,n,r){let a=e.startContainer;if((a=(a=a.nextElementSibling||a).nodeType!==a.ELEMENT_NODE?a.parentElement:a)&&a!==t&&t.contains(a))for(var i=n+(r?"."+r:"");a!==t;){if(a.matches(i))return a;a=a.parentElement}}(r,e,t,n)||(i=e,{ownerDocument:(a=r).startContainer.ownerDocument,getBoundingClientRect(){return(i.contains(a.startContainer)?a:i).getBoundingClientRect()}})}}}function Ie({editableContentElement:a,settings:e={}}){const{tagName:i,className:o}=e,[t,s]=(0,W.useState)(()=>Ve(a,i,o));return(0,W.useLayoutEffect)(()=>{if(a){const r=a["ownerDocument"];return a===r.activeElement&&t(),a.addEventListener("focusin",t),a.addEventListener("focusout",n),n;function e(){s(Ve(a,i,o))}function t(){r.addEventListener("selectionchange",e)}function n(){r.removeEventListener("selectionchange",e)}}},[a,i,o]),t}var V=window.gc.compose;const He="pre-wrap",Be="1px";var I=window.gc.keycodes;const ze=[];const Ue=new Set(["insertParagraph","insertOrderedList","insertUnorderedList","insertHorizontalRule","insertLink"]),x=[],Ke="data-rich-text-placeholder";function qe(e){const h=(0,W.useRef)(e);return h.current=e,(0,V.useRefEffect)(d=>{const m=d["ownerDocument"],p=m["defaultView"];let g=!1;function v(t){if(!g){let e;t&&(e=t.inputType);var{record:t,applyRecord:n,createRecord:r,handleChange:a}=h.current;e&&(0===e.indexOf("format")||Ue.has(e))?n(t.current):(n=r(),{start:r,activeFormats:t=[]}=t.current,a(function({value:e,start:t,end:n,formats:r}){var a=Math.min(t,n),i=Math.max(t,n);const o=e.formats[a-1]||[],s=e.formats[i]||[];for(e.activeFormats=r.map((e,t)=>{if(o[t]){if(f(e,o[t]))return o[t]}else if(s[t]&&f(e,s[t]))return s[t];return e});--n>=t;)0<e.activeFormats.length?e.formats[n]=e.activeFormats:delete e.formats[n];return e}({value:n,start:r,end:n.start,formats:t})))}}function e(){var{record:e,applyRecord:t,createRecord:n,onSelectionChange:r}=h.current;if("true"===d.contentEditable)if(m.activeElement!==d){if("true"===m.activeElement.contentEditable&&m.activeElement.contains(d)){var{anchorNode:a,focusNode:i}=p.getSelection();if(d.contains(a)&&d!==a&&d.contains(i)&&d!==i){const{start:s,end:c}=n();e.current.activeFormats=x,r(s,c)}else if(d.contains(a)&&d!==a){const{start:s,end:l=s}=n();e.current.activeFormats=x,r(l)}else if(d.contains(i)){const{start:s,end:u=s}=n();e.current.activeFormats=x,r(void 0,u)}}}else if(!g){const{start:s,end:c,text:f}=n();var o,a=e.current;f!==a.text?v():s===a.start&&c===a.end?0===a.text.length&&0===s&&(i=p,{anchorNode:n,anchorOffset:o}=i=p.getSelection(),n.nodeType===n.ELEMENT_NODE)&&(n=n.childNodes[o])&&n.nodeType===n.ELEMENT_NODE&&n.hasAttribute(Ke)&&i.collapseToStart():(n=j(o={...a,start:s,end:c,activeFormats:a._newActiveFormats,_newActiveFormats:void 0},x),o.activeFormats=n,t(e.current=o,{domOnly:!0}),r(s,c))}}function t(){g=!0,m.removeEventListener("selectionchange",e),d.querySelector(`[${Ke}]`)?.remove()}function n(){g=!1,v({inputType:"insertText"}),m.addEventListener("selectionchange",e)}function r(){var{record:e,isSelected:t,onSelectionChange:n,applyRecord:r}=h.current;d.parentElement.closest('[contenteditable="true"]')||(t?(r(e.current),n(e.current.start,e.current.end)):e.current={...e.current,start:void 0,end:void 0,activeFormats:x})}return d.addEventListener("input",v),d.addEventListener("compositionstart",t),d.addEventListener("compositionend",n),d.addEventListener("focus",r),m.addEventListener("selectionchange",e),()=>{d.removeEventListener("input",v),d.removeEventListener("compositionstart",t),d.removeEventListener("compositionend",n),d.removeEventListener("focus",r),m.removeEventListener("selectionchange",e)}},[])}function Xe(t,n=!0){var{replacements:r,text:e,start:a,end:i}=t,o=S(t);let s=a-1,c=o?a-1:a,l=i;if(n||(s=i,c=a,l=o?i+1:i),e[s]===k){let e;return e=o&&r[s]&&r[s].length?((n=r.slice())[s]=r[s].slice(0,-1),{...t,replacements:n}):D(t,c,l)}}function Ye({value:e="",selectionStart:t,selectionEnd:n,placeholder:r,preserveWhiteSpace:i,onSelectionChange:o,onChange:s,__unstableMultilineTag:c,__unstableDisableFormats:l,__unstableIsSelected:a,__unstableDependencies:u=[],__unstableAfterParse:f,__unstableBeforeSerialize:d,__unstableAddInvisibleFormats:m}){const p=(0,A.useRegistry)(),[,g]=(0,W.useReducer)(()=>({})),v=(0,W.useRef)();function h(){var e=v.current["ownerDocument"]["defaultView"],e=e.getSelection(),e=0<e.rangeCount?e.getRangeAt(0):null;return R({element:v.current,range:e,multilineTag:c,multilineWrapperTags:"li"===c?["ul","ol"]:void 0,__unstableIsEditableTree:!0,preserveWhiteSpace:i})}function y(e,{domOnly:t}={}){_e({value:e,current:v.current,multilineTag:c,multilineWrapperTags:"li"===c?["ul","ol"]:void 0,prepareEditableTree:m,__unstableDomOnly:t,placeholder:r})}const b=(0,W.useRef)(e),E=(0,W.useRef)();function T(){b.current=e,E.current=R({html:e,multilineTag:c,multilineWrapperTags:"li"===c?["ul","ol"]:void 0,preserveWhiteSpace:i}),l&&(E.current.formats=Array(e.length),E.current.replacements=Array(e.length)),f&&(E.current.formats=f(E.current)),E.current.start=t,E.current.end=n}const x=(0,W.useRef)(!1);if(E.current)t===E.current.start&&n===E.current.end||(x.current=a,E.current={...E.current,start:t,end:n});else if(x.current=a,T(),"core/text-color"===E.current?.formats[0]?.[0]?.type){var w=E.current;E.current=w,b.current=O({value:d?{...w,formats:d(w)}:w,multilineTag:c,preserveWhiteSpace:i});const{formats:F,text:L}=w;p.batch(()=>{s(b.current,{__unstableFormats:F,__unstableText:L})}),g()}function _(e){y(E.current=e),b.current=l?e.text:O({value:d?{...e,formats:d(e)}:e,multilineTag:c,preserveWhiteSpace:i});const{start:t,end:n,formats:r,text:a}=e;p.batch(()=>{o(t,n),s(b.current,{__unstableFormats:r,__unstableText:a})}),g()}function N(){T(),y(E.current)}const C=(0,W.useRef)(!1);(0,W.useLayoutEffect)(()=>{C.current&&e!==b.current&&(N(),g())},[e]),(0,W.useLayoutEffect)(()=>{x.current&&(v.current.ownerDocument.activeElement!==v.current&&v.current.focus(),N(),x.current=!1)},[x.current]);w=(0,V.useMergeRefs)([v,(0,W.useCallback)(e=>{e&&(e.style.whiteSpace=He,e.style.minWidth=Be)},[]),function({record:e}){const a=(0,W.useRef)(),{activeFormats:i=[],replacements:t,start:n}=e.current,o=t[n];return(0,W.useEffect)(()=>{if(i&&i.length||o){var t="*[data-rich-text-format-boundary]",t=a.current.querySelector(t);if(t){var n=t["ownerDocument"],r=n["defaultView"],r=`.rich-text:focus *[data-rich-text-format-boundary] {${"background-color: "+r.getComputedStyle(t).color.replace(")",", 0.2)").replace("rgb","rgba")}}`,t="rich-text-boundary-style";let e=n.getElementById(t);e||((e=n.createElement("style")).id=t,n.head.appendChild(e)),e.innerHTML!==r&&(e.innerHTML=r)}}},[i,o]),a}({record:E}),function(e){const s=(0,W.useRef)(e);return s.current=e,(0,V.useRefEffect)(o=>{function e(e){var t,{record:n,multilineTag:r,preserveWhiteSpace:a}=s.current,i=o["ownerDocument"];!S(n.current)&&o.contains(i.activeElement)&&(t=ee(n=ce(n.current)),n=O({value:n,multilineTag:r,preserveWhiteSpace:a}),e.clipboardData.setData("text/plain",t),e.clipboardData.setData("text/html",n),e.clipboardData.setData("rich-text","true"),e.clipboardData.setData("rich-text-multi-line-tag",r||""),e.preventDefault(),"cut"===e.type)&&i.execCommand("delete")}return o.addEventListener("copy",e),o.addEventListener("cut",e),()=>{o.removeEventListener("copy",e),o.removeEventListener("cut",e)}},[])}({record:E,multilineTag:c,preserveWhiteSpace:i}),(0,V.useRefEffect)(a=>{function t(e){var t,n,r=e["target"];r===a||r.textContent&&r.isContentEditable||(n=r["ownerDocument"],t=n["defaultView"],(t=t.getSelection()).containsNode(r))||(n=n.createRange(),r=r.isContentEditable?r:r.closest("[contenteditable]"),n.selectNode(r),t.removeAllRanges(),t.addRange(n),e.preventDefault())}function e(e){e.relatedTarget&&!a.contains(e.relatedTarget)&&"A"===e.relatedTarget.tagName&&t(e)}return a.addEventListener("click",t),a.addEventListener("focusin",e),()=>{a.removeEventListener("click",t),a.removeEventListener("focusin",e)}},[]),function(e){const[,d]=(0,W.useReducer)(()=>({})),m=(0,W.useRef)(e);return m.current=e,(0,V.useRefEffect)(e=>{function t(t){var{keyCode:n,shiftKey:r,altKey:a,metaKey:i,ctrlKey:o}=t;if(!(r||a||i||o||n!==I.LEFT&&n!==I.RIGHT)){var{record:r,applyRecord:a}=m.current,{text:i,formats:o,start:n,end:s,activeFormats:c=[]}=r.current,l=S(r.current),u=e["ownerDocument"],u=u["defaultView"],u=u.getComputedStyle(e)["direction"],u="rtl"===u?I.RIGHT:I.LEFT,u=t.keyCode===u;if(l&&0===c.length){if(0===n&&u)return;if(s===i.length&&!u)return}if(l){s=o[n-1]||ze,i=o[n]||ze;const f=u?s:i;l=c.every((e,t)=>e===f[t]);let e=c.length;l?e<f.length&&e++:e--,e===c.length?r.current._newActiveFormats=f:(t.preventDefault(),o=(l?f:u?i:s).slice(0,e),n={...r.current,activeFormats:o},a(r.current=n),d())}}}return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[])}({record:E,applyRecord:y}),function(e){const c=(0,W.useRef)(e);return c.current=e,(0,V.useRefEffect)(e=>{function t(t){var n=t["keyCode"],{createRecord:r,handleChange:a,multilineTag:e}=c.current;if(!t.defaultPrevented&&(n===I.DELETE||n===I.BACKSPACE)){var r=r(),{start:i,end:o,text:s}=r,n=n===I.BACKSPACE;if(0===i&&0!==o&&o===s.length)a(D(r)),t.preventDefault();else if(e){let e;(e=n&&0===r.start&&0===r.end&&ne(r)?Xe(r,!n):Xe(r,n))&&(a(e),t.preventDefault())}}}return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[])}({createRecord:h,handleChange:_,multilineTag:c}),qe({record:E,applyRecord:y,createRecord:h,handleChange:_,isSelected:a,onSelectionChange:o}),(0,V.useRefEffect)(e=>{const a=e["ownerDocument"];var t=a["defaultView"];const n=t?.getSelection();let i;function o(){return n.rangeCount?n.getRangeAt(0):null}function r(e){const t="keydown"===e.type?"keyup":"pointerup";function n(){a.removeEventListener(t,r),a.removeEventListener("selectionchange",n),a.removeEventListener("input",n)}function r(){n(),pe(i,o())||a.dispatchEvent(new Event("selectionchange"))}a.addEventListener(t,r),a.addEventListener("selectionchange",n),a.addEventListener("input",n),i=o()}return e.addEventListener("pointerdown",r),e.addEventListener("keydown",r),()=>{e.removeEventListener("pointerdown",r),e.removeEventListener("keydown",r)}},[]),(0,V.useRefEffect)(()=>{N(),C.current=!0},[r,...u])]);return{value:E.current,getValue:()=>E.current,onChange:_,ref:w}}function Ge(){}function Ze({formatTypes:e,onChange:o,onFocus:s,value:c,forwardedRef:l}){return e.map(e=>{var t,n,r,a,{name:e,edit:i}=e;return i?(n=void 0!==(t=u(c,e)),a=void 0!==(r=J(c))&&r.type===e,(0,W.createElement)(i,{key:e,isActive:n,activeAttributes:n&&t.attributes||{},isObjectActive:a,activeObjectAttributes:a&&r.attributes||{},value:c,onChange:o,onFocus:s,contentRef:l})):null})}(window.gc=window.gc||{}).richText=e}();