/*! This file is auto-generated */
this.gc=this.gc||{},this.gc.blockDirectory=function(n){var c={};function l(e){if(c[e])return c[e].exports;var t=c[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}return l.m=n,l.c=c,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var c in t)l.d(n,c,function(e){return t[e]}.bind(null,c));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l(l.s="tpFy")}({"/7UU":function(e,t){e.exports=window.gc.editor},"0+Iy":function(e,t){e.exports=window.gc.htmlEntities},"0GdS":function(e,t,n){"use strict";var c=n("ewfG"),n=n("Gz8V"),c=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"}));t.a=c},"8mSS":function(e,t,n){"use strict";var c=n("ewfG"),n=n("Gz8V"),c=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"}));t.a=c},Gz8V:function(e,t){e.exports=window.gc.primitives},IgLd:function(e,t){e.exports=window.gc.data},NQKH:function(e,t){e.exports=window.gc.a11y},NxuN:function(e,t){e.exports=window.gc.coreData},Qylf:function(e,t){e.exports=window.gc.editPost},W2Kb:function(e,t){e.exports=window.gc.notices},Xm27:function(e,t){e.exports=window.gc.plugins},YLtl:function(e,t){e.exports=window.lodash},dMTb:function(e,t){e.exports=window.gc.compose},ewfG:function(e,t){e.exports=window.gc.element},jd0n:function(e,t){e.exports=window.gc.components},kZIl:function(e,t){e.exports=window.gc.hooks},lqn5:function(e,t,n){"use strict";var c=n("ewfG"),n=n("Gz8V"),c=Object(c.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(n.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"}));t.a=c},n68F:function(e,t){e.exports=window.gc.blocks},nLrk:function(e,t){e.exports=window.gc.blockEditor},tpFy:function(R,e,t){"use strict";t.r(e),t.d(e,"store",function(){return N});var e={},n=(t.r(e),t.d(e,"isRequestingDownloadableBlocks",function(){return d}),t.d(e,"getDownloadableBlocks",function(){return u}),t.d(e,"getInstalledBlockTypes",function(){return j}),t.d(e,"getNewBlockTypes",function(){return k}),t.d(e,"getUnusedBlockTypes",function(){return f}),t.d(e,"isInstalling",function(){return g}),t.d(e,"getErrorNotices",function(){return M}),t.d(e,"getErrorNoticeForBlock",function(){return A}),{}),c=(t.r(n),t.d(n,"fetchDownloadableBlocks",function(){return v}),t.d(n,"receiveDownloadableBlocks",function(){return B}),t.d(n,"installBlockType",function(){return F}),t.d(n,"uninstallBlockType",function(){return G}),t.d(n,"addInstalledBlockType",function(){return H}),t.d(n,"removeInstalledBlockType",function(){return z}),t.d(n,"setIsInstalling",function(){return K}),t.d(n,"setErrorNotice",function(){return U}),t.d(n,"clearErrorNotice",function(){return q}),{}),m=(t.r(c),t.d(c,"getDownloadableBlocks",function(){return $}),t("ewfG")),l=t("Xm27"),r=t("kZIl"),O=t("n68F"),p=t("IgLd"),o=t("/7UU"),a=t("YLtl"),i=Object(p.combineReducers)({downloadableBlocks:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"FETCH_DOWNLOADABLE_BLOCKS":return{...e,[t.filterValue]:{isRequesting:!0}};case"RECEIVE_DOWNLOADABLE_BLOCKS":return{...e,[t.filterValue]:{results:t.downloadableBlocks,isRequesting:!1}}}return e},blockManagement:function(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{installedBlockTypes:[],isInstalling:{}},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"ADD_INSTALLED_BLOCK_TYPE":return{...e,installedBlockTypes:[...e.installedBlockTypes,t.item]};case"REMOVE_INSTALLED_BLOCK_TYPE":return{...e,installedBlockTypes:e.installedBlockTypes.filter(e=>e.name!==t.item.name)};case"SET_INSTALLING_BLOCK":return{...e,isInstalling:{...e.isInstalling,[t.blockId]:t.isInstalling}}}return e},errorNotices:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=1<arguments.length?arguments[1]:void 0;switch(t.type){case"SET_ERROR_NOTICE":return{...e,[t.blockId]:{message:t.message,isFatal:t.isFatal}};case"CLEAR_ERROR_NOTICE":return Object(a.omit)(e,t.blockId)}return e}}),s=t("nLrk");function b(t,e){let n=1<arguments.length&&void 0!==e?e:[];if(!n.length)return!1;if(n.some(e=>{e=e.name;return e===t.name}))return!0;for(let e=0;e<n.length;e++)if(b(t,n[e].innerBlocks))return!0;return!1}function d(e,t){return null!=(t=null==(e=e.downloadableBlocks[t])?void 0:e.isRequesting)&&t}function u(e,t){return null!=(t=null==(e=e.downloadableBlocks[t])?void 0:e.results)?t:[]}function j(e){return e.blockManagement.installedBlockTypes}const k=Object(p.createRegistrySelector)(c=>e=>{const t=c(s.store).getBlocks(),n=j(e);return n.filter(e=>b(e,t))}),f=Object(p.createRegistrySelector)(c=>e=>{const t=c(s.store).getBlocks(),n=j(e);return n.filter(e=>!b(e,t))});function g(e,t){return e.blockManagement.isInstalling[t]||!1}function M(e){return e.errorNotices}function A(e,t){return e.errorNotices[t]}var _=t("z4sU"),E=t("xuem"),w=t.n(E),y=t("W2Kb");const V=c=>new Promise((e,t)=>{const n=document.createElement(c.nodeName);["id","rel","src","href","type"].forEach(e=>{c[e]&&(n[e]=c[e])}),c.innerHTML&&n.appendChild(document.createTextNode(c.innerHTML)),n.onload=()=>e(!0),n.onerror=()=>t(new Error("Error loading asset.")),document.body.appendChild(n),"link"!==n.nodeName.toLowerCase()&&("script"!==n.nodeName.toLowerCase()||n.src)||e()});function h(e){if(!e)return!1;e=e.links["gc:plugin"]||e.links.self;return!(!e||!e.length)&&e[0].href}function v(e){return{type:"FETCH_DOWNLOADABLE_BLOCKS",filterValue:e}}function B(e,t){return{type:"RECEIVE_DOWNLOADABLE_BLOCKS",downloadableBlocks:e,filterValue:t}}const F=u=>async c=>{let{registry:l,dispatch:r}=c;c=u.id;let t=!1;r.clearErrorNotice(c);try{r.setIsInstalling(c,!0);var n,o=h(u);let e={};o?await w()({method:"PUT",url:o,data:{status:"active"}}):(n=await w()({method:"POST",path:"gc/v2/plugins",data:{slug:c,status:"active"}}),e=n._links),r.addInstalledBlockType({...u,links:{...u.links,...e}});{const s=await w()({url:document.location.href,parse:!1});var a=await s.text();const b=(new window.DOMParser).parseFromString(a,"text/html");for(const d of Array.from(b.querySelectorAll('link[rel="stylesheet"],script')).filter(e=>e.id&&!document.getElementById(e.id)))await V(d)}await 0;const i=l.select(O.store).getBlockTypes();if(!i.some(e=>e.name===u.name))throw new Error(Object(_.__)("\u6ce8\u518c\u533a\u5757\u51fa\u9519\uff0c\u5c1d\u8bd5\u91cd\u65b0\u52a0\u8f7d\u9875\u9762\u3002"));l.dispatch(y.store).createInfoNotice(Object(_.sprintf)(Object(_.__)("\u533a\u5757%s\u5df2\u5b89\u88c5\u5e76\u6dfb\u52a0\u3002"),u.title),{speak:!0,type:"snackbar"}),t=!0}catch(e){let t=e.message||Object(_.__)("\u53d1\u751f\u4e86\u4e00\u4e2a\u9519\u8bef\u3002"),n=e instanceof Error;o={folder_exists:Object(_.__)("\u8be5\u533a\u5757\u5df2\u5b89\u88c5\u3002\u5c1d\u8bd5\u91cd\u65b0\u52a0\u8f7d\u9875\u9762\u3002"),unable_to_connect_to_filesystem:Object(_.__)("\u5b89\u88c5\u533a\u5757\u65f6\u51fa\u9519\uff0c\u60a8\u53ef\u4ee5\u91cd\u65b0\u52a0\u8f7d\u9875\u9762\u5e76\u91cd\u8bd5\u3002")};o[e.code]&&(n=!0,t=o[e.code]),r.setErrorNotice(c,t,n),l.dispatch(y.store).createErrorNotice(t,{speak:!0,isDismissible:!0})}return r.setIsInstalling(c,!1),t},G=l=>async e=>{let{registry:t,dispatch:n}=e;try{var c=h(l);await w()({method:"PUT",url:c,data:{status:"inactive"}}),await w()({method:"DELETE",url:c}),n.removeInstalledBlockType(l)}catch(e){t.dispatch(y.store).createErrorNotice(e.message||Object(_.__)("\u53d1\u751f\u4e86\u4e00\u4e2a\u9519\u8bef\u3002"))}};function H(e){return{type:"ADD_INSTALLED_BLOCK_TYPE",item:e}}function z(e){return{type:"REMOVE_INSTALLED_BLOCK_TYPE",item:e}}function K(e,t){return{type:"SET_INSTALLING_BLOCK",blockId:e,isInstalling:t}}function U(e,t){return{type:"SET_ERROR_NOTICE",blockId:e,message:t,isFatal:2<arguments.length&&void 0!==arguments[2]&&arguments[2]}}function q(e){return{type:"CLEAR_ERROR_NOTICE",blockId:e}}const $=l=>async e=>{let t=e["dispatch"];if(l)try{t(v(l));const c=await w()({path:"gc/v2/block-directory/search?term="+l});var n=c.map(e=>Object(a.mapKeys)(e,(e,t)=>Object(a.camelCase)(t)));t(B(n,l))}catch{}};E={reducer:i,selectors:e,actions:n,resolvers:c,__experimentalUseThunks:!0};const N=Object(p.createReduxStore)("core/block-directory",E);function W(){const t=Object(p.useDispatch)(N)["uninstallBlockType"],e=Object(p.useSelect)(e=>{const{isAutosavingPost:t,isSavingPost:n}=e(o.store);return n()&&!t()},[]),n=Object(p.useSelect)(e=>e(N).getUnusedBlockTypes(),[]);return Object(m.useEffect)(()=>{e&&n.length&&n.forEach(e=>{t(e),Object(O.unregisterBlockType)(e.name)})},[e]),null}Object(p.register)(N);var I=t("jd0n"),i=t("dMTb"),T=t("NxuN"),L=t("wx14"),S=t("0+Iy"),x=t("txjq"),Y=t("8mSS"),e=t("Gz8V"),Q=Object(m.createElement)(e.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(m.createElement)(e.Path,{d:"M9.518 8.783a.25.25 0 00.188-.137l2.069-4.192a.25.25 0 01.448 0l2.07 4.192a.25.25 0 00.187.137l4.626.672a.25.25 0 01.139.427l-3.347 3.262a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.363.264l-4.137-2.176a.25.25 0 00-.233 0l-4.138 2.175a.25.25 0 01-.362-.263l.79-4.607a.25.25 0 00-.072-.222L4.753 9.882a.25.25 0 01.14-.427l4.625-.672zM12 14.533c.28 0 .559.067.814.2l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39v7.143z"})),X=t("lqn5");function Z(e){var e=e["rating"],t=.5*Math.round(e/.5),n=Math.floor(e),e=Math.ceil(e-n),c=5-(n+e);return Object(m.createElement)("span",{"aria-label":Object(_.sprintf)(Object(_.__)("\u4e94\u661f\u4e2d\u6709%s\u661f"),t)},Object(a.times)(n,e=>Object(m.createElement)(x.a,{key:"full_stars_"+e,className:"block-directory-block-ratings__star-full",icon:Y.a,size:16})),Object(a.times)(e,e=>Object(m.createElement)(x.a,{key:"half_stars_"+e,className:"block-directory-block-ratings__star-half-full",icon:Q,size:16})),Object(a.times)(c,e=>Object(m.createElement)(x.a,{key:"empty_stars_"+e,className:"block-directory-block-ratings__star-empty",icon:X.a,size:16})))}var J=e=>{e=e.rating;return Object(m.createElement)("span",{className:"block-directory-block-ratings"},Object(m.createElement)(Z,{rating:e}))};var C=function(e){let t=e["icon"];return e="block-directory-downloadable-block-icon",null!==t.match(/\.(jpeg|jpg|gif|png|svg)(?:\?.*)?$/)?Object(m.createElement)("img",{className:e,src:t,alt:""}):Object(m.createElement)(s.BlockIcon,{className:e,icon:t,showColors:!0})},ee=e=>{let t=e["block"];e=Object(p.useSelect)(e=>e(N).getErrorNoticeForBlock(t.id),[t]);return e?Object(m.createElement)("div",{className:"block-directory-downloadable-block-notice"},Object(m.createElement)("div",{className:"block-directory-downloadable-block-notice__content"},e.message,e.isFatal?" "+Object(_.__)("\u5c1d\u8bd5\u91cd\u65b0\u52a0\u8f7d\u9875\u9762\u3002"):null)):null};function te(e){let{composite:t,item:l,onClick:n}=e;var{author:e,description:c,icon:r,rating:o,title:a}=l,i=!!Object(O.getBlockType)(l.name),{hasNotice:s,isInstalling:b,isInstallable:d}=Object(p.useSelect)(e=>{const{getErrorNoticeForBlock:t,isInstalling:n}=e(N);var e=t(l.id),c=e&&e.isFatal;return{hasNotice:!!e,isInstalling:n(l.id),isInstallable:!c}},[l]);let u="";return i?u=Object(_.__)("\u5df2\u5b89\u88c5\uff01"):b&&(u=Object(_.__)("\u6b63\u5728\u5b89\u88c5\u2026")),Object(m.createElement)(I.__unstableCompositeItem,Object(L.a)({role:"option",as:I.Button},t,{className:"block-directory-downloadable-block-list-item",onClick:e=>{e.preventDefault(),n()},isBusy:b,disabled:b||!d,label:function(e,t){var{title:e,rating:n,ratingCount:c}=e,{hasNotice:t,isInstalled:l,isInstalling:r}=t,n=.5*Math.round(n/.5);return!l&&t?Object(_.sprintf)("Retry installing %s.",Object(S.decodeEntities)(e)):l?Object(_.sprintf)("Add %s.",Object(S.decodeEntities)(e)):r?Object(_.sprintf)("Installing %s.",Object(S.decodeEntities)(e)):c<1?Object(_.sprintf)("Install %s.",Object(S.decodeEntities)(e)):Object(_.sprintf)(Object(_._n)("\u5b89\u88c5%1$s\u3002%2$s\u661f\u57fa\u4e8e%3$s\u6761\u8bc4\u4ef7\u3002","Install %1$s. %2$s stars with %3$s reviews.",c),Object(S.decodeEntities)(e),n,c)}(l,{hasNotice:s,isInstalled:i,isInstalling:b}),showTooltip:!0,tooltipPosition:"top center"}),Object(m.createElement)("div",{className:"block-directory-downloadable-block-list-item__icon"},Object(m.createElement)(C,{icon:r,title:a}),b?Object(m.createElement)("span",{className:"block-directory-downloadable-block-list-item__spinner"},Object(m.createElement)(I.Spinner,null)):Object(m.createElement)(J,{rating:o})),Object(m.createElement)("span",{className:"block-directory-downloadable-block-list-item__details"},Object(m.createElement)("span",{className:"block-directory-downloadable-block-list-item__title"},Object(m.createInterpolateElement)(Object(_.sprintf)(Object(_.__)("%1$s <span>\u4f5c\u8005%2$s</span>"),Object(S.decodeEntities)(a),e),{span:Object(m.createElement)("span",{className:"block-directory-downloadable-block-list-item__author"})})),s?Object(m.createElement)(ee,{block:l}):Object(m.createElement)(m.Fragment,null,Object(m.createElement)("span",{className:"block-directory-downloadable-block-list-item__desc"},u||Object(S.decodeEntities)(c)),d&&!(i||b)&&Object(m.createElement)(I.VisuallyHidden,null,Object(_.__)("\u5b89\u88c5\u533a\u5757")))))}function ne(e){let{items:t,onHover:n=a.noop,onSelect:c}=e;const l=Object(I.__unstableUseCompositeState)(),r=Object(p.useDispatch)(N)["installBlockType"];return t.length?Object(m.createElement)(I.__unstableComposite,Object(L.a)({},l,{role:"listbox",className:"block-directory-downloadable-blocks-list","aria-label":Object(_.__)("\u53ef\u4f9b\u5b89\u88c5\u7684\u533a\u5757")}),t.map(t=>Object(m.createElement)(te,{key:t.id,composite:l,onClick:()=>{Object(O.getBlockType)(t.name)?c(t):r(t).then(e=>{e&&c(t)}),n(null)},onHover:n,item:t}))):null}var ce=t("NQKH");function le(e){var{children:e,downloadableItems:t,hasLocalBlocks:n}=e;const c=t.length;return Object(m.useEffect)(()=>{Object(ce.speak)(Object(_.sprintf)(Object(_._n)("%d\u4e2a\u533a\u5757\u53ef\u4f9b\u5b89\u88c5\u3002","%d additional blocks are available to install.",c),c))},[c]),Object(m.createElement)(m.Fragment,null,!n&&Object(m.createElement)("p",{className:"block-directory-downloadable-blocks-panel__no-local"},Object(_.__)("\u672a\u5728\u60a8\u5b89\u88c5\u7684\u533a\u5757\u4e2d\u627e\u5230\u7ed3\u679c\u3002")),Object(m.createElement)("div",{className:"block-editor-inserter__quick-inserter-separator"}),Object(m.createElement)("div",{className:"block-directory-downloadable-blocks-panel"},Object(m.createElement)("div",{className:"block-directory-downloadable-blocks-panel__header"},Object(m.createElement)("h2",{className:"block-directory-downloadable-blocks-panel__title"},Object(_.__)("\u53ef\u4f9b\u5b89\u88c5")),Object(m.createElement)("p",{className:"block-directory-downloadable-blocks-panel__description"},Object(_.__)("\u9009\u62e9\u4e00\u4e2a\u533a\u5757\u8fdb\u884c\u5b89\u88c5\uff0c\u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u60a8\u7684\u6587\u7ae0\u4e2d\u3002"))),e))}var D=t("0GdS");function P(){return Object(m.createElement)("div",{className:"block-editor-inserter__no-results"},Object(m.createElement)(x.a,{className:"block-editor-inserter__no-results-icon",icon:D.a}),Object(m.createElement)("p",null,Object(_.__)("\u672a\u627e\u5230\u7ed3\u679c\u3002")))}var re=Object(i.compose)([Object(p.withSelect)((e,t)=>{let{filterValue:n,rootClientId:c=null}=t;const{getDownloadableBlocks:l,isRequestingDownloadableBlocks:r}=e(N),o=e(s.store)["canInsertBlockType"];t=e(T.store).canUser("read","block-directory/search");return{downloadableItems:t?l(n).filter(e=>o(e,c,!0)):[],hasPermission:t,isLoading:r(n)}})])(function(e){var{downloadableItems:e,onSelect:t,onHover:n,hasLocalBlocks:c,hasPermission:l,isLoading:r,isTyping:o}=e;return void 0===l||r||o?Object(m.createElement)(m.Fragment,null,l&&!c&&Object(m.createElement)(m.Fragment,null,Object(m.createElement)("p",{className:"block-directory-downloadable-blocks-panel__no-local"},Object(_.__)("\u672a\u5728\u60a8\u5b89\u88c5\u7684\u533a\u5757\u4e2d\u627e\u5230\u7ed3\u679c\u3002")),Object(m.createElement)("div",{className:"block-editor-inserter__quick-inserter-separator"})),Object(m.createElement)("div",{className:"block-directory-downloadable-blocks-panel has-blocks-loading"},Object(m.createElement)(I.Spinner,null))):!1===l?c?null:Object(m.createElement)(P,null):e.length?Object(m.createElement)(le,{downloadableItems:e,hasLocalBlocks:c},Object(m.createElement)(ne,{items:e,onSelect:t,onHover:n})):!c&&Object(m.createElement)(P,null)});function oe(){const[r,e]=Object(m.useState)(""),o=Object(a.debounce)(e,400);return Object(m.createElement)(s.__unstableInserterMenuExtension,null,e=>{var{onSelect:e,onHover:t,filterValue:n,hasItems:c,rootClientId:l}=e;return r!==n&&o(n),r?Object(m.createElement)(re,{onSelect:e,onHover:t,rootClientId:l,filterValue:r,hasLocalBlocks:c,isTyping:n!==r}):null})}var ae=t("Qylf");function ie(e){let t=e["items"];return t.length?Object(m.createElement)("ul",{className:"block-directory-compact-list"},t.map(e=>{var{icon:e,id:t,title:n,author:c}=e;return Object(m.createElement)("li",{key:t,className:"block-directory-compact-list__item"},Object(m.createElement)(C,{icon:e,title:n}),Object(m.createElement)("div",{className:"block-directory-compact-list__item-details"},Object(m.createElement)("div",{className:"block-directory-compact-list__item-title"},n),Object(m.createElement)("div",{className:"block-directory-compact-list__item-author"},Object(_.sprintf)(Object(_.__)("\u4f5c\u8005\uff1a%s"),c))))})):null}function se(){var e=Object(p.useSelect)(e=>e(N).getNewBlockTypes(),[]);return e.length?Object(m.createElement)(ae.PluginPrePublishPanel,{icon:D.a,title:Object(_.sprintf)(Object(_._n)("Added: %d block","Added: %d blocks",e.length),e.length),initialOpen:!0},Object(m.createElement)("p",{className:"installed-blocks-pre-publish-panel__copy"},Object(_._n)("\u4ee5\u4e0b\u533a\u5757\u5df2\u6dfb\u52a0\u81f3\u60a8\u7684\u7ad9\u70b9\u3002","The following blocks have been added to your site.",e.length)),Object(m.createElement)(ie,{items:e})):null}function be(e){let{attributes:n,block:c,clientId:l}=e;e=Object(p.useSelect)(e=>e(N).isInstalling(c.id),[c.id]);const t=Object(p.useDispatch)(N)["installBlockType"],r=Object(p.useDispatch)(s.store)["replaceBlock"];return Object(m.createElement)(I.Button,{onClick:()=>t(c).then(e=>{var t;e&&(e=Object(O.getBlockType)(c.name),[t]=Object(O.parse)(n.originalContent),t&&e&&r(l,Object(O.createBlock)(e.name,t.attributes,t.innerBlocks)))}),disabled:e,isBusy:e,variant:"primary"},Object(_.sprintf)(Object(_.__)("\u5b89\u88c5 %s"),c.title))}const de=e=>{let{originalBlock:t,...n}=e;const{originalName:c,originalUndelimitedContent:l}=n.attributes,r=Object(p.useDispatch)(s.store)["replaceBlock"];var e=!!l,o=Object(O.getBlockType)("core/html");let a=Object(_.sprintf)(Object(_.__)("\u60a8\u7684\u7ad9\u70b9\u4e0d\u652f\u6301 %s\u533a\u5757\u3002\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u5b89\u88c5\u8be5\u533a\u5757\u6216\u5b8c\u5168\u5c06\u5176\u79fb\u9664!"),t.title||c);const i=[Object(m.createElement)(be,{key:"install",block:t,attributes:n.attributes,clientId:n.clientId})];return e&&o&&(a=Object(_.sprintf)(Object(_.__)("\u60a8\u7684\u7ad9\u70b9\u4e0d\u652f\u6301%s\u533a\u5757\u3002\u60a8\u53ef\u4ee5\u5c1d\u8bd5\u5b89\u88c5\u8be5\u533a\u5757\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a\u81ea\u5b9a\u4e49\u7684HTML\u533a\u5757\uff0c\u6216\u8005\u5c06\u5176\u5f7b\u5e95\u79fb\u9664\u3002"),t.title||c),i.push(Object(m.createElement)(I.Button,{key:"convert",onClick:()=>{r(n.clientId,Object(O.createBlock)("core/html",{content:l}))},variant:"link"},Object(_.__)("\u7559\u4f5cHTML")))),Object(m.createElement)("div",Object(s.useBlockProps)(),Object(m.createElement)(s.Warning,{actions:i},a),Object(m.createElement)(m.RawHTML,null,l))};var ue=l=>e=>{const c=e.attributes["originalName"];var{block:t,hasPermission:n}=Object(p.useSelect)(e=>{const t=e(N)["getDownloadableBlocks"];var n=t("block:"+c).filter(e=>{e=e.name;return c===e});return{hasPermission:e(T.store).canUser("read","block-directory/search"),block:n.length&&n[0]}},[c]);return n&&t?Object(m.createElement)(de,Object(L.a)({},e,{originalBlock:t})):Object(m.createElement)(l,e)};Object(l.registerPlugin)("block-directory",{render(){return Object(m.createElement)(m.Fragment,null,Object(m.createElement)(W,null),Object(m.createElement)(oe,null),Object(m.createElement)(se,null))}}),Object(r.addFilter)("blocks.registerBlockType","block-directory/fallback",(e,t)=>("core/missing"!==t||(e.edit=ue(e.edit)),e))},txjq:function(e,t,n){"use strict";var l=n("ewfG");t.a=function(e){let{icon:t,size:n=24,...c}=e;return Object(l.cloneElement)(t,{width:n,height:n,...c})}},wx14:function(e,t,n){"use strict";function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,c=arguments[t];for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e}).apply(this,arguments)}n.d(t,"a",function(){return c})},xuem:function(e,t){e.exports=window.gc.apiFetch},z4sU:function(e,t){e.exports=window.gc.i18n}});