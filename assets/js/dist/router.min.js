/*! This file is auto-generated */
!function(){"use strict";var u,r={d:function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r:function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},e={},o=(r.r(e),r.d(e,{privateApis:function(){return U}}),window.gc.element);function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}(t=u=u||{}).Pop="POP",t.Push="PUSH",t.Replace="REPLACE";var a=function(e){return e};var i="beforeunload",t="popstate";function c(e){e.preventDefault(),e.returnValue=""}function s(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter(function(e){return e!==t})}},call:function(t){e.forEach(function(e){return e&&e(t)})}}}function l(){return Math.random().toString(36).substr(2,8)}function f(e){var t=e.pathname,t=void 0===t?"/":t,n=e.search,n=void 0===n?"":n,e=e.hash,e=void 0===e?"":e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function h(e){var t,n={};return e&&(0<=(t=e.indexOf("#"))&&(n.hash=e.substr(t),e=e.substr(0,t)),0<=(t=e.indexOf("?"))&&(n.search=e.substr(t),e=e.substr(0,t)),e)&&(n.pathname=e),n}var d,p,v,g,y,b,w,m,P,O=window.gc.url;p=void 0===(d=(d=void 0===d?{}:d).window)?document.defaultView:d,v=p.history,g=null,p.addEventListener(t,function(){var e,t,n,r;g?(P.call(g),g=null):(e=u.Pop,t=(n=A())[0],n=n[1],P.length?null!=t&&(r=b-t)&&(g={action:e,location:n,retry:function(){L(-1*r)}},L(r)):C(e))}),y=u.Pop,b=(d=A())[0],w=d[1],m=s(),P=s(),null==b&&(b=0,v.replaceState(n({},v.state,{idx:b}),""));const k={get action(){return y},get location(){return w},createHref:S,push:function e(t,n){var r=u.Push,o=j(t,n);if(E(r,o,function(){e(t,n)})){var a=(o=x(o,b+1))[0],o=o[1];try{v.pushState(a,"",o)}catch(e){p.location.assign(o)}C(r)}},replace:function e(t,n){var r,o=u.Replace,a=j(t,n);E(o,a,function(){e(t,n)})&&(r=(a=x(a,b))[0],a=a[1],v.replaceState(r,"",a),C(o))},go:L,back:function(){L(-1)},forward:function(){L(1)},listen:function(e){return m.push(e)},block:function(e){var t=P.push(e);return 1===P.length&&p.addEventListener(i,c),function(){t(),P.length||p.removeEventListener(i,c)}}};function A(){var e=p.location,t=e.pathname,n=e.search,e=e.hash,r=v.state||{};return[r.idx,a({pathname:t,search:n,hash:e,state:r.usr||null,key:r.key||"default"})]}function S(e){return"string"==typeof e?e:f(e)}function j(e,t){return void 0===t&&(t=null),a(n({pathname:w.pathname,hash:"",search:""},"string"==typeof e?h(e):e,{state:t,key:l()}))}function x(e,t){return[{usr:e.state,key:e.key,idx:t},S(e)]}function E(e,t,n){return!P.length||(P.call({action:e,location:t,retry:n}),0)}function C(e){y=e;e=A();b=e[0],w=e[1],m.call({action:y,location:w})}function L(e){v.go(e)}const _=k.push,H=k.replace;k.push=function(e,t){var n=(0,O.getQueryArgs)(window.location.href),n=(0,O.removeQueryArgs)(window.location.href,...Object.keys(n)),n=(0,O.addQueryArgs)(n,e);return _.call(k,n,t)},k.replace=function(e,t){var n=(0,O.getQueryArgs)(window.location.href),n=(0,O.removeQueryArgs)(window.location.href,...Object.keys(n)),n=(0,O.addQueryArgs)(n,e);return H.call(k,n,t)};var Q=k;const R=(0,o.createContext)(),I=(0,o.createContext)();function M(e){var t=new URLSearchParams(e.search);return{...e,params:Object.fromEntries(t.entries())}}t=(0,window.gc.privateApis.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I know using unstable features means my plugin or theme will inevitably break on the next GeChiUI release.","@gechiui/router").lock;const U={};t(U,{useHistory:function(){return(0,o.useContext)(I)},useLocation:function(){return(0,o.useContext)(R)},RouterProvider:function({children:e}){const[t,n]=(0,o.useState)(()=>M(Q.location));return(0,o.useEffect)(()=>Q.listen(({location:e})=>{n(M(e))}),[]),(0,o.createElement)(I.Provider,{value:Q},(0,o.createElement)(R.Provider,{value:t},e))}}),(window.gc=window.gc||{}).router=e}();