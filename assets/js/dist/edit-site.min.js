/*! This file is auto-generated */
!function(){var n={6411:function(e,t){var n;void 0!==(t="function"==typeof(n=function(e,t){"use strict";var d=typeof Map==="function"?new Map:function(){var a=[];var r=[];return{has:function e(t){return a.indexOf(t)>-1},get:function e(t){return r[a.indexOf(t)]},set:function e(t,n){if(a.indexOf(t)===-1){a.push(t);r.push(n)}},delete:function e(t){var n=a.indexOf(t);if(n>-1){a.splice(n,1);r.splice(n,1)}}}}(),p=function e(t){return new Event(t,{bubbles:true})};try{new Event("test")}catch(e){p=function e(t){var n=document.createEvent("Event");n.initEvent(t,true,false);return n}}function a(r){if(!r||!r.nodeName||r.nodeName!=="TEXTAREA"||d.has(r))return;var n=null;var a=null;var i=null;function e(){var e=window.getComputedStyle(r,null);if(e.resize==="vertical")r.style.resize="none";else if(e.resize==="both")r.style.resize="horizontal";if(e.boxSizing==="content-box")n=-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom));else n=parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth);if(isNaN(n))n=0;c()}function s(e){{var t=r.style.width;r.style.width="0px";r.offsetWidth;r.style.width=t}r.style.overflowY=e}function o(e){var t=[];while(e&&e.parentNode&&e.parentNode instanceof Element){if(e.parentNode.scrollTop)t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop});e=e.parentNode}return t}function l(){if(r.scrollHeight===0)return;var e=o(r);var t=document.documentElement&&document.documentElement.scrollTop;r.style.height="";r.style.height=r.scrollHeight+n+"px";a=r.clientWidth;e.forEach(function(e){e.node.scrollTop=e.scrollTop});if(t)document.documentElement.scrollTop=t}function c(){l();var e=Math.round(parseFloat(r.style.height));var t=window.getComputedStyle(r,null);var n=t.boxSizing==="content-box"?Math.round(parseFloat(t.height)):r.offsetHeight;if(n<e){if(t.overflowY==="hidden"){s("scroll");l();n=t.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight}}else if(t.overflowY!=="hidden"){s("hidden");l();n=t.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(r,null).height)):r.offsetHeight}if(i!==n){i=n;var a=p("autosize:resized");try{r.dispatchEvent(a)}catch(e){}}}var u=function e(){if(r.clientWidth!==a)c()};var m=function(t){window.removeEventListener("resize",u,false);r.removeEventListener("input",c,false);r.removeEventListener("keyup",c,false);r.removeEventListener("autosize:destroy",m,false);r.removeEventListener("autosize:update",c,false);Object.keys(t).forEach(function(e){r.style[e]=t[e]});d.delete(r)}.bind(r,{height:r.style.height,resize:r.style.resize,overflowY:r.style.overflowY,overflowX:r.style.overflowX,wordWrap:r.style.wordWrap});r.addEventListener("autosize:destroy",m,false);if("onpropertychange"in r&&"oninput"in r)r.addEventListener("keyup",c,false);window.addEventListener("resize",u,false);r.addEventListener("input",c,false);r.addEventListener("autosize:update",c,false);r.style.overflowX="hidden";r.style.wordWrap="break-word";d.set(r,{destroy:m,update:c});e()}function n(e){var t=d.get(e);if(t)t.destroy()}function r(e){var t=d.get(e);if(t)t.update()}var i=null;if(typeof window==="undefined"||typeof window.getComputedStyle!=="function"){i=function e(t){return t};i.destroy=function(e){return e};i.update=function(e){return e}}else{i=function e(t,n){if(t)Array.prototype.forEach.call(t.length?t:[t],function(e){return a(e,n)});return t};i.destroy=function(e){if(e)Array.prototype.forEach.call(e.length?e:[e],n);return e};i.update=function(e){if(e)Array.prototype.forEach.call(e.length?e:[e],r);return e}}t.default=i,e.exports=t["default"]})?n.apply(t,[e,t]):n)&&(e.exports=t)},4403:function(e,t){var n;!function(){"use strict";var s={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a,r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n))n.length&&(a=o.apply(null,n))&&e.push(a);else if("object"==r)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var i in n)s.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?e.exports=o.default=o:void 0!==(n=function(){return o}.apply(t,[]))&&(e.exports=n)}()},4827:function(e){e.exports=function(e,t,n){return((n=window.getComputedStyle)?n(e):e.currentStyle)[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]}},1919:function(e){"use strict";function r(e){return!(!(t=e)||"object"!=typeof t||(t=e,"[object RegExp]"===(e=Object.prototype.toString.call(t)))||"[object Date]"===e||function(e){return e.$$typeof===n}(t));var t}var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c(Array.isArray(e)?[]:{},e,t):e}function i(e,t,n){return e.concat(t).map(function(e){return o(e,n)})}function t(e){return Object.keys(e).concat((t=e,Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]));var t}function l(e,t){try{return t in e}catch(e){return!1}}function s(a,r,i){var s={};return i.isMergeableObject(a)&&t(a).forEach(function(e){s[e]=o(a[e],i)}),t(r).forEach(function(e){var t,n;(!l(t=a,n=e)||Object.hasOwnProperty.call(t,n)&&Object.propertyIsEnumerable.call(t,n))&&(l(a,e)&&i.isMergeableObject(r[e])?s[e]=(t=e,((n=i).customMerge&&"function"==typeof(n=n.customMerge(t))?n:c)(a[e],r[e],i)):s[e]=o(r[e],i))}),s}function c(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||i,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=o;var a=Array.isArray(t);return a===Array.isArray(e)?a?n.arrayMerge(e,t,n):s(e,t,n):o(t,n)}c.all=function(e,n){if(Array.isArray(e))return e.reduce(function(e,t){return c(e,t,n)},{});throw new Error("first argument should be an array")},e.exports=c},8981:function(e,t){var n;void 0!==(t="function"==typeof(n=function(){return function t(e,n,a){var r=window,i="application/octet-stream",s=a||i,o=e,l=!n&&!a&&o,c=document.createElement("a"),u=function(e){return String(e)},m=r.Blob||r.MozBlob||r.WebKitBlob||u,d=n||"download",p,_;m=m.call?m.bind(r):Blob;if(String(this)==="true"){o=[o,s];s=o[0];o=o[1]}if(l&&l.length<2048){d=l.split("/").pop().split("?")[0];c.href=l;if(c.href.indexOf(l)!==-1){var g=new XMLHttpRequest;g.open("GET",l,true);g.responseType="blob";g.onload=function(e){t(e.target.response,d,i)};setTimeout(function(){g.send()},0);return g}}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(o))if(o.length>1024*1024*1.999&&m!==u){o=y(o);s=o.type||i}else return navigator.msSaveBlob?navigator.msSaveBlob(y(o),d):f(o);else if(/([\x80-\xff])/.test(o)){var h=0,v=new Uint8Array(o.length),E=v.length;for(h;h<E;++h)v[h]=o.charCodeAt(h);o=new m([v],{type:s})}p=o instanceof m?o:new m([o],{type:s});function y(e){var t=e.split(/[:;,]/),n=t[1],a=t[2]=="base64"?atob:decodeURIComponent,r=a(t.pop()),i=r.length,s=0,o=new Uint8Array(i);for(s;s<i;++s)o[s]=r.charCodeAt(s);return new m([o],{type:n})}function f(e,t){if("download"in c){c.href=e;c.setAttribute("download",d);c.className="download-js-link";c.innerHTML="downloading...";c.style.display="none";document.body.appendChild(c);setTimeout(function(){c.click();document.body.removeChild(c);if(t===true)setTimeout(function(){r.URL.revokeObjectURL(c.href)},250)},66);return true}if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent)){if(/^data:/.test(e))e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i);if(!window.open(e))if(confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page."))location.href=e;return true}var n=document.createElement("iframe");document.body.appendChild(n);if(!t&&/^data:/.test(e))e="data:"+e.replace(/^data:([\w\/\-\+]+)/,i);n.src=e;setTimeout(function(){document.body.removeChild(n)},333)}if(navigator.msSaveBlob)return navigator.msSaveBlob(p,d);if(r.URL)f(r.URL.createObjectURL(p),true);else{if(typeof p==="string"||p.constructor===u)try{return f("data:"+s+";base64,"+r.btoa(p))}catch(e){return f("data:"+s+","+encodeURIComponent(p))}_=new FileReader;_.onload=function(e){f(this.result)};_.readAsDataURL(p)}return true}})?n.apply(t,[]):n)&&(e.exports=t)},9894:function(e,t,n){var r=n(4827);e.exports=function(e){var t,n=r(e,"line-height"),a=parseFloat(n,10);return n===a+""&&(t=e.style.lineHeight,e.style.lineHeight=n+"em",n=r(e,"line-height"),a=parseFloat(n,10),t?e.style.lineHeight=t:delete e.style.lineHeight),-1!==n.indexOf("pt")?a=4*a/3:-1!==n.indexOf("mm")?a=96*a/25.4:-1!==n.indexOf("cm")?a=96*a/2.54:-1!==n.indexOf("in")?a*=96:-1!==n.indexOf("pc")&&(a*=16),a=Math.round(a),"normal"===n&&(t=e.nodeName,(n=document.createElement(t)).innerHTML="&nbsp;","TEXTAREA"===t.toUpperCase()&&n.setAttribute("rows","1"),t=r(e,"font-size"),n.style.fontSize=t,n.style.padding="0px",n.style.border="0px",(e=document.body).appendChild(n),a=n.offsetHeight,e.removeChild(n)),a}},5372:function(e,t,n){"use strict";var s=n(9567);function a(){}function r(){}r.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,r,i){if(i!==s)throw(i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",i}function t(){return e}var n={array:e.isRequired=e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:a};return n.PropTypes=n}},2652:function(e,t,n){e.exports=n(5372)()},9567:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5438:function(e,t,n){"use strict";var a,r,i=this&&this.__extends||(a=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o=this&&this.__rest||function(e,t){var n={};for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&(n[r[a]]=e[r[a]]);return n},l=(t.__esModule=!0,n(9196)),c=n(2652),u=n(6411),m=n(9894),d="autosize:resized",p=(r=l.Component,i(_,r),_.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.maxRows,t=t.async;"number"==typeof n&&this.updateLineHeight(),"number"==typeof n||t?setTimeout(function(){return e.textarea&&u(e.textarea)}):this.textarea&&u(this.textarea),this.textarea&&this.textarea.addEventListener(d,this.onResize)},_.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(d,this.onResize),u.destroy(this.textarea))},_.prototype.render=function(){var t=this,e=this.props,n=(e.onResize,e.maxRows),a=(e.onChange,e.style),r=(e.innerRef,e.children),e=o(e,["onResize","maxRows","onChange","style","innerRef","children"]),i=this.state.lineHeight,i=n&&i?i*n:null;return l.createElement("textarea",s({},e,{onChange:this.onChange,style:i?s({},a,{maxHeight:i}):a,ref:function(e){t.textarea=e,"function"==typeof t.props.innerRef?t.props.innerRef(e):t.props.innerRef&&(t.props.innerRef.current=e)}}),r)},_.prototype.componentDidUpdate=function(){this.textarea&&u.update(this.textarea)},_.defaultProps={rows:1,async:!1},_.propTypes={rows:c.number,maxRows:c.number,onResize:c.func,innerRef:c.any,async:c.bool},_);function _(){var n=null!==r&&r.apply(this,arguments)||this;return n.state={lineHeight:null},n.textarea=null,n.onResize=function(e){n.props.onResize&&n.props.onResize(e)},n.updateLineHeight=function(){n.textarea&&n.setState({lineHeight:m(n.textarea)})},n.onChange=function(e){var t=n.props.onChange;n.currentValue=e.currentTarget.value,t&&t(e)},n}t.TextareaAutosize=l.forwardRef(function(e,t){return l.createElement(p,s({},e,{innerRef:t}))})},773:function(e,t,n){"use strict";n=n(5438);t.Z=n.TextareaAutosize},4793:function(e){var t={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\xdf":"ss","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z","\u0439":"\u0438","\u0419":"\u0418","\u0451":"\u0435","\u0401":"\u0415"},n=Object.keys(t).join("|"),a=new RegExp(n,"g"),r=new RegExp(n,"");function i(e){return t[e]}function s(e){return e.replace(a,i)}e.exports=s,e.exports.has=function(e){return!!e.match(r)},e.exports.remove=s},9196:function(e){"use strict";e.exports=window.React}},a={};function Tm(e){var t=a[e];return void 0!==t||(t=a[e]={exports:{}},n[e].call(t.exports,t,t.exports,Tm)),t.exports}Tm.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Tm.d(t,{a:t}),t},Tm.d=function(e,t){for(var n in t)Tm.o(t,n)&&!Tm.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},Tm.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Tm.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var Nm={};!function(){"use strict";Tm.r(Nm),Tm.d(Nm,{PluginMoreMenuItem:function(){return xm},PluginSidebar:function(){return wm},PluginSidebarMoreMenuItem:function(){return Sm},PluginTemplateSettingPanel:function(){return ac},initializeEditor:function(){return km},reinitializeEditor:function(){return Cm}});var e={},c=(Tm.r(e),Tm.d(e,{closeModal:function(){return ne},disableComplementaryArea:function(){return P},enableComplementaryArea:function(){return T},openModal:function(){return te},pinItem:function(){return B},setDefaultComplementaryArea:function(){return C},setFeatureDefaults:function(){return ee},setFeatureValue:function(){return O},toggleFeature:function(){return L},unpinItem:function(){return R}}),{}),d=(Tm.r(c),Tm.d(c,{getActiveComplementaryArea:function(){return ae},isComplementaryAreaLoading:function(){return re},isFeatureActive:function(){return se},isItemPinned:function(){return ie},isModalActive:function(){return oe}}),{}),_=(Tm.r(d),Tm.d(d,{__experimentalSetPreviewDeviceType:function(){return Lt},addTemplate:function(){return At},closeGeneralSidebar:function(){return Jt},openGeneralSidebar:function(){return Qt},openNavigationPanelToMenu:function(){return Wt},removeTemplate:function(){return Ft},revertTemplate:function(){return Kt},setEditedEntity:function(){return Ot},setEditedPostContext:function(){return Gt},setHasPageContentFocus:function(){return tn},setHomeTemplateId:function(){return Ht},setIsInserterOpened:function(){return Zt},setIsListViewOpened:function(){return Yt},setIsNavigationPanelOpened:function(){return $t},setIsSaveViewOpened:function(){return Xt},setNavigationMenu:function(){return zt},setNavigationPanelActiveMenu:function(){return jt},setPage:function(){return Ut},setTemplate:function(){return Dt},setTemplatePart:function(){return Vt},switchEditorMode:function(){return en},toggleFeature:function(){return Rt},updateSettings:function(){return qt}}),{}),v=(Tm.r(_),Tm.d(_,{setCanvasMode:function(){return nn},setEditorCanvasContainerView:function(){return an}}),{}),E=(Tm.r(v),Tm.d(v,{__experimentalGetInsertionPoint:function(){return Bn},__experimentalGetPreviewDeviceType:function(){return fn},__unstableGetPreference:function(){return o},getCanUserCreateMedia:function(){return bn},getCurrentTemplateNavigationPanelSubMenu:function(){return Fn},getCurrentTemplateTemplateParts:function(){return Dn},getEditedPostContext:function(){return In},getEditedPostId:function(){return Nn},getEditedPostType:function(){return Tn},getEditorMode:function(){return An},getHomeTemplateId:function(){return Cn},getNavigationPanelActiveMenu:function(){return Vn},getPage:function(){return Mn},getReusableBlocks:function(){return wn},getSettings:function(){return Sn},hasPageContentFocus:function(){return Hn},isFeatureActive:function(){return yn},isInserterOpened:function(){return Pn},isListViewOpened:function(){return Rn},isNavigationOpened:function(){return zn},isPage:function(){return On},isSaveViewOpened:function(){return Ln}}),{}),H=(Tm.r(E),Tm.d(E,{getCanvasMode:function(){return Gn},getEditorCanvasContainerView:function(){return Un}}),window.gc.element),b=window.gc.blocks,f=window.gc.blockLibrary,G=window.gc.data,t=window.gc.deprecated,r=Tm.n(t),U=window.gc.coreData,N=window.gc.editor,t=Tm(4403),j=Tm.n(t),W=window.gc.components,$=window.gc.i18n,t=window.gc.primitives,A=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),F=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})),V=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),z=window.gc.viewport,k=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),Z=window.gc.preferences;const C=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),T=(n,a)=>({registry:e,dispatch:t})=>{a&&(e.select(Z.store).get(n,"isComplementaryAreaVisible")||e.dispatch(Z.store).set(n,"isComplementaryAreaVisible",!0),t({type:"ENABLE_COMPLEMENTARY_AREA",scope:n,area:a}))},P=t=>({registry:e})=>{e.select(Z.store).get(t,"isComplementaryAreaVisible")&&e.dispatch(Z.store).set(t,"isComplementaryAreaVisible",!1)},B=(n,a)=>({registry:e})=>{var t;a&&!0!==(t=e.select(Z.store).get(n,"pinnedItems"))?.[a]&&e.dispatch(Z.store).set(n,"pinnedItems",{...t,[a]:!0})},R=(n,a)=>({registry:e})=>{var t;a&&(t=e.select(Z.store).get(n,"pinnedItems"),e.dispatch(Z.store).set(n,"pinnedItems",{...t,[a]:!1}))};function L(t,n){return function({registry:e}){r()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),e.dispatch(Z.store).toggle(t,n)}}function O(t,n,a){return function({registry:e}){r()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),e.dispatch(Z.store).set(t,n,!!a)}}function ee(t,n){return function({registry:e}){r()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),e.dispatch(Z.store).setDefaults(t,n)}}function te(e){return{type:"OPEN_MODAL",name:e}}function ne(){return{type:"CLOSE_MODAL"}}const ae=(0,G.createRegistrySelector)(a=>(e,t)=>{var n=a(Z.store).get(t,"isComplementaryAreaVisible");if(void 0!==n)return!1===n?null:e?.complementaryAreas?.[t]}),re=(0,G.createRegistrySelector)(a=>(e,t)=>{var n=a(Z.store).get(t,"isComplementaryAreaVisible"),e=e?.complementaryAreas?.[t];return n&&void 0===e}),ie=(0,G.createRegistrySelector)(a=>(e,t,n)=>{return null==(t=a(Z.store).get(t,"pinnedItems")?.[n])||t}),se=(0,G.createRegistrySelector)(a=>(e,t,n)=>(r()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!a(Z.store).get(t,n)));function oe(e,t){return e.activeModal===t}var n=(0,G.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":var{scope:n,area:a}=t;return e[n]?e:{...e,[n]:a};case"ENABLE_COMPLEMENTARY_AREA":var{scope:n,area:a}=t;return{...e,[n]:a}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}});const D=(0,G.createReduxStore)("core/interface",{reducer:n,actions:e,selectors:c});(0,G.register)(D);var le=window.gc.plugins,n=(0,le.withPluginContext)((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||e.name+"/"+t.name}));var ce=n(function({as:e=W.Button,scope:t,identifier:n,icon:a,selectedIcon:r,name:i,...s}){const o=(0,G.useSelect)(e=>e(D).getActiveComplementaryArea(t)===n,[n]),{enableComplementaryArea:l,disableComplementaryArea:c}=(0,G.useDispatch)(D);return(0,H.createElement)(e,{icon:r&&o?r:a,onClick:()=>{o?c(t):l(t,n)},...s})}),ue=({smallScreenTitle:e,children:t,className:n,toggleButtonProps:a})=>{a=(0,H.createElement)(ce,{icon:k,...a});return(0,H.createElement)(H.Fragment,null,(0,H.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},e&&(0,H.createElement)("span",{className:"interface-complementary-area-header__small-title"},e),a),(0,H.createElement)("div",{className:j()("components-panel__header","interface-complementary-area-header",n),tabIndex:-1},t,a))};const me=()=>{};function de({name:e,as:n=W.Button,onClick:a,...r}){return(0,H.createElement)(W.Fill,{name:e},({onClick:t})=>(0,H.createElement)(n,{onClick:a||t?(...e)=>{(a||me)(...e),(t||me)(...e)}:void 0,...r}))}de.Slot=function({name:e,as:t=W.ButtonGroup,fillProps:n={},bubblesVirtually:a,...r}){return(0,H.createElement)(W.Slot,{name:e,bubblesVirtually:a,fillProps:n},e=>{if(!H.Children.toArray(e).length)return null;const n=[];H.Children.forEach(e,({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&n.push(t)});e=H.Children.map(e,e=>!e.props.__unstableExplicitMenuItem&&n.includes(e.props.__unstableTarget)?null:e);return(0,H.createElement)(t,{...r},e)})};var pe=de;const _e=({__unstableExplicitMenuItem:e,__unstableTarget:t,...n})=>(0,H.createElement)(W.MenuItem,{...n});function ge({scope:t,target:n,__unstableExplicitMenuItem:a,...e}){return(0,H.createElement)(ce,{as:e=>(0,H.createElement)(pe,{__unstableExplicitMenuItem:a,__unstableTarget:t+"/"+n,as:_e,name:t+"/plugin-more-menu",...e}),role:"menuitemcheckbox",selectedIcon:A,name:n,scope:t,...e})}function he({scope:e,...t}){return(0,H.createElement)(W.Fill,{name:"PinnedItems/"+e,...t})}he.Slot=function({scope:e,className:t,...n}){return(0,H.createElement)(W.Slot,{name:"PinnedItems/"+e,...n},e=>0<e?.length&&(0,H.createElement)("div",{className:j()(t,"interface-pinned-items")},e))};var ve=he;function Ee({scope:e,children:t,className:n}){return(0,H.createElement)(W.Fill,{name:"ComplementaryArea/"+e},(0,H.createElement)("div",{className:n},t))}var e=n(function({children:e,className:t,closeLabel:n=(0,$.__)("\u5173\u95ed\u63d2\u4ef6"),identifier:r,header:a,headerClassName:i,icon:s,isPinnable:o=!0,panelClassName:l,scope:c,name:u,smallScreenTitle:m,title:d,toggleShortcut:p,isActiveByDefault:_,showIconLabels:g=!1}){const{isLoading:h,isActive:v,isPinned:E,activeArea:y,isSmall:f,isLarge:b}=(0,G.useSelect)(e=>{var{getActiveComplementaryArea:t,isComplementaryAreaLoading:n,isItemPinned:a}=e(D),t=t(c);return{isLoading:n(c),isActive:t===r,isPinned:a(c,r),activeArea:t,isSmall:e(z.store).isViewportMatch("< medium"),isLarge:e(z.store).isViewportMatch("large")}},[r,c]);{var w=c,S=r,x=y,k=v,C=f;const P=(0,H.useRef)(!1),B=(0,H.useRef)(!1),{enableComplementaryArea:R,disableComplementaryArea:L}=(0,G.useDispatch)(D);(0,H.useEffect)(()=>{k&&C&&!P.current?(L(w),B.current=!0):B.current&&!C&&P.current?(B.current=!1,R(w,S)):B.current&&x&&x!==S&&(B.current=!1),C!==P.current&&(P.current=C)},[k,C,w,S,x])}const{enableComplementaryArea:T,disableComplementaryArea:N,pinItem:I,unpinItem:M}=(0,G.useDispatch)(D);return(0,H.useEffect)(()=>{_&&void 0===y&&!f?T(c,r):void 0===y&&f&&N(c,r)},[y,_,c,r,f]),(0,H.createElement)(H.Fragment,null,o&&(0,H.createElement)(ve,{scope:c},E&&(0,H.createElement)(ce,{scope:c,identifier:r,isPressed:v&&(!g||b),"aria-expanded":v,"aria-disabled":h,label:d,icon:g?A:s,showTooltip:!g,variant:g?"tertiary":void 0})),u&&o&&(0,H.createElement)(ge,{target:u,scope:c,icon:s},d),v&&(0,H.createElement)(Ee,{className:j()("interface-complementary-area",t),scope:c},(0,H.createElement)(ue,{className:i,closeLabel:n,onClose:()=>N(c),smallScreenTitle:m,toggleButtonProps:{label:n,shortcut:p,scope:c,identifier:r}},a||(0,H.createElement)(H.Fragment,null,(0,H.createElement)("strong",null,d),o&&(0,H.createElement)(W.Button,{className:"interface-complementary-area__pin-unpin-item",icon:E?F:V,label:E?(0,$.__)("\u4ece\u5de5\u5177\u680f\u79fb\u9664"):(0,$.__)("\u56fa\u5b9a\u81f3\u5de5\u5177\u680f"),onClick:()=>(E?M:I)(c,r),isPressed:E,"aria-expanded":E}))),(0,H.createElement)(W.Panel,{className:l},e)))}),ye=(e.Slot=function({scope:e,...t}){return(0,H.createElement)(W.Slot,{name:"ComplementaryArea/"+e,...t})},e),q=window.gc.compose;function fe({children:e,className:t,ariaLabel:n,as:a="div",...r}){return(0,H.createElement)(a,{className:j()("interface-navigable-region",t),"aria-label":n,role:"region",tabIndex:"-1",...r},e)}const be={hidden:{opacity:0},hover:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}},distractionFreeInactive:{opacity:1,transition:{delay:0}}};var we=(0,H.forwardRef)(function({isDistractionFree:e,footer:t,header:n,editorNotices:a,sidebar:r,secondarySidebar:i,notices:s,content:o,actions:l,labels:c,className:u,enableRegionNavigation:m=!0,shortcuts:d},p){var _,d=(0,W.__unstableUseNavigateRegions)(d);_="interface-interface-skeleton__html-container",(0,H.useEffect)(()=>{const e=document&&document.querySelector(`html:not(.${_})`);if(e)return e.classList.toggle(_),()=>{e.classList.toggle(_)}},[_]);var g={...g={header:(0,$.__)("\u9875\u7709"),body:(0,$.__)("\u5185\u5bb9"),secondarySidebar:(0,$.__)("\u533a\u5757\u5e93"),sidebar:(0,$.__)("\u8bbe\u7f6e"),actions:(0,$.__)("\u53d1\u5e03"),footer:(0,$.__)("\u9875\u811a")},...c};return(0,H.createElement)("div",{...m?d:{},ref:(0,q.useMergeRefs)([p,m?d.ref:void 0]),className:j()(u,"interface-interface-skeleton",d.className,!!t&&"has-footer")},(0,H.createElement)("div",{className:"interface-interface-skeleton__editor"},!!n&&(0,H.createElement)(fe,{as:W.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":g.header,initial:e?"hidden":"distractionFreeInactive",whileHover:e?"hover":"distractionFreeInactive",animate:e?"hidden":"distractionFreeInactive",variants:be,transition:e?{type:"tween",delay:.8}:void 0},n),e&&(0,H.createElement)("div",{className:"interface-interface-skeleton__header"},a),(0,H.createElement)("div",{className:"interface-interface-skeleton__body"},!!i&&(0,H.createElement)(fe,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:g.secondarySidebar},i),!!s&&(0,H.createElement)("div",{className:"interface-interface-skeleton__notices"},s),(0,H.createElement)(fe,{className:"interface-interface-skeleton__content",ariaLabel:g.body},o),!!r&&(0,H.createElement)(fe,{className:"interface-interface-skeleton__sidebar",ariaLabel:g.sidebar},r),!!l&&(0,H.createElement)(fe,{className:"interface-interface-skeleton__actions",ariaLabel:g.actions},l))),!!t&&(0,H.createElement)(fe,{className:"interface-interface-skeleton__footer",ariaLabel:g.footer},t))}),Se=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function xe({as:e=W.DropdownMenu,className:t,label:n=(0,$.__)("\u9009\u9879"),popoverProps:a,toggleProps:r,children:i}){return(0,H.createElement)(e,{className:j()("interface-more-menu-dropdown",t),icon:Se,label:n,popoverProps:{placement:"bottom-end",...a,className:j()("interface-more-menu-dropdown__content",a?.className)},toggleProps:{tooltipPosition:"bottom",...r}},e=>i(e))}function ke({closeModal:e,children:t}){return(0,H.createElement)(W.Modal,{className:"interface-preferences-modal",title:(0,$.__)("\u504f\u597d\u8bbe\u7f6e"),onRequestClose:e},t)}var Ce=function({icon:e,size:t=24,...n}){return(0,H.cloneElement)(e,{width:t,height:t,...n})},Te=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),Ne=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));const Ie="preferences-menu";function Me({sections:t}){var e=(0,q.useViewportMatch)("medium"),[n,a]=(0,H.useState)(Ie);const{tabs:r,sectionsContentMap:i}=(0,H.useMemo)(()=>{let e={tabs:[],sectionsContentMap:{}};return e=t.length?t.reduce((e,{name:t,tabLabel:n,content:a})=>(e.tabs.push({name:t,title:n}),e.sectionsContentMap[t]=a,e),{tabs:[],sectionsContentMap:{}}):e},[t]);var s=(0,H.useCallback)(e=>i[e.name]||null,[i]);let o;return o=e?(0,H.createElement)(W.TabPanel,{className:"interface-preferences__tabs",tabs:r,initialTabName:n!==Ie?n:void 0,onSelect:a,orientation:"vertical"},s):(0,H.createElement)(W.__experimentalNavigatorProvider,{initialPath:"/",className:"interface-preferences__provider"},(0,H.createElement)(W.__experimentalNavigatorScreen,{path:"/"},(0,H.createElement)(W.Card,{isBorderless:!0,size:"small"},(0,H.createElement)(W.CardBody,null,(0,H.createElement)(W.__experimentalItemGroup,null,r.map(e=>(0,H.createElement)(W.__experimentalNavigatorButton,{key:e.name,path:e.name,as:W.__experimentalItem,isAction:!0},(0,H.createElement)(W.__experimentalHStack,{justify:"space-between"},(0,H.createElement)(W.FlexItem,null,(0,H.createElement)(W.__experimentalTruncate,null,e.title)),(0,H.createElement)(W.FlexItem,null,(0,H.createElement)(Ce,{icon:(0,$.isRTL)()?Te:Ne}))))))))),t.length&&t.map(e=>(0,H.createElement)(W.__experimentalNavigatorScreen,{key:e.name+"-menu",path:e.name},(0,H.createElement)(W.Card,{isBorderless:!0,size:"large"},(0,H.createElement)(W.CardHeader,{isBorderless:!1,justify:"left",size:"small",gap:"6"},(0,H.createElement)(W.__experimentalNavigatorBackButton,{icon:(0,$.isRTL)()?Ne:Te,"aria-label":(0,$.__)("\u5bfc\u822a\u81f3\u4e0a\u4e00\u89c6\u56fe")}),(0,H.createElement)(W.__experimentalText,{size:"16"},e.tabLabel)),(0,H.createElement)(W.CardBody,null,e.content)))))}var Pe=({description:e,title:t,children:n})=>(0,H.createElement)("fieldset",{className:"interface-preferences-modal__section"},(0,H.createElement)("legend",{className:"interface-preferences-modal__section-legend"},(0,H.createElement)("h2",{className:"interface-preferences-modal__section-title"},t),e&&(0,H.createElement)("p",{className:"interface-preferences-modal__section-description"},e)),n);function Be({help:e,label:t,isChecked:n,onChange:a,children:r}){return(0,H.createElement)("div",{className:"interface-preferences-modal__option"},(0,H.createElement)(W.ToggleControl,{__nextHasNoMarginBottom:!0,help:e,label:t,checked:n,onChange:a}),r)}function Re(e){return"string"==typeof e?0<e.length:"number"==typeof e}function i(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0}function s(e,t,n){return void 0===t&&(t=0),(n=void 0===n?1:n)<e?n:t<e?e:t}function Le(e){return 0<(e=isFinite(e)?e%360:0)?e:e+360}function De(e){return{r:s(e.r,0,255),g:s(e.g,0,255),b:s(e.b,0,255),a:s(e.a)}}function Ae(e){return{r:i(e.r),g:i(e.g),b:i(e.b),a:i(e.a,3)}}function Fe(e){return(e=e.toString(16)).length<2?"0"+e:e}function Ve(e){var t=e.r,n=e.g,a=e.b,e=e.a,r=Math.max(t,n,a),i=r-Math.min(t,n,a);return{h:60*((a=i?r===t?(n-a)/i:r===n?2+(a-t)/i:4+(t-n)/i:0)<0?6+a:a),s:r?i/r*100:0,v:r/255*100,a:e}}function ze(e){var t=e.h,n=e.s,a=e.v,e=e.a,t=t/360*6,r=(n/=100,a/=100,Math.floor(t)),i=a*(1-n),s=a*(1-(t-r)*n);return{r:255*[a,s,i,i,t=a*(1-(1-t+r)*n),a][n=r%6],g:255*[t,a,a,s,i,i][n],b:255*[i,i,t,a,a,s][n],a:e}}function Oe(e){return{h:Le(e.h),s:s(e.s,0,100),l:s(e.l,0,100),a:s(e.a)}}function He(e){return{h:i(e.h),s:i(e.s),l:i(e.l),a:i(e.a,3)}}function Ge(e){return ze((t=e.s,{h:e.h,s:0<(t*=((n=e.l)<50?n:100-n)/100)?2*t/(n+t)*100:0,v:n+t,a:e.a}));var t,n}function Ue(e){return{h:(e=Ve(e)).h,s:0<(a=(200-(t=e.s))*(n=e.v)/100)&&a<200?t*n/100/(a<=100?a:200-a)*100:0,l:a/2,a:e.a};var t,n,a}function je(e){return"string"==typeof e?it(e.trim(),rt.string):"object"==typeof e&&null!==e?it(e,rt.object):[null,void 0]}function We(e,t){return{h:(e=Ue(e)).h,s:s(e.s+100*t,0,100),l:e.l,a:e.a}}function $e(e){return(299*e.r+587*e.g+114*e.b)/1e3/255}function Ze(e,t){return{h:(e=Ue(e)).h,s:e.s,l:s(e.l+100*t,0,100),a:e.a}}var qe=window.gc.widgets,Ye=window.gc.hooks,Xe=window.gc.mediaUtils,Ke=((0,Ye.addFilter)("editor.MediaUpload","core/edit-site/components/media-upload",()=>Xe.MediaUpload),window.lodash),I=window.gc.blockEditor,Y=window.gc.notices,Qe={grad:.9,turn:360,rad:360/(2*Math.PI)},Je=/^#([0-9a-f]{3,8})$/i,et=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,tt=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,nt=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,at=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,rt={string:[[function(e){var t=Je.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?i(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?i(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){e=nt.exec(e)||at.exec(e);return!e||e[2]!==e[4]||e[4]!==e[6]?null:De({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:void 0===e[7]?1:Number(e[7])/(e[8]?100:1)})},"rgb"],[function(e){var t,n,e=et.exec(e)||tt.exec(e);return e?(n=Oe({h:(n=e[1],void 0===(t=e[2])&&(t="deg"),Number(n)*(Qe[t]||1)),s:Number(e[3]),l:Number(e[4]),a:void 0===e[5]?1:Number(e[5])/(e[6]?100:1)}),Ge(n)):null},"hsl"]],object:[[function(e){var t=e.r,n=e.g,a=e.b,e=e.a,e=void 0===e?1:e;return Re(t)&&Re(n)&&Re(a)?De({r:Number(t),g:Number(n),b:Number(a),a:Number(e)}):null},"rgb"],[function(e){var t=e.h,n=e.s,a=e.l,e=e.a,e=void 0===e?1:e;return Re(t)&&Re(n)&&Re(a)?(t=Oe({h:Number(t),s:Number(n),l:Number(a),a:Number(e)}),Ge(t)):null},"hsl"],[function(e){var t=e.h,n=e.s,a=e.v,e=e.a,e=void 0===e?1:e;return Re(t)&&Re(n)&&Re(a)?(t={h:Number(t),s:Number(n),v:Number(a),a:Number(e)},n={h:Le(t.h),s:s(t.s,0,100),v:s(t.v,0,100),a:s(t.a)},ze(n)):null},"hsv"]]},it=function(e,t){for(var n=0;n<t.length;n++){var a=t[n][0](e);if(a)return[a,t[n][1]]}return[null,void 0]},st=(a.prototype.isValid=function(){return null!==this.parsed},a.prototype.brightness=function(){return i($e(this.rgba),2)},a.prototype.isDark=function(){return $e(this.rgba)<.5},a.prototype.isLight=function(){return.5<=$e(this.rgba)},a.prototype.toHex=function(){return e=(a=Ae(this.rgba)).r,t=a.g,n=a.b,a=(a=a.a)<1?Fe(i(255*a)):"","#"+Fe(e)+Fe(t)+Fe(n)+a;var e,t,n,a},a.prototype.toRgb=function(){return Ae(this.rgba)},a.prototype.toRgbString=function(){return e=(a=Ae(this.rgba)).r,t=a.g,n=a.b,(a=a.a)<1?"rgba("+e+", "+t+", "+n+", "+a+")":"rgb("+e+", "+t+", "+n+")";var e,t,n,a},a.prototype.toHsl=function(){return He(Ue(this.rgba))},a.prototype.toHslString=function(){return e=(a=He(Ue(this.rgba))).h,t=a.s,n=a.l,(a=a.a)<1?"hsla("+e+", "+t+"%, "+n+"%, "+a+")":"hsl("+e+", "+t+"%, "+n+"%)";var e,t,n,a},a.prototype.toHsv=function(){return e=Ve(this.rgba),{h:i(e.h),s:i(e.s),v:i(e.v),a:i(e.a,3)};var e},a.prototype.invert=function(){return ot({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},a.prototype.saturate=function(e){return ot(We(this.rgba,e=void 0===e?.1:e))},a.prototype.desaturate=function(e){return ot(We(this.rgba,-(e=void 0===e?.1:e)))},a.prototype.grayscale=function(){return ot(We(this.rgba,-1))},a.prototype.lighten=function(e){return ot(Ze(this.rgba,e=void 0===e?.1:e))},a.prototype.darken=function(e){return ot(Ze(this.rgba,-(e=void 0===e?.1:e)))},a.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},a.prototype.alpha=function(e){return"number"==typeof e?ot({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):i(this.rgba.a,3);var t},a.prototype.hue=function(e){var t=Ue(this.rgba);return"number"==typeof e?ot({h:e,s:t.s,l:t.l,a:t.a}):i(t.h)},a.prototype.isEqual=function(e){return this.toHex()===ot(e).toHex()},a),ot=function(e){return e instanceof st?e:new st(e)},lt=[];function a(e){this.parsed=je(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}function ct(e){return.2126*ut(e.r)+.7152*ut(e.g)+.0722*ut(e.b)}var ut=function(e){e/=255;return e<.04045?e/12.92:Math.pow((.055+e)/1.055,2.4)};const X=(0,window.gc.privateApis.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I know using unstable features means my plugin or theme will inevitably break on the next GeChiUI release.","@gechiui/edit-site")["unlock"],mt=X(I.privateApis)["useGlobalSetting"];function dt(e){const[t,a]=mt("color.palette.theme",e);return window.__experimentalEnableColorRandomizer?[function(){const n=Math.floor(225*Math.random());var e=t.map(e=>{var t=e["color"],t=ot(t).rotate(n).toHex();return{...e,color:t}});a(e)}]:[]}[function(a){a.prototype.luminance=function(){return e=ct(this.rgba),t=2,void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0;var e,t,n},a.prototype.contrast=function(e){var t,e=(e=void 0===e?"#FFF":e)instanceof a?e:new a(e),n=this.rgba,e=e.toRgb(),n=ct(n),e=ct(e),e=e<n?(n+.05)/(e+.05):(e+.05)/(n+.05),n=2;return void 0===t&&(t=Math.pow(10,n)),Math.floor(t*e)/t+0},a.prototype.isReadable=function(e,t){return void 0===t&&(t={}),this.contrast(e=void 0===e?"#FFF":e)>=(e=void 0===(e=t.size)?"normal":e,"AAA"===(t=void 0===(t=t.level)?"AA":t)&&"normal"===e?7:"AA"===t&&"large"===e?3:4.5)}}].forEach(function(e){lt.indexOf(e)<0&&(e(st,rt),lt.push(e))});const{GlobalStylesContext:pt,useBlockEditingMode:_t}=X(I.privateApis),gt={"color.background":"color","color.text":"color","elements.link.color.text":"color","elements.link.:hover.color.text":"color","elements.link.typography.fontFamily":"font-family","elements.link.typography.fontSize":"font-size","elements.button.color.text":"color","elements.button.color.background":"color","elements.button.typography.fontFamily":"font-family","elements.button.typography.fontSize":"font-size","elements.caption.color.text":"color","elements.heading.color":"color","elements.heading.color.background":"color","elements.heading.typography.fontFamily":"font-family","elements.heading.gradient":"gradient","elements.heading.color.gradient":"gradient","elements.h1.color":"color","elements.h1.color.background":"color","elements.h1.typography.fontFamily":"font-family","elements.h1.color.gradient":"gradient","elements.h2.color":"color","elements.h2.color.background":"color","elements.h2.typography.fontFamily":"font-family","elements.h2.color.gradient":"gradient","elements.h3.color":"color","elements.h3.color.background":"color","elements.h3.typography.fontFamily":"font-family","elements.h3.color.gradient":"gradient","elements.h4.color":"color","elements.h4.color.background":"color","elements.h4.typography.fontFamily":"font-family","elements.h4.color.gradient":"gradient","elements.h5.color":"color","elements.h5.color.background":"color","elements.h5.typography.fontFamily":"font-family","elements.h5.color.gradient":"gradient","elements.h6.color":"color","elements.h6.color.background":"color","elements.h6.typography.fontFamily":"font-family","elements.h6.color.gradient":"gradient","color.gradient":"gradient","typography.fontSize":"font-size","typography.fontFamily":"font-family"},ht={"color.background":"backgroundColor","color.text":"textColor","color.gradient":"gradient","typography.fontSize":"fontSize","typography.fontFamily":"fontFamily"},vt=["border","color","spacing","typography"];function Et(e,a){n=e;const t=(0,G.useSelect)(e=>({supportedPanels:X(e(b.store)).getSupportedStyles(n,r)}),[n,r]).supportedPanels;var n,r;return(0,H.useMemo)(()=>t.flatMap(e=>{var t,n;return b.__EXPERIMENTAL_STYLE_PROPERTY[e]&&(e=b.__EXPERIMENTAL_STYLE_PROPERTY[e].value,n=e.join("."),n=(t=a[ht[n]])?`var:preset|${gt[n]}|`+t:(0,Ke.get)(a.style,e))?[{path:e,value:n}]:[]}),[t,e,a])}function yt(e){return e?JSON.parse(JSON.stringify(e)):{}}function ft({name:i,attributes:s,setAttributes:o}){const l=Et(i,s),{user:c,setUserConfig:u}=(0,H.useContext)(pt),m=(0,G.useDispatch)(I.store)["__unstableMarkNextChangeAsNotPersistent"],d=(0,G.useDispatch)(Y.store)["createSuccessNotice"];var e=(0,H.useCallback)(()=>{if(0!==l.length){const a=s["style"];var e,t,n=yt(a);const r=yt(c);for({path:e,value:t}of l)(0,Ke.set)(n,e,void 0),(0,Ke.set)(r,["styles","blocks",i,...e],t);m(),o({style:n}),u(()=>r,{undoIgnore:!0}),d((0,$.sprintf)((0,$.__)("%s styles applied."),(0,b.getBlockType)(i).title),{type:"snackbar",actions:[{label:(0,$.__)("\u64a4\u9500"),onClick(){m(),o({style:a}),u(()=>c,{undoIgnore:!0})}}]})}},[l,s,c,i]);return(0,H.createElement)(W.BaseControl,{className:"edit-site-push-changes-to-global-styles-control",help:(0,$.sprintf)((0,$.__)("\u5c06\u6b64\u5757\u7684\u7248\u5f0f\u3001\u95f4\u8ddd\u3001\u5c3a\u5bf8\u548c\u989c\u8272\u6837\u5f0f\u5e94\u7528\u4e8e\u6240\u6709%s\u5757\u3002"),(0,b.getBlockType)(i).title)},(0,H.createElement)(W.BaseControl.VisualLabel,null,(0,$.__)("\u6837\u5f0f")),(0,H.createElement)(W.Button,{variant:"primary",disabled:0===l.length,onClick:e},(0,$.__)("\u5e94\u7528\u5230\u5168\u5c40")))}var c=(0,q.createHigherOrderComponent)(a=>t=>{var e=_t(),n=vt.some(e=>(0,b.hasBlockSupport)(t.name,e));return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(a,{...t}),"default"===e&&n&&(0,H.createElement)(I.InspectorAdvancedControls,null,(0,H.createElement)(ft,{...t})))}),n=((0,Ye.addFilter)("editor.BlockEdit","core/edit-site/push-changes-to-global-styles",c),window.gc.router),u=window.gc.url;function p(){return void 0!==(0,u.getQueryArg)(window.location.href,"gc_theme_preview")}function bt(){return p()?(0,u.getQueryArg)(window.location.href,"gc_theme_preview"):null}const wt=X(n.privateApis)["useHistory"];function w(t={},n,a=!1){const r=wt();var e=(0,u.getQueryArgs)(window.location.href),e=(0,u.removeQueryArgs)(window.location.href,...Object.keys(e)),e=(p()&&(t={...t,gc_theme_preview:bt()}),(0,u.addQueryArgs)(e,t));return{href:e,onClick:function(e){e.preventDefault(),a?r.replace(t,n):r.push(t,n)}}}function St({params:e={},state:t,replace:n=!1,children:a,...r}){var{href:e,onClick:t}=w(e,t,n);return(0,H.createElement)("a",{href:e,onClick:t,...r},a)}const xt=X(n.privateApis)["useLocation"];function kt({attributes:e}){const{theme:t,slug:n}=e;var e=xt()["params"],a=(0,G.useSelect)(e=>e(U.store).getEntityRecord("postType","gc_template_part",t+"//"+n),[t,n]);const r=w({postId:a?.id,postType:a?.type,canvas:"edit"},{fromTemplateId:e.postId});return a?(0,H.createElement)(I.BlockControls,{group:"other"},(0,H.createElement)(W.ToolbarButton,{...r,onClick:e=>{r.onClick(e)}},(0,$.__)("\u7f16\u8f91"))):null}e=(0,q.createHigherOrderComponent)(a=>e=>{var{attributes:t,name:n}=e,n="core/template-part"===n&&t.slug;return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(a,{...e}),n&&(0,H.createElement)(kt,{attributes:t}))},"withEditBlockControls");(0,Ye.addFilter)("editor.BlockEdit","core/edit-site/template-part-edit-button",e);const Ct=X(n.privateApis)["useLocation"],Tt=X(I.privateApis)["useBlockEditingMode"];function Nt({attributes:e}){const t=e["ref"];var e=Ct()["params"],n=Tt(),a=(0,G.useSelect)(e=>e(U.store).getEntityRecord("postType","gc_navigation",t),[t]);const r=w({postId:a?.id,postType:a?.type,canvas:"edit"},{fromTemplateId:e.postId});return a&&"default"===n?(0,H.createElement)(I.BlockControls,{group:"other"},(0,H.createElement)(W.ToolbarButton,{...r,onClick:e=>{r.onClick(e)}},(0,$.__)("\u7f16\u8f91"))):null}c=(0,q.createHigherOrderComponent)(a=>e=>{var{attributes:t,name:n}=e,n="core/navigation"===n&&t.ref;return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(a,{...e}),n&&(0,H.createElement)(Nt,{attributes:t}))},"withEditBlockControls");(0,Ye.addFilter)("editor.BlockEdit","core/edit-site/navigation-edit-button",c);var e=(0,G.combineReducers)({deviceType:function(e="Desktop",t){return"SET_PREVIEW_DEVICE_TYPE"===t.type?t.deviceType:e},settings:function(e={},t){return"UPDATE_SETTINGS"===t.type?{...e,...t.settings}:e},editedPost:function(e={},t){switch(t.type){case"SET_EDITED_POST":return{postType:t.postType,id:t.id,context:t.context};case"SET_EDITED_POST_CONTEXT":return{...e,context:t.context}}return e},blockInserterPanel:function(e=!1,t){switch(t.type){case"SET_IS_LIST_VIEW_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return t.value;case"SET_CANVAS_MODE":return!1}return e},listViewPanel:function(e=!1,t){switch(t.type){case"SET_IS_INSERTER_OPENED":return!t.value&&e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen;case"SET_CANVAS_MODE":return!1}return e},saveViewPanel:function(e=!1,t){switch(t.type){case"SET_IS_SAVE_VIEW_OPENED":return t.isOpen;case"SET_CANVAS_MODE":return!1}return e},canvasMode:function(e="init",t){return"SET_CANVAS_MODE"===t.type?t.mode:e},editorCanvasContainerView:function(e=void 0,t){return"SET_EDITOR_CANVAS_CONTAINER_VIEW"===t.type?t.view:e},hasPageContentFocus:function(e=!1,t){switch(t.type){case"SET_EDITED_POST":return!!t.context?.postId;case"SET_HAS_PAGE_CONTENT_FOCUS":return t.hasPageContentFocus}return e}}),c=window.gc.apiFetch,It=Tm.n(c),Mt=window.gc.a11y,M=window.gc.htmlEntities;const Pt="core/edit-site";function Bt(e){return!!e&&"custom"===e?.source&&e?.has_theme_file}function Rt(t){return function({registry:e}){r()("select( 'core/edit-site' ).toggleFeature( featureName )",{since:"6.0",alternative:"select( 'core/preferences').toggle( 'core/edit-site', featureName )"}),e.dispatch(Z.store).toggle("core/edit-site",t)}}function Lt(e){return{type:"SET_PREVIEW_DEVICE_TYPE",deviceType:e}}const Dt=(a,r)=>async({dispatch:e,registry:t})=>{if(!r)try{var n=await t.resolveSelect(U.store).getEntityRecord("postType","gc_template",a);r=n?.slug}catch(e){}e({type:"SET_EDITED_POST",postType:"gc_template",id:a,context:{templateSlug:r}})},At=a=>async({dispatch:e,registry:t})=>{var n=await t.dispatch(U.store).saveEntityRecord("postType","gc_template",a);a.content&&t.dispatch(U.store).editEntityRecord("postType","gc_template",n.id,{blocks:(0,b.parse)(a.content)},{undoIgnore:!0}),e({type:"SET_EDITED_POST",postType:"gc_template",id:n.id,context:{templateSlug:n.slug}})},Ft=a=>async({registry:t})=>{try{await t.dispatch(U.store).deleteEntityRecord("postType",a.type,a.id,{force:!0});var n=t.select(U.store).getLastEntityDeleteError("postType",a.type,a.id);if(n)throw n;var e="string"==typeof a.title?a.title:a.title?.rendered;t.dispatch(Y.store).createSuccessNotice((0,$.sprintf)((0,$.__)("\u201c%s\u201d\u5df2\u5220\u9664\u3002"),(0,M.decodeEntities)(e)),{type:"snackbar",id:"site-editor-template-deleted-success"})}catch(e){n=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u5220\u9664\u6a21\u677f\u65f6\u51fa\u9519\u3002");t.dispatch(Y.store).createErrorNotice(n,{type:"snackbar"})}};function Vt(e){return{type:"SET_EDITED_POST",postType:"gc_template_part",id:e}}function zt(e){return{type:"SET_EDITED_POST",postType:"gc_navigation",id:e}}function Ot(e,t){return{type:"SET_EDITED_POST",postType:e,id:t}}function Ht(){return r()("dispatch( 'core/edit-site' ).setHomeTemplateId",{since:"6.2",version:"6.4"}),{type:"NOTHING"}}function Gt(e){return{type:"SET_EDITED_POST_CONTEXT",context:e}}const Ut=a=>async({dispatch:e,registry:t})=>{!a.path&&a.context?.postId&&(n=await t.resolveSelect(U.store).getEntityRecord("postType",a.context.postType||"post",a.context.postId),a.path=(0,u.getPathAndQueryString)(n?.link));var n=await t.resolveSelect(U.store).__experimentalGetTemplateForLink(a.path);if(n)return e({type:"SET_EDITED_POST",postType:"gc_template",id:n.id,context:{...a.context,templateSlug:n.slug}}),n.id};function jt(){return r()("dispatch( 'core/edit-site' ).setNavigationPanelActiveMenu",{since:"6.2",version:"6.4"}),{type:"NOTHING"}}function Wt(){return r()("dispatch( 'core/edit-site' ).openNavigationPanelToMenu",{since:"6.2",version:"6.4"}),{type:"NOTHING"}}function $t(){return r()("dispatch( 'core/edit-site' ).setIsNavigationPanelOpened",{since:"6.2",version:"6.4"}),{type:"NOTHING"}}function Zt(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function qt(e){return{type:"UPDATE_SETTINGS",settings:e}}function Yt(e){return{type:"SET_IS_LIST_VIEW_OPENED",isOpen:e}}function Xt(e){return{type:"SET_IS_SAVE_VIEW_OPENED",isOpen:e}}const Kt=(l,{allowUndo:c=!0}={})=>async({registry:t})=>{var e="edit-site-template-reverted";if(t.dispatch(Y.store).removeNotice(e),Bt(l))try{var n=t.select(U.store).getEntityConfig("postType",l.type);if(n){var a=(0,u.addQueryArgs)(n.baseURL+"/"+l.id,{context:"edit",source:"theme"}),r=await It()({path:a});if(r){const s=({blocks:e=[]})=>(0,b.__unstableSerializeAndClean)(e),o=t.select(U.store).getEditedEntityRecord("postType",l.type,l.id);t.dispatch(U.store).editEntityRecord("postType",l.type,l.id,{content:s,blocks:o.blocks,source:"custom"},{undoIgnore:!0});var i=(0,b.parse)(r?.content?.raw);t.dispatch(U.store).editEntityRecord("postType",l.type,r.id,{content:s,blocks:i,source:"theme"}),c&&t.dispatch(Y.store).createSuccessNotice((0,$.__)("\u6a21\u677f\u5df2\u8fd8\u539f\u3002"),{type:"snackbar",id:e,actions:[{label:(0,$.__)("\u64a4\u9500"),onClick:()=>{t.dispatch(U.store).editEntityRecord("postType",l.type,o.id,{content:s,blocks:o.blocks,source:"custom"})}}]})}else t.dispatch(Y.store).createErrorNotice((0,$.__)("\u7f16\u8f91\u5668\u610f\u5916\u9519\u8bef\u3002\u8bf7\u91cd\u65b0\u52a0\u8f7d\u3002"),{type:"snackbar"})}else t.dispatch(Y.store).createErrorNotice((0,$.__)("\u7f16\u8f91\u5668\u610f\u5916\u9519\u8bef\u3002\u8bf7\u91cd\u65b0\u52a0\u8f7d\u3002"),{type:"snackbar"})}catch(e){n=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u6a21\u677f\u8fd8\u539f\u5931\u8d25\u3002\u8bf7\u91cd\u65b0\u52a0\u8f7d\u3002");t.dispatch(Y.store).createErrorNotice(n,{type:"snackbar"})}else t.dispatch(Y.store).createErrorNotice((0,$.__)("\u6b64\u6a21\u677f\u65e0\u6cd5\u6062\u590d\u3002"),{type:"snackbar"})},Qt=t=>({registry:e})=>{e.dispatch(D).enableComplementaryArea(Pt,t)},Jt=()=>({registry:e})=>{e.dispatch(D).disableComplementaryArea(Pt)},en=t=>({registry:e})=>{e.dispatch("core/preferences").set("core/edit-site","editorMode",t),"visual"!==t&&e.dispatch(I.store).clearSelectedBlock(),"visual"===t?(0,Mt.speak)((0,$.__)("\u5df2\u9009\u62e9\u53ef\u89c6\u5316\u7f16\u8f91\u5668"),"assertive"):"text"===t&&(0,Mt.speak)((0,$.__)("\u5df2\u9009\u62e9\u4ee3\u7801\u7f16\u8f91\u5668"),"assertive")},tn=n=>({dispatch:e,registry:t})=>{n&&t.dispatch(I.store).clearSelectedBlock(),e({type:"SET_HAS_PAGE_CONTENT_FOCUS",hasPageContentFocus:n})},nn=a=>({registry:e,dispatch:t,select:n})=>{e.dispatch(I.store).__unstableSetEditorMode("edit"),t({type:"SET_CANVAS_MODE",mode:a}),"edit"===a&&e.select(Z.store).get("core/edit-site","showListViewByDefault")&&!e.select(Z.store).get("core/edit-site","distractionFree")&&t.setIsListViewOpened(!0),"view"===a&&n.isPage()&&t.setHasPageContentFocus(!0)},an=t=>({dispatch:e})=>{e({type:"SET_EDITOR_CANVAS_CONTAINER_VIEW",view:t})};var rn,sn,on,ln,cn,un,mn,dn,pn={};function _n(e){return[e]}function gn(e,t,n){var a;if(e.length===t.length){for(a=n;a<e.length;a++)if(e[a]!==t[a])return;return 1}}const hn=[];rn=function(e=hn,t){for(var n,a,r=t?t.reduce((e,t)=>({...e,[t.id]:t}),{}):{},i=[],s=[...e];s.length;){const{innerBlocks:o,...l}=s.shift();s.unshift(...o),(0,b.isTemplatePart)(l)&&({theme:a,slug:n}=l["attributes"],a=r[a+"//"+n])&&i.push({templatePart:a,block:l})}return i},cn=0,sn=sn||{},En.clear=function(){ln=on=null,cn=0};const vn=En;function En(){var e,t,n=on,a=arguments.length;e:for(;n;){if(n.args.length===arguments.length){for(t=0;t<a;t++)if(n.args[t]!==arguments[t]){n=n.next;continue e}return n!==on&&(n===ln&&(ln=n.prev),n.prev.next=n.next,n.next&&(n.next.prev=n.prev),n.next=on,n.prev=null,on.prev=n,on=n),n.val}n=n.next}for(e=new Array(a),t=0;t<a;t++)e[t]=arguments[t];return n={args:e,val:rn.apply(null,e)},on?(on.prev=n).next=on:ln=n,cn===sn.maxSize?(ln=ln.prev).next=null:cn++,(on=n).val}const o=(0,G.createRegistrySelector)(n=>(e,t)=>n(Z.store).get("core/edit-site",t));function yn(e,t){return r()("select( 'core/edit-site' ).isFeatureActive",{since:"6.0",alternative:"select( 'core/preferences' ).get"}),!!o(e,t)}function fn(e){return e.deviceType}const bn=(0,G.createRegistrySelector)(e=>()=>e(U.store).canUser("create","media")),wn=(0,G.createRegistrySelector)(e=>()=>{return"web"===H.Platform.OS?e(U.store).getEntityRecords("postType","gc_block",{per_page:-1}):[]}),Sn=(un=(n,e)=>{e={...n.settings,outlineMode:!0,focusMode:!!o(n,"focusMode"),isDistractionFree:!!o(n,"distractionFree"),hasFixedToolbar:!!o(n,"fixedToolbar"),keepCaretInsideBlock:!!o(n,"keepCaretInsideBlock"),showIconLabels:!!o(n,"showIconLabels"),__experimentalSetIsInserterOpened:e,__experimentalReusableBlocks:wn(n),__experimentalPreferPatternsOnRoot:"gc_template"===Tn(n)};return bn(n)&&(e.mediaUpload=({onError:t,...e})=>{(0,Xe.uploadMedia)({gcAllowedMimeTypes:n.settings.allowedMimeTypes,onError:({message:e})=>t(e),...e})}),e},dn=(e=>[bn(e),e.settings,o(e,"focusMode"),o(e,"distractionFree"),o(e,"fixedToolbar"),o(e,"keepCaretInsideBlock"),o(e,"showIconLabels"),wn(e),Tn(e)])||_n,kn.getDependants=dn,(kn.clear=xn)(),kn);function xn(){mn=new WeakMap}function kn(){for(var e,t,n,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];for((e=function(e){for(var t,n,a,r,i=mn,s=!0,o=0;o<e.length;o++){if(t=e[o],!(a=t)||"object"!=typeof a){s=!1;break}i=i.has(t)?i.get(t):(a=new WeakMap,i.set(t,a),a)}return i.has(pn)||((n=r={clear:function(){r.head=null}}).isUniqueByDependants=s,i.set(pn,n)),i.get(pn)}(n=dn.apply(null,r))).isUniqueByDependants||(e.lastDependants&&!gn(n,e.lastDependants,0)&&e.clear(),e.lastDependants=n),t=e.head;t;){if(gn(t.args,r,1))return t!==e.head&&(t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.next=e.head,t.prev=null,e.head.prev=t,e.head=t),t.val;t=t.next}return t={val:un.apply(null,r)},r[0]=null,t.args=r,e.head&&((e.head.prev=t).next=e.head),(e.head=t).val}function Cn(){r()("select( 'core/edit-site' ).getHomeTemplateId",{since:"6.2",version:"6.4"})}function Tn(e){return e.editedPost.postType}function Nn(e){return e.editedPost.id}function In(e){return e.editedPost.context}function Mn(e){return{context:e.editedPost.context}}function Pn(e){return!!e.blockInserterPanel}const Bn=(0,G.createRegistrySelector)(r=>e=>{var t,n;if("object"==typeof e.blockInserterPanel)return{rootClientId:a,insertionIndex:t,filterValue:n}=e.blockInserterPanel,{rootClientId:a,insertionIndex:t,filterValue:n};if(Hn(e)){var[a]=r(I.store).__experimentalGetGlobalBlocksByName("core/post-content");if(a)return{rootClientId:a,insertionIndex:void 0,filterValue:void 0}}return{rootClientId:void 0,insertionIndex:void 0,filterValue:void 0}});function Rn(e){return e.listViewPanel}function Ln(e){return e.saveViewPanel}const Dn=(0,G.createRegistrySelector)(n=>e=>{var t=Tn(e),e=Nn(e),t=n(U.store).getEditedEntityRecord("postType",t,e),e=n(U.store).getEntityRecords("postType","gc_template_part",{per_page:-1});return vn(t.blocks,e)});function An(e){return o(e,"editorMode")}function Fn(){r()("dispatch( 'core/edit-site' ).getCurrentTemplateNavigationPanelSubMenu",{since:"6.2",version:"6.4"})}function Vn(){r()("dispatch( 'core/edit-site' ).getNavigationPanelActiveMenu",{since:"6.2",version:"6.4"})}function zn(){r()("dispatch( 'core/edit-site' ).isNavigationOpened",{since:"6.2",version:"6.4"})}function On(e){return!!e.editedPost.context?.postId}function Hn(e){return!!On(e)&&e.hasPageContentFocus}function Gn(e){return e.canvasMode}function Un(e){return e.editorCanvasContainerView}const K=(0,G.createReduxStore)(Pt,{reducer:e,actions:d,selectors:v});(0,G.register)(K),X(K).registerPrivateSelectors(E),X(K).registerPrivateActions(_);var Q=window.gc.keyboardShortcuts,J=window.gc.commands,c=window.gc.coreCommands,jn=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.5c-3.6 0-6.5-2.9-6.5-6.5S8.4 5.5 12 5.5s6.5 2.9 6.5 6.5-2.9 6.5-6.5 6.5zM9 16l4.5-3L15 8.4l-4.5 3L9 16z"})),Wn=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M12 4c-4.4 0-8 3.6-8 8v.1c0 4.1 3.2 7.5 7.2 7.9h.8c4.4 0 8-3.6 8-8s-3.6-8-8-8zm0 15V5c3.9 0 7 3.1 7 7s-3.1 7-7 7z"})),$n=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z"})),Zn=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})),qn=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-1 1.4l-5.6 5.6c-.1.1-.3.1-.4 0l-5.6-5.6c-.1-.1-.1-.3 0-.4l5.6-5.6s.1-.1.2-.1.1 0 .2.1l5.6 5.6c.1.1.1.3 0 .4zm-16.6-.4L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z"}));function y(e){return(0,H.createElement)(W.Button,{...e,className:j()("edit-site-sidebar-button",e.className)})}const Yn=X(n.privateApis)["useLocation"];function Xn({isRoot:e,title:t,actions:n,meta:a,content:r,footer:i,description:s,backPath:o}){var l=(0,G.useSelect)(e=>{e=X(e(K)).getSettings;return{dashboardLink:e().__experimentalDashboardLink}},[])["dashboardLink"],c=(0,G.useSelect)(U.store)["getTheme"];const u=Yn(),m=(0,W.__experimentalUseNavigator)();var c=c(bt()),d=(0,$.isRTL)()?Ne:Te;return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.__experimentalVStack,{className:j()("edit-site-sidebar-navigation-screen__main",{"has-footer":!!i}),spacing:0,justify:"flex-start"},(0,H.createElement)(W.__experimentalHStack,{spacing:4,alignment:"flex-start",className:"edit-site-sidebar-navigation-screen__title-icon"},!e&&(0,H.createElement)(y,{onClick:()=>{var e=null!=o?o:u.state?.backPath;e?m.goTo(e,{isBack:!0}):m.goToParent()},icon:d,label:(0,$.__)("\u8fd4\u56de"),showTooltip:!1}),e&&(0,H.createElement)(y,{icon:d,label:p()?(0,$.__)("\u8fd4\u56de\u4e3b\u9898\u5c55\u793a"):(0,$.__)("\u8f6c\u5230\u4eea\u8868\u677f"),href:p()?"themes.php":l||"index.php"}),(0,H.createElement)(W.__experimentalHeading,{className:"edit-site-sidebar-navigation-screen__title",color:"#e0e0e0",level:1,size:20},p()?(0,$.sprintf)("Previewing %1$s: %2$s",c?.name?.rendered,t):t),n&&(0,H.createElement)("div",{className:"edit-site-sidebar-navigation-screen__actions"},n)),a&&(0,H.createElement)(H.Fragment,null,(0,H.createElement)("div",{className:"edit-site-sidebar-navigation-screen__meta"},a)),(0,H.createElement)("div",{className:"edit-site-sidebar-navigation-screen__content"},s&&(0,H.createElement)("p",{className:"edit-site-sidebar-navigation-screen__description"},s),r)),i&&(0,H.createElement)("footer",{className:"edit-site-sidebar-navigation-screen__footer"},i))}var Kn=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z"})),Qn=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M10.8622 8.04053L14.2805 12.0286L10.8622 16.0167L9.72327 15.0405L12.3049 12.0286L9.72327 9.01672L10.8622 8.04053Z"}));function g({className:e,icon:t,withChevron:n=!1,suffix:a,children:r,...i}){return(0,H.createElement)(W.__experimentalItem,{className:j()("edit-site-sidebar-navigation-item",{"with-suffix":!n&&a},e),...i},(0,H.createElement)(W.__experimentalHStack,{justify:"flex-start"},t&&(0,H.createElement)(Ce,{style:{fill:"currentcolor"},icon:t,size:24}),(0,H.createElement)(W.FlexBlock,null,r),n&&(0,H.createElement)(Ce,{icon:(0,$.isRTL)()?Kn:Qn,className:"edit-site-sidebar-navigation-item__drilldown-indicator",size:24}),!n&&a))}var Jn=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M5.5 12h1.75l-2.5 3-2.5-3H4a8 8 0 113.134 6.35l.907-1.194A6.5 6.5 0 105.5 12zm9.53 1.97l-2.28-2.28V8.5a.75.75 0 00-1.5 0V12a.747.747 0 00.218.529l1.282-.84-1.28.842 2.5 2.5a.75.75 0 101.06-1.061z"})),ea=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M3.99961 13C4.67043 13.3354 4.6703 13.3357 4.67017 13.3359L4.67298 13.3305C4.67621 13.3242 4.68184 13.3135 4.68988 13.2985C4.70595 13.2686 4.7316 13.2218 4.76695 13.1608C4.8377 13.0385 4.94692 12.8592 5.09541 12.6419C5.39312 12.2062 5.84436 11.624 6.45435 11.0431C7.67308 9.88241 9.49719 8.75 11.9996 8.75C14.502 8.75 16.3261 9.88241 17.5449 11.0431C18.1549 11.624 18.6061 12.2062 18.9038 12.6419C19.0523 12.8592 19.1615 13.0385 19.2323 13.1608C19.2676 13.2218 19.2933 13.2686 19.3093 13.2985C19.3174 13.3135 19.323 13.3242 19.3262 13.3305L19.3291 13.3359C19.3289 13.3357 19.3288 13.3354 19.9996 13C20.6704 12.6646 20.6703 12.6643 20.6701 12.664L20.6697 12.6632L20.6688 12.6614L20.6662 12.6563L20.6583 12.6408C20.6517 12.6282 20.6427 12.6108 20.631 12.5892C20.6078 12.5459 20.5744 12.4852 20.5306 12.4096C20.4432 12.2584 20.3141 12.0471 20.1423 11.7956C19.7994 11.2938 19.2819 10.626 18.5794 9.9569C17.1731 8.61759 14.9972 7.25 11.9996 7.25C9.00203 7.25 6.82614 8.61759 5.41987 9.9569C4.71736 10.626 4.19984 11.2938 3.85694 11.7956C3.68511 12.0471 3.55605 12.2584 3.4686 12.4096C3.42484 12.4852 3.39142 12.5459 3.36818 12.5892C3.35656 12.6108 3.34748 12.6282 3.34092 12.6408L3.33297 12.6563L3.33041 12.6614L3.32948 12.6632L3.32911 12.664C3.32894 12.6643 3.32879 12.6646 3.99961 13ZM11.9996 16C13.9326 16 15.4996 14.433 15.4996 12.5C15.4996 10.567 13.9326 9 11.9996 9C10.0666 9 8.49961 10.567 8.49961 12.5C8.49961 14.433 10.0666 16 11.9996 16Z"})),ta=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"m19 7-3-3-8.5 8.5-1 4 4-1L19 7Zm-7 11.5H5V20h7v-1.5Z"})),na=ta,m=window.gc.date,h=window.gc.keycodes,e=Tm(1919),aa=Tm.n(e);function ra(e){return"[object Object]"===Object.prototype.toString.call(e)}function ia(e){return!1!==ra(e)&&(void 0===(e=e.constructor)||!1!==ra(e=e.prototype)&&!1!==e.hasOwnProperty("isPrototypeOf"))}const{GlobalStylesContext:sa,cleanEmptyObject:oa}=X(I.privateApis);function la(e,t){return aa()(e,t,{isMergeableObject:ia})}function ca(){const[e,t,n]=function(){const{globalStylesId:a,isReady:e,settings:t,styles:n}=(0,G.useSelect)(e=>{var{getEditedEntityRecord:t,hasFinishedResolution:n}=e(U.store),e=e(U.store).__experimentalGetCurrentGlobalStylesId(),t=e?t("root","globalStyles",e):void 0;let a=!1;return{globalStylesId:e,isReady:a=n("__experimentalGetCurrentGlobalStylesId")?!e||n("getEditedEntityRecord",["root","globalStyles",e]):a,settings:t?.settings,styles:t?.styles}},[]),r=(0,G.useSelect)(U.store)["getEditedEntityRecord"],i=(0,G.useDispatch)(U.store)["editEntityRecord"];return[e,(0,H.useMemo)(()=>({settings:null!==t&&void 0!==t?t:{},styles:null!==n&&void 0!==n?n:{}}),[t,n]),(0,H.useCallback)((e,t={})=>{var n=r("root","globalStyles",a),n=e({styles:null!=(e=n?.styles)?e:{},settings:null!=(e=n?.settings)?e:{}});i("root","globalStyles",a,{styles:oa(n.styles)||{},settings:oa(n.settings)||{}},t)},[a])]}(),[a,r]=[!!(i=(0,G.useSelect)(e=>e(U.store).__experimentalGetCurrentThemeBaseGlobalStyles(),[])),i];var i;const s=(0,H.useMemo)(()=>r&&t?la(r,t):{},[t,r]);return(0,H.useMemo)(()=>({isReady:e&&a,user:t,base:r,merged:s,setUserConfig:n}),[s,t,r,n,e,a])}function ua({children:e}){var t=ca();return t.isReady?(0,H.createElement)(sa.Provider,{value:t},e):null}const{useGlobalSetting:ma,useGlobalStyle:da,useGlobalStylesOutput:pa}=X(I.privateApis),_a={start:{scale:1,opacity:1},hover:{scale:0,opacity:0}},ga={hover:{opacity:1},start:{opacity:.5}},ha={hover:{scale:1,opacity:1},start:{scale:0,opacity:0}};var va=({label:e,isFocused:t,withHoverView:n})=>{var[a]=da("typography.fontWeight"),[r="serif"]=da("typography.fontFamily"),[r=r]=da("elements.h1.typography.fontFamily"),[a=a]=da("elements.h1.typography.fontWeight"),[i="black"]=da("color.text");const[s=i]=da("elements.h1.color.text"),[o="white"]=da("color.background");var[i]=da("color.gradient");const[l]=pa();var c=(0,q.useReducedMotion)(),[u]=ma("color.palette.core"),[m]=ma("color.palette.theme"),[d]=ma("color.palette.custom");const[p,_]=(0,H.useState)(!1);var[g,{width:h}]=(0,q.useResizeObserver)();const v=h?h/248:1;m=(null!=m?m:[]).concat(null!=d?d:[]).concat(null!=u?u:[]),d=m.filter(({color:e})=>e!==o&&e!==s).slice(0,2),u=(0,H.useMemo)(()=>l&&[...l,{css:"html{overflow:hidden}body{min-width: 0;padding: 0;border: none;}",isGlobalStyles:!0}],[l]),h=!!h;return(0,H.createElement)(H.Fragment,null,(0,H.createElement)("div",{style:{position:"relative"}},g),h&&(0,H.createElement)(I.__unstableIframe,{className:"edit-site-global-styles-preview__iframe",style:{height:152*v},onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),tabIndex:-1},(0,H.createElement)(I.__unstableEditorStyles,{styles:u}),(0,H.createElement)(W.__unstableMotion.div,{style:{height:152*v,width:"100%",background:null!=i?i:o,cursor:n?"pointer":void 0},initial:"start",animate:(p||t)&&!c&&e?"hover":"start"},(0,H.createElement)(W.__unstableMotion.div,{variants:_a,style:{height:"100%",overflow:"hidden"}},(0,H.createElement)(W.__experimentalHStack,{spacing:10*v,justify:"center",style:{height:"100%",overflow:"hidden"}},(0,H.createElement)(W.__unstableMotion.div,{style:{fontFamily:r,fontSize:65*v,color:s,fontWeight:a},animate:{scale:1,opacity:1},initial:{scale:.1,opacity:0},transition:{delay:.3,type:"tween"}},"Aa"),(0,H.createElement)(W.__experimentalVStack,{spacing:4*v},d.map(({slug:e,color:t},n)=>(0,H.createElement)(W.__unstableMotion.div,{key:e,style:{height:32*v,width:32*v,background:t,borderRadius:32*v/2},animate:{scale:1,opacity:1},initial:{scale:.1,opacity:0},transition:{delay:1===n?.2:.1}}))))),(0,H.createElement)(W.__unstableMotion.div,{variants:n&&ga,style:{height:"100%",width:"100%",position:"absolute",top:0,overflow:"hidden",filter:"blur(60px)",opacity:.1}},(0,H.createElement)(W.__experimentalHStack,{spacing:0,justify:"flex-start",style:{height:"100%",overflow:"hidden"}},m.slice(0,4).map(({color:e},t)=>(0,H.createElement)("div",{key:t,style:{height:"100%",background:e,flexGrow:1}})))),(0,H.createElement)(W.__unstableMotion.div,{variants:ha,style:{height:"100%",width:"100%",overflow:"hidden",position:"absolute",top:0}},(0,H.createElement)(W.__experimentalVStack,{spacing:3*v,justify:"center",style:{height:"100%",overflow:"hidden",padding:10*v,boxSizing:"border-box"}},e&&(0,H.createElement)("div",{style:{fontSize:40*v,fontFamily:r,color:s,fontWeight:a,lineHeight:"1em",textAlign:"center"}},e))))))};const{GlobalStylesContext:Ea,areGlobalStyleConfigsEqual:ya}=X(I.privateApis);function fa({variation:t}){const[e,n]=(0,H.useState)(!1),{base:a,user:r,setUserConfig:i}=(0,H.useContext)(Ea);var s=(0,H.useMemo)(()=>{var e;return{user:{settings:null!=(e=t.settings)?e:{},styles:null!=(e=t.styles)?e:{}},base:a,merged:la(a,t),setUserConfig:()=>{}}},[t,a]);const o=()=>{i(()=>({settings:t.settings,styles:t.styles}))};var l=(0,H.useMemo)(()=>ya(r,t),[r,t]);let c=t?.title;return t?.description&&(c=(0,$.sprintf)((0,$.__)("%1$s\uff08%2$s\uff09"),t?.title,t?.description)),(0,H.createElement)(Ea.Provider,{value:s},(0,H.createElement)("div",{className:j()("edit-site-global-styles-variations_item",{"is-active":l}),role:"button",onClick:o,onKeyDown:e=>{e.keyCode===h.ENTER&&(e.preventDefault(),o())},tabIndex:"0","aria-label":c,"aria-current":l,onFocus:()=>n(!0),onBlur:()=>n(!1)},(0,H.createElement)("div",{className:"edit-site-global-styles-variations_item-preview"},(0,H.createElement)(va,{label:t?.title,isFocused:e,withHoverView:!0}))))}function ba(){const e=(0,G.useSelect)(e=>e(U.store).__experimentalGetCurrentThemeGlobalStylesVariations(),[]);var t=(0,H.useMemo)(()=>[{title:(0,$.__)("\u9ed8\u8ba4"),settings:{},styles:{}},...(null!==e&&void 0!==e?e:[]).map(e=>{var t;return{...e,settings:null!=(t=e.settings)?t:{},styles:null!=(t=e.styles)?t:{}}})],[e]);return(0,H.createElement)(W.__experimentalGrid,{columns:2,className:"edit-site-global-styles-style-variations-container"},t.map((e,t)=>(0,H.createElement)(fa,{key:t,variation:e})))}const wa=20;function Sa({variation:e="default",direction:t,resizeWidthBy:n}){return(0,H.createElement)(H.Fragment,null,(0,H.createElement)("button",{className:`resizable-editor__drag-handle is-${t} is-variation-`+e,"aria-label":(0,$.__)("\u62d6\u52a8\u8c03\u6574\u5927\u5c0f"),"aria-describedby":"resizable-editor__resize-help-"+t,onKeyDown:function(e){e=e.keyCode,"left"===t&&e===h.LEFT||"right"===t&&e===h.RIGHT?n(wa):("left"===t&&e===h.RIGHT||"right"===t&&e===h.LEFT)&&n(-wa)}}),(0,H.createElement)(W.VisuallyHidden,{id:"resizable-editor__resize-help-"+t},(0,$.__)("\u4f7f\u7528\u5de6\u53f3\u65b9\u5411\u952e\u8c03\u6574\u753b\u5e03\u5927\u5c0f\u3002")))}const xa={position:void 0,userSelect:void 0,cursor:void 0,width:void 0,height:void 0,top:void 0,right:void 0,bottom:void 0,left:void 0};function ka({enableResizing:e,height:t,children:n}){const[a,r]=(0,H.useState)("100%"),i=(0,H.useRef)();var s=(0,H.useCallback)(e=>{i.current&&r(i.current.offsetWidth+e)},[]);return(0,H.createElement)(W.ResizableBox,{ref:e=>{i.current=e?.resizable},size:{width:e?a:"100%",height:e&&t?t:"100%"},onResizeStop:(e,t,n)=>{r(n.style.width)},minWidth:300,maxWidth:"100%",maxHeight:"100%",enable:{right:e,left:e},showHandle:e,resizeRatio:2,handleComponent:{left:(0,H.createElement)(Sa,{direction:"left",resizeWidthBy:s}),right:(0,H.createElement)(Sa,{direction:"right",resizeWidthBy:s})},handleClasses:void 0,handleStyles:{left:xa,right:xa}},n)}function Ca(e){switch(e){case"style-book":return(0,$.__)("\u6837\u5f0f\u793a\u8303");case"global-styles-revisions":return(0,$.__)("\u5168\u5c40\u6837\u5f0f\u4fee\u8ba2");default:return""}}d=X(W.privateApis).createPrivateSlotFill;const{privateKey:Ta,Slot:Na,Fill:Ia}=d("EditSiteEditorCanvasContainerSlot");function Ma({children:e,closeButtonLabel:t,onClose:n,enableResizing:a=!1}){const{editorCanvasContainerView:r,showListViewByDefault:i}=(0,G.useSelect)(e=>{return{editorCanvasContainerView:X(e(K)).getEditorCanvasContainerView(),showListViewByDefault:e(Z.store).get("core/edit-site","showListViewByDefault")}},[]),[s,o]=(0,H.useState)(!1),l=X((0,G.useDispatch)(K))["setEditorCanvasContainerView"];var c=(0,q.useFocusOnMount)("firstElement");const u=(0,q.useFocusReturn)();var m=(0,H.useMemo)(()=>Ca(r),[r]);const d=(0,G.useDispatch)(K)["setIsListViewOpened"];function p(){"function"==typeof n&&n(),d(i),l(void 0),o(!0)}var _,e=Array.isArray(e)?H.Children.map(e,(e,t)=>0===t?(0,H.cloneElement)(e,{ref:u}):e):(0,H.cloneElement)(e,{ref:u});return s?null:(_=n||t,(0,H.createElement)(Ia,null,(0,H.createElement)(ka,{enableResizing:a},(0,H.createElement)("section",{className:"edit-site-editor-canvas-container",ref:_?c:null,onKeyDown:function(e){e.keyCode!==h.ESCAPE||e.defaultPrevented||(e.preventDefault(),p())},"aria-label":m},_&&(0,H.createElement)(W.Button,{className:"edit-site-editor-canvas-container__close-button",icon:k,label:t||(0,$.__)("\u5173\u95ed"),onClick:p,showTooltip:!1}),e))))}Ma.Slot=Na;var Pa=Ma;const{ExperimentalBlockEditorProvider:Ba,useGlobalStyle:Ra}=X(I.privateApis),La=`
	.edit-site-style-book__examples {
		max-width: 900px;
		margin: 0 auto;
	}

	.edit-site-style-book__example {
		border-radius: 2px;
		cursor: pointer;
		display: flex;
		flex-direction: column;
		gap: 40px;
		margin-bottom: 40px;
		padding: 16px;
		width: 100%;
		box-sizing: border-box;
	}

	.edit-site-style-book__example.is-selected {
		box-shadow: 0 0 0 1px var(--gc-components-color-accent, var(--gc-admin-theme-color, #007cba));
	}

	.edit-site-style-book__example:focus:not(:disabled) {
		box-shadow: 0 0 0 var(--gc-admin-border-width-focus) var(--gc-components-color-accent, var(--gc-admin-theme-color, #007cba));
		outline: 3px solid transparent;
	}

	.edit-site-style-book__examples.is-wide .edit-site-style-book__example {
		flex-direction: row;
	}

	.edit-site-style-book__example-title {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
		font-size: 11px;
		font-weight: 500;
		line-height: normal;
		margin: 0;
		text-align: left;
		text-transform: uppercase;
	}

	.edit-site-style-book__examples.is-wide .edit-site-style-book__example-title {
		text-align: right;
		width: 120px;
	}

	.edit-site-style-book__example-preview {
		width: 100%;
	}

	.edit-site-style-book__example-preview .block-editor-block-list__insertion-point,
	.edit-site-style-book__example-preview .block-list-appender {
		display: none;
	}

	.edit-site-style-book__example-preview .is-root-container > .gc-block:first-child {
		margin-top: 0;
	}
	.edit-site-style-book__example-preview .is-root-container > .gc-block:last-child {
		margin-bottom: 0;
	}
`;function Da(){return[{name:"core/heading",title:(0,$.__)("\u6807\u9898"),category:"text",blocks:[(0,b.createBlock)("core/heading",{content:(0,$.__)("\u4ee3\u7801\u5982\u8bd7"),level:1}),(0,b.createBlock)("core/heading",{content:(0,$.__)("\u4ee3\u7801\u5982\u8bd7"),level:2}),(0,b.createBlock)("core/heading",{content:(0,$.__)("\u4ee3\u7801\u5982\u8bd7"),level:3}),(0,b.createBlock)("core/heading",{content:(0,$.__)("\u4ee3\u7801\u5982\u8bd7"),level:4}),(0,b.createBlock)("core/heading",{content:(0,$.__)("\u4ee3\u7801\u5982\u8bd7"),level:5})]},...(0,b.getBlockTypes)().filter(e=>{var{name:e,example:t,supports:n}=e;return"core/heading"!==e&&!!t&&!1!==n.inserter}).map(e=>({name:e.name,title:e.title,category:e.category,blocks:(0,b.getBlockFromExample)(e.name,e.example)}))]}const Aa=({category:e,examples:t,isSelected:n,onClick:a,onSelect:r,settings:i,sizes:s,title:o})=>{const[l,c]=(0,H.useState)(!1);var u={role:"button",onFocus:()=>c(!0),onBlur:()=>c(!1),onKeyDown:e=>{var t;e.defaultPrevented||(t=e["keyCode"],!a)||t!==h.ENTER&&t!==h.SPACE||(e.preventDefault(),a(e))},onClick:e=>{e.defaultPrevented||a&&(e.preventDefault(),a(e))},readonly:!0},m=a?"body { cursor: pointer; } body * { pointer-events: none; }":"";return(0,H.createElement)(I.__unstableIframe,{className:j()("edit-site-style-book__iframe",{"is-focused":l&&!!a,"is-button":!!a}),name:"style-book-canvas",tabIndex:0,...a?u:{}},(0,H.createElement)(I.__unstableEditorStyles,{styles:i.styles}),(0,H.createElement)("style",null,`.is-root-container { display: flow-root; }
						body { position: relative; padding: 32px !important; }`+La+m),(0,H.createElement)(Fa,{className:j()("edit-site-style-book__examples",{"is-wide":600<s.width}),examples:t,category:e,label:o?(0,$.sprintf)((0,$.__)("\u5728 %s \u5206\u7c7b\u4e2d\u7684\u533a\u5757\u4f8b\u5b50"),o):(0,$.__)("\u533a\u5757\u793a\u4f8b"),isSelected:n,onSelect:r}))},Fa=(0,H.memo)(({className:e,examples:t,category:n,label:a,isSelected:r,onSelect:i})=>{const s=(0,W.__unstableUseCompositeState)({orientation:"vertical"});return(0,H.createElement)(W.__unstableComposite,{...s,className:e,"aria-label":a},t.filter(e=>!n||e.category===n).map(e=>(0,H.createElement)(Va,{key:e.name,id:"example-"+e.name,composite:s,title:e.title,blocks:e.blocks,isSelected:r(e.name),onClick:()=>{i?.(e.name)}})))}),Va=({composite:e,id:t,title:n,blocks:a,isSelected:r,onClick:i})=>{const s=(0,G.useSelect)(e=>e(I.store).getSettings(),[]);var o=(0,H.useMemo)(()=>({...s,__unstableIsPreviewMode:!0}),[s]),l=(0,H.useMemo)(()=>Array.isArray(a)?a:[a],[a]);return(0,H.createElement)(W.__unstableCompositeItem,{...e,className:j()("edit-site-style-book__example",{"is-selected":r}),id:t,"aria-label":(0,$.sprintf)((0,$.__)("\u5728\u6837\u5f0f\u9762\u677f\u4e2d\u6253\u5f00%s\u4e2a\u6837\u5f0f"),n),onClick:i,role:"button",as:"div"},(0,H.createElement)("span",{className:"edit-site-style-book__example-title"},n),(0,H.createElement)("div",{className:"edit-site-style-book__example-preview","aria-hidden":!0},(0,H.createElement)(W.Disabled,{className:"edit-site-style-book__example-preview__content"},(0,H.createElement)(Ba,{value:l,settings:o},(0,H.createElement)(I.BlockList,{renderAppender:!1})))))};var za=function({enableResizing:e=!0,isSelected:t,onClick:n,onSelect:a,showCloseButton:r=!0,showTabs:i=!0}){const[s,o]=(0,q.useResizeObserver)();var[l]=Ra("color.text"),[c]=Ra("color.background");const u=(0,H.useMemo)(Da,[]);var m=(0,H.useMemo)(()=>(0,b.getCategories)().filter(t=>u.some(e=>e.category===t.slug)).map(e=>({name:e.slug,title:e.title,icon:e.icon})),[u]);const d=(0,G.useSelect)(e=>e(I.store).getSettings(),[]),p=(0,H.useMemo)(()=>({...d,__unstableIsPreviewMode:!0}),[d]);return(0,H.createElement)(Pa,{enableResizing:e,closeButtonLabel:r?(0,$.__)("\u5173\u95ed\u6837\u5f0f\u793a\u8303"):null},(0,H.createElement)("div",{className:j()("edit-site-style-book",{"is-wide":600<o.width,"is-button":!!n}),style:{color:l,background:c}},s,i?(0,H.createElement)(W.TabPanel,{className:"edit-site-style-book__tab-panel",tabs:m},e=>(0,H.createElement)(Aa,{category:e.name,examples:u,isSelected:t,onSelect:a,settings:p,sizes:o,title:e.title})):(0,H.createElement)(Aa,{examples:u,isSelected:t,onClick:n,onSelect:a,settings:p,sizes:o})))};const Oa={per_page:-1,_fields:"id,name,avatar_urls",context:"view",capabilities:["edit_theme_options"]},Ha=[],Ga=X(I.privateApis)["GlobalStylesContext"];function Ua(){const n=(0,H.useContext)(Ga)["user"],{authors:a,currentUser:r,isDirty:i,revisions:s,isLoadingGlobalStylesRevisions:o}=(0,G.useSelect)(e=>{var{__experimentalGetDirtyEntityRecords:e,getCurrentUser:t,getUsers:n,getCurrentThemeGlobalStylesRevisions:a,isResolving:r}=e(U.store),e=e(),t=t(),e=0<e.length,a=a()||Ha;return{authors:n(Oa)||Ha,currentUser:t,isDirty:e,revisions:a,isLoadingGlobalStylesRevisions:r("getCurrentThemeGlobalStylesRevisions")}},[]);return(0,H.useMemo)(()=>{var e,t=[];return!a.length||o?{revisions:t,hasUnsavedChanges:i,isLoading:!0}:((t=s.map(t=>({...t,author:a.find(e=>e.id===t.author)}))).length&&("unsaved"!==t[0].id&&(t[0].isLatest=!0),i)&&n&&0<Object.keys(n).length&&r&&(e={id:"unsaved",styles:n?.styles,settings:n?.settings,author:{name:r?.name,avatar_urls:r?.avatar_urls},modified:new Date},t.unshift(e)),{revisions:t,hasUnsavedChanges:i,isLoading:!1})},[i,s,r,a,n,o])}const ja=()=>{};function Wa(e){const t=(0,G.useDispatch)(K)["openGeneralSidebar"],n=X((0,G.useDispatch)(K))["setCanvasMode"],a=(0,G.useDispatch)(Y.store)["createNotice"],r=(0,G.useDispatch)(Z.store)["set"],i=(0,G.useSelect)(Z.store)["get"],s=(0,H.useCallback)(()=>{i(K.name,"distractionFree")&&(r(K.name,"distractionFree",!1),a("info",(0,$.__)("\u4e13\u6ce8\u6a21\u5f0f\u5df2\u5173\u95ed"),{isDismissible:!0,type:"snackbar"}))},[a,r,i]);return(0,G.useSelect)(e=>!!e(U.store).__experimentalGetCurrentThemeGlobalStylesVariations()?.length,[])?(0,H.createElement)(W.__experimentalNavigatorButton,{...e,as:g,path:"/gc_global_styles"}):(0,H.createElement)(g,{...e,onClick:()=>{s(),n("edit"),t("edit-site/global-styles")}})}function $a(){var e=(0,G.useSelect)(e=>{e=X(e(K)).getSettings;return{storedSettings:e(!1)}},[])["storedSettings"];return(0,H.createElement)(I.BlockEditorProvider,{settings:e,onChange:ja,onInput:ja},(0,H.createElement)(ba,null))}function Za({modifiedDateTime:e,onClickRevisions:t}){return(0,H.createElement)(W.__experimentalVStack,{className:"edit-site-sidebar-navigation-screen-global-styles__footer"},(0,H.createElement)(g,{className:"edit-site-sidebar-navigation-screen-global-styles__revisions",label:(0,$.__)("\u4fee\u8ba2\u7248\u672c"),onClick:t},(0,H.createElement)(W.__experimentalVStack,{as:"span",alignment:"center",spacing:5,direction:"row",justify:"space-between"},(0,H.createElement)("span",{className:"edit-site-sidebar-navigation-screen-global-styles__revisions__label"},(0,$.__)("\u4e0a\u6b21\u4fee\u6539")),(0,H.createElement)("span",null,(0,H.createElement)("time",{dateTime:e},(0,m.humanTimeDiff)(e))),(0,H.createElement)(W.Icon,{icon:Jn,style:{fill:"currentcolor"}}))))}function qa(){var{revisions:e,isLoading:t}=Ua();const{openGeneralSidebar:n,setIsListViewOpened:a}=(0,G.useDispatch)(K);var r=(0,q.useViewportMatch)("medium","<");const{setCanvasMode:i,setEditorCanvasContainerView:s}=X((0,G.useDispatch)(K)),o=(0,G.useDispatch)(Y.store)["createNotice"],l=(0,G.useDispatch)(Z.store)["set"],c=(0,G.useSelect)(Z.store)["get"],{isViewMode:u,isStyleBookOpened:m,revisionsCount:d}=(0,G.useSelect)(e=>{var{getCanvasMode:t,getEditorCanvasContainerView:n}=X(e(K)),{getEntityRecord:e,__experimentalGetCurrentGlobalStylesId:a}=e(U.store),a=a(),e=a?e("root","globalStyles",a):void 0;return{isViewMode:"view"===t(),isStyleBookOpened:"style-book"===n(),revisionsCount:null!=(a=e?._links?.["version-history"]?.[0]?.count)?a:0}},[]),p=(0,H.useCallback)(()=>{c(K.name,"distractionFree")&&(l(K.name,"distractionFree",!1),o("info",(0,$.__)("\u4e13\u6ce8\u6a21\u5f0f\u5df2\u5173\u95ed"),{isDismissible:!0,type:"snackbar"}))},[o,l,c]),_=(0,H.useCallback)(async()=>(p(),Promise.all([i("edit"),n("edit-site/global-styles")])),[i,n,p]);var g=(0,H.useCallback)(async()=>{await _(),s("style-book"),a(!1)},[_,s,a]),h=(0,H.useCallback)(async()=>{await _(),s("global-styles-revisions")},[_,s]),e=e?.[0]?.modified,t=2<=d&&!t&&e;return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(Xn,{title:(0,$.__)("\u6837\u5f0f"),description:(0,$.__)("\u9009\u62e9\u4e00\u4e2a\u4e3b\u9898\u6837\u5f0f\u7684\u4e0d\u540c\u6837\u5f0f\u7ec4\u5408\u3002"),content:(0,H.createElement)($a,null),footer:t&&(0,H.createElement)(Za,{modifiedDateTime:e,onClickRevisions:h}),actions:(0,H.createElement)(H.Fragment,null,!r&&(0,H.createElement)(y,{icon:ea,label:(0,$.__)("\u6837\u5f0f\u793a\u8303"),onClick:()=>s(m?void 0:"style-book"),isPressed:m}),(0,H.createElement)(y,{icon:na,label:(0,$.__)("\u7f16\u8f91\u6837\u5f0f"),onClick:async()=>_()}))}),m&&!r&&u&&(0,H.createElement)(za,{enableResizing:!1,isSelected:()=>!1,onClick:g,onSelect:g,showCloseButton:!1,showTabs:!1}))}const Ya="isTemplatePartMoveHintVisible";function Xa(){var e=(0,G.useSelect)(e=>{return null==(e=e(Z.store).get("core",Ya))||e},[]);const t=(0,G.useDispatch)(Z.store)["set"];return e?(0,H.createElement)(W.Notice,{politeness:"polite",className:"edit-site-sidebar__notice",onRemove:()=>{t("core",Ya,!1)}},(0,$.__)("\u6b63\u5728\u67e5\u627e\u6a21\u677f\u96f6\u4ef6\uff1f\u5728\u201c\u6a21\u677f\u201d\u4e2d\u627e\u5230\u5b83\u4eec\u3002")):null}function Ka(){const e=(0,W.__experimentalUseNavigator)()["location"],t=X((0,G.useDispatch)(K))["setEditorCanvasContainerView"];return(0,H.useEffect)(()=>{"/"===e?.path&&t(void 0)},[t,e?.path]),(0,H.createElement)(Xn,{isRoot:!0,title:(0,$.__)("\u8bbe\u8ba1"),description:(0,$.__)("\u4f7f\u7528\u533a\u5757\u7f16\u8f91\u5668\u81ea\u5b9a\u4e49\u524d\u7aef\u7684\u5916\u89c2\u3002"),content:(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.__experimentalItemGroup,null,(0,H.createElement)(W.__experimentalNavigatorButton,{as:g,path:"/navigation",withChevron:!0,icon:jn},(0,$.__)("\u5bfc\u822a")),(0,H.createElement)(Wa,{withChevron:!0,icon:Wn},(0,$.__)("\u6837\u5f0f")),(0,H.createElement)(W.__experimentalNavigatorButton,{as:g,path:"/page",withChevron:!0,icon:$n},(0,$.__)("\u9875\u9762")),(0,H.createElement)(W.__experimentalNavigatorButton,{as:g,path:"/gc_template",withChevron:!0,icon:Zn},(0,$.__)("\u6a21\u677f")),(0,H.createElement)(W.__experimentalNavigatorButton,{as:g,path:"/patterns",withChevron:!0,icon:qn},(0,$.__)("\u6837\u677f"))),(0,H.createElement)(Xa,null))})}var Qa=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M12 4L4 7.9V20h16V7.9L12 4zm6.5 14.5H14V13h-4v5.5H5.5V8.8L12 5.7l6.5 3.1v9.7z"})),Ja=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M17.8 2l-.9.3c-.1 0-3.6 1-5.2 2.1C10 5.5 9.3 6.5 8.9 7.1c-.6.9-1.7 4.7-1.7 6.3l-.9 2.3c-.2.4 0 .8.4 1 .1 0 .2.1.3.1.3 0 .6-.2.7-.5l.6-1.5c.3 0 .7-.1 1.2-.2.7-.1 1.4-.3 2.2-.5.8-.2 1.6-.5 2.4-.8.7-.3 1.4-.7 1.9-1.2s.8-1.2 1-1.9c.2-.7.3-1.6.4-2.4.1-.8.1-1.7.2-2.5 0-.8.1-1.5.2-2.1V2zm-1.9 5.6c-.1.8-.2 1.5-.3 2.1-.2.6-.4 1-.6 1.3-.3.3-.8.6-1.4.9-.7.3-1.4.5-2.2.8-.6.2-1.3.3-1.8.4L15 7.5c.3-.3.6-.7 1-1.1 0 .4 0 .8-.1 1.2zM6 20h8v-1.5H6V20z"})),v=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"m21.5 9.1-6.6-6.6-4.2 5.6c-1.2-.1-2.4.1-3.6.7-.1 0-.1.1-.2.1-.5.3-.9.6-1.2.9l3.7 3.7-5.7 5.7v1.1h1.1l5.7-5.7 3.7 3.7c.4-.4.7-.8.9-1.2.1-.1.1-.2.2-.3.6-1.1.8-2.4.6-3.6l5.6-4.1zm-7.3 3.5.1.9c.1.9 0 1.8-.4 2.6l-6-6c.8-.4 1.7-.5 2.6-.4l.9.1L15 4.9 19.1 9l-4.9 3.6z"})),er=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M19 6.2h-5.9l-.6-1.1c-.3-.7-1-1.1-1.8-1.1H5c-1.1 0-2 .9-2 2v11.8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8.2c0-1.1-.9-2-2-2zm.5 11.6c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h5.8c.2 0 .4.1.4.3l1 2H19c.3 0 .5.2.5.5v9.5zM8 12.8h8v-1.5H8v1.5zm0 3h8v-1.5H8v1.5z"})),tr=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M13 5c-3.3 0-6 2.7-6 6 0 1.4.5 2.7 1.3 3.7l-3.8 3.8 1.1 1.1 3.8-3.8c1 .8 2.3 1.3 3.7 1.3 3.3 0 6-2.7 6-6S16.3 5 13 5zm0 10.5c-2.5 0-4.5-2-4.5-4.5s2-4.5 4.5-4.5 4.5 2 4.5 4.5-2 4.5-4.5 4.5z"})),E=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M19 5H5c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm.5 12c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v10zm-11-7.6h-.7l-3.1 4.3h2.8V15h1v-1.3h.7v-.8h-.7V9.4zm-.9 3.5H6.3l1.2-1.7v1.7zm5.6-3.2c-.4-.2-.8-.4-1.2-.4-.5 0-.9.1-1.2.4-.4.2-.6.6-.8 1-.2.4-.3.9-.3 1.5s.1 1.1.3 1.6c.2.4.5.8.8 1 .4.2.8.4 1.2.4.5 0 .9-.1 1.2-.4.4-.2.6-.6.8-1 .2-.4.3-1 .3-1.6 0-.6-.1-1.1-.3-1.5-.1-.5-.4-.8-.8-1zm0 3.6c-.1.3-.3.5-.5.7-.2.1-.4.2-.7.2-.3 0-.5-.1-.7-.2-.2-.1-.4-.4-.5-.7-.1-.3-.2-.7-.2-1.2 0-.7.1-1.2.4-1.5.3-.3.6-.5 1-.5s.7.2 1 .5c.3.3.4.8.4 1.5-.1.5-.1.9-.2 1.2zm5-3.9h-.7l-3.1 4.3h2.8V15h1v-1.3h.7v-.8h-.7V9.4zm-1 3.5H16l1.2-1.7v1.7z"})),_=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M4 4v1.5h16V4H4zm8 8.5h8V11h-8v1.5zM4 20h16v-1.5H4V20zm4-8c0-1.1-.9-2-2-2s-2 .9-2 2 .9 2 2 2 2-.9 2-2z"})),e=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M6 5.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM4 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2V6zm11-.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5h-3a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM13 6a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2h-3a2 2 0 01-2-2V6zm5 8.5h-3a.5.5 0 00-.5.5v3a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-3a.5.5 0 00-.5-.5zM15 13a2 2 0 00-2 2v3a2 2 0 002 2h3a2 2 0 002-2v-3a2 2 0 00-2-2h-3zm-9 1.5h3a.5.5 0 01.5.5v3a.5.5 0 01-.5.5H6a.5.5 0 01-.5-.5v-3a.5.5 0 01.5-.5zM4 15a2 2 0 012-2h3a2 2 0 012 2v3a2 2 0 01-2 2H6a2 2 0 01-2-2v-3z",fillRule:"evenodd",clipRule:"evenodd"})),nr=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{fillRule:"evenodd",d:"M7.25 16.437a6.5 6.5 0 1 1 9.5 0V16A2.75 2.75 0 0 0 14 13.25h-4A2.75 2.75 0 0 0 7.25 16v.437Zm1.5 1.193a6.47 6.47 0 0 0 3.25.87 6.47 6.47 0 0 0 3.25-.87V16c0-.69-.56-1.25-1.25-1.25h-4c-.69 0-1.25.56-1.25 1.25v1.63ZM4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm10-2a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z",clipRule:"evenodd"})),ar=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{fillRule:"evenodd",d:"M8.95 11.25H4v1.5h4.95v4.5H13V18c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2h-3c-1.1 0-2 .9-2 2v.75h-2.55v-7.5H13V9c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3c-1.1 0-2 .9-2 2v.75H8.95v4.5ZM14.5 15v3c0 .3.2.5.5.5h3c.3 0 .5-.2.5-.5v-3c0-.3-.2-.5-.5-.5h-3c-.3 0-.5.2-.5.5Zm0-6V6c0-.3.2-.5.5-.5h3c.3 0 .5.2.5.5v3c0 .3-.2.5-.5.5h-3c-.3 0-.5-.2-.5-.5Z",clipRule:"evenodd"})),d=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V7h15v12zM9 10H7v2h2v-2zm0 4H7v2h2v-2zm4-4h-2v2h2v-2zm4 0h-2v2h2v-2zm-4 4h-2v2h2v-2zm4 0h-2v2h2v-2z"})),rr=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M20.1 11.2l-6.7-6.7c-.1-.1-.3-.2-.5-.2H5c-.4-.1-.8.3-.8.7v7.8c0 .2.1.4.2.5l6.7 6.7c.2.2.5.4.7.5s.6.2.9.2c.3 0 .6-.1.9-.2.3-.1.5-.3.8-.5l5.6-5.6c.4-.4.7-1 .7-1.6.1-.6-.2-1.2-.6-1.6zM19 13.4L13.4 19c-.1.1-.2.1-.3.2-.2.1-.4.1-.6 0-.1 0-.2-.1-.3-.2l-6.5-6.5V5.8h6.8l6.5 6.5c.2.2.2.4.2.6 0 .1 0 .3-.2.5zM9 8c-.6 0-1 .4-1 1s.4 1 1 1 1-.4 1-1-.4-1-1-1z"})),ir=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"m7 6.5 4 2.5-4 2.5z"}),(0,H.createElement)(t.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m5 3c-1.10457 0-2 .89543-2 2v14c0 1.1046.89543 2 2 2h14c1.1046 0 2-.8954 2-2v-14c0-1.10457-.8954-2-2-2zm14 1.5h-14c-.27614 0-.5.22386-.5.5v10.7072l3.62953-2.6465c.25108-.1831.58905-.1924.84981-.0234l2.92666 1.8969 3.5712-3.4719c.2911-.2831.7545-.2831 1.0456 0l2.9772 2.8945v-9.3568c0-.27614-.2239-.5-.5-.5zm-14.5 14.5v-1.4364l4.09643-2.987 2.99567 1.9417c.2936.1903.6798.1523.9307-.0917l3.4772-3.3806 3.4772 3.3806.0228-.0234v2.5968c0 .2761-.2239.5-.5.5h-14c-.27614 0-.5-.2239-.5-.5z"})),sr=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));function or(e=""){const[t,n]=(0,H.useState)(e),[a,r]=(0,H.useState)(e),i=(0,q.useDebounce)(r,250);return(0,H.useEffect)(()=>{a!==t&&i(t)},[a,t]),[t,n,a]}var lr=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"m7.3 9.7 1.4 1.4c.2-.2.3-.3.4-.5 0 0 0-.1.1-.1.3-.5.4-1.1.3-1.6L12 7 9 4 7.2 6.5c-.6-.1-1.1 0-1.6.3 0 0-.1 0-.1.1-.3.1-.4.2-.6.4l1.4 1.4L4 11v1h1l2.3-2.3zM4 20h9v-1.5H4V20zm0-5.5V16h16v-1.5H4z"}));const cr=(e,t)=>(e||[]).map(e=>({...e,name:(0,M.decodeEntities)((0,Ke.get)(e,t))})),ur=()=>(0,G.useSelect)(e=>e(U.store).getEntityRecords("postType","gc_template",{per_page:-1}),[]),mr=()=>(0,G.useSelect)(e=>e(N.store).__experimentalGetDefaultTemplateTypes(),[]),dr=()=>{const e=(0,G.useSelect)(e=>e(U.store).getPostTypes({per_page:-1}),[]);return(0,H.useMemo)(()=>{const n=["attachment"];return e?.filter(({viewable:e,slug:t})=>e&&!n.includes(t))},[e])};function pr(e){const n=(0,H.useMemo)(()=>e?.reduce((e,{labels:t})=>{t=t.singular_name.toLowerCase();return e[t]=(e[t]||0)+1,e},{}));return(0,H.useCallback)(({labels:e,slug:t})=>{e=e.singular_name.toLowerCase();return 1<n[e]&&e!==t},[n])}const _r=c=>{const e=dr();var t=ur();const u=mr(),m=pr(e),d=(0,H.useMemo)(()=>e?.reduce((e,{slug:t})=>{let n=t;return"page"!==t&&(n="single-"+n),e[t]=n,e},{}),[e]),p=yr("postType",d),_=(t||[]).map(({slug:e})=>e),n=(e||[]).reduce((e,t)=>{const{slug:n,labels:a,icon:r}=t,i=d[n];var s=u?.find(({slug:e})=>e===i);const o=_?.includes(i);t=m(t);let l=(0,$.sprintf)((0,$.__)("\u5355\u4e2a\u9879\u76ee\uff1a%s"),a.singular_name);t&&(l=(0,$.sprintf)((0,$.__)("\u5355\u4e2a\u9879\u76ee\uff1a%1$s\uff08%2$s\uff09"),a.singular_name,n));t=s?{...s,templatePrefix:d[n]}:{slug:i,title:l,description:(0,$.sprintf)((0,$.__)("\u663e\u793a\u5355\u4e2a\u9879\u76ee\uff1a%s\u3002"),a.singular_name),icon:r?.startsWith("dashicons-")?r.slice(10):lr,templatePrefix:d[n]},s=p?.[n]?.hasEntities;return s&&(t.onClick=e=>{c({type:"postType",slug:n,config:{recordNamePath:"title.rendered",queryArgs:({search:e})=>({_fields:"id,title,slug,link",orderBy:e?"relevance":"modified",exclude:p[n].existingEntitiesIds}),getSpecificTemplate:e=>{e=d[n]+"-"+e.slug;return{title:e,slug:e,templatePrefix:d[n]}}},labels:a,hasGeneralTemplate:o,template:e})}),o&&!s||e.push(t),e},[]);return(0,H.useMemo)(()=>n.reduce((e,t)=>{var n=t["slug"];let a="page"===n?"defaultPostTypesMenuItems":"postTypesMenuItems";return e[a].push(t),e},{defaultPostTypesMenuItems:[],postTypesMenuItems:[]}),[n])},gr=c=>{const e=(()=>{const e=(0,G.useSelect)(e=>e(U.store).getTaxonomies({per_page:-1}),[]);return(0,H.useMemo)(()=>e?.filter(({visibility:e})=>e?.publicly_queryable),[e])})();var t=ur();const u=mr(),m=(0,H.useMemo)(()=>e?.reduce((e,{slug:t})=>{let n=t;return["category","post_tag"].includes(t)||(n="taxonomy-"+n),"post_tag"===t&&(n="tag"),e[t]=n,e},{}),[e]),d=e?.reduce((e,{labels:t})=>{t=t.singular_name.toLowerCase();return e[t]=(e[t]||0)+1,e},{}),p=yr("taxonomy",m),_=(t||[]).map(({slug:e})=>e),n=(e||[]).reduce((e,t)=>{const{slug:n,labels:a}=t,r=m[n];t=u?.find(({slug:e})=>e===r);const i=_?.includes(r);s=a,l=n;var s=!["category","post_tag"].includes(l)&&(s=s.singular_name.toLowerCase(),1<d[s])&&s!==l;let o=a.singular_name;s&&(o=(0,$.sprintf)((0,$.__)("%1$s\uff08%2$s\uff09"),a.singular_name,n));var l=t?{...t,templatePrefix:m[n]}:{slug:r,title:o,description:(0,$.sprintf)((0,$.__)("\u663e\u793a\u5206\u7c7b\u6cd5\uff1a%s\u3002"),a.singular_name),icon:ar,templatePrefix:m[n]},s=p?.[n]?.hasEntities;return s&&(l.onClick=e=>{c({type:"taxonomy",slug:n,config:{queryArgs:({search:e})=>({_fields:"id,name,slug,link",orderBy:e?"name":"count",exclude:p[n].existingEntitiesIds}),getSpecificTemplate:e=>{e=m[n]+"-"+e.slug;return{title:e,slug:e,templatePrefix:m[n]}}},labels:a,hasGeneralTemplate:i,template:e})}),i&&!s||e.push(l),e},[]);return(0,H.useMemo)(()=>n.reduce((e,t)=>{var n=t["slug"];let a="taxonomiesMenuItems";return e[a=["category","tag"].includes(n)?"defaultTaxonomiesMenuItems":a].push(t),e},{defaultTaxonomiesMenuItems:[],taxonomiesMenuItems:[]}),[n])},hr={user:"author"},vr={user:{who:"authors"}};const Er=(r,e,i={})=>{const t=(e=>{const r=ur();return(0,H.useMemo)(()=>Object.entries(e||{}).reduce((e,[t,a])=>{var n=(r||[]).reduce((e,t)=>{var n=a+"-";return t.slug.startsWith(n)&&e.push(t.slug.substring(n.length)),e},[]);return n.length&&(e[t]=n),e},{}),[e,r])})(e);return(0,G.useSelect)(a=>Object.entries(t||{}).reduce((e,[t,n])=>{n=a(U.store).getEntityRecords(r,t,{_fields:"id",context:"view",slug:n,...i[t]});return n?.length&&(e[t]=n),e},{}),[t])},yr=(r,e,i={})=>{const s=Er(r,e,i);return(0,G.useSelect)(a=>Object.keys(e||{}).reduce((e,t)=>{var n=s?.[t]?.map(({id:e})=>e)||[];return e[t]={hasEntities:!!a(U.store).getEntityRecords(r,t,{per_page:1,_fields:"id",context:"view",exclude:n,...i[t]})?.length,existingEntitiesIds:n},e},{}),[e,s])},fr=[];function br({suggestion:e,search:t,onSelect:n,entityForSuggestions:a,composite:r}){var i="edit-site-custom-template-modal__suggestions_list__list-item";return(0,H.createElement)(W.__unstableCompositeItem,{role:"option",as:W.Button,...r,className:i,onClick:()=>n(a.config.getSpecificTemplate(e))},(0,H.createElement)(W.__experimentalText,{size:"body",lineHeight:1.53846153846,weight:500,className:i+"__title"},(0,H.createElement)(W.TextHighlight,{text:(0,M.decodeEntities)(e.name),highlight:t})),e.link&&(0,H.createElement)(W.__experimentalText,{size:"body",lineHeight:1.53846153846,className:i+"__info"},e.link))}function wr({entityForSuggestions:t,onSelect:n}){const a=(0,W.__unstableUseCompositeState)({orientation:"vertical"}),[e,r,i]=or();var s=function(e,t){const n=e["config"];var a=(0,H.useMemo)(()=>({order:"asc",context:"view",search:t,per_page:t?20:10,...n.queryArgs(t)}),[t,n]);const{records:r,hasResolved:i}=(0,U.useEntityRecords)(e.type,e.slug,a),[s,o]=(0,H.useState)(fr);return(0,H.useEffect)(()=>{if(i){let e=fr;r?.length&&(e=r,n.recordNamePath)&&(e=cr(e,n.recordNamePath)),o(e)}},[r,i]),s}(t,i),o=t["labels"],[l,c]=(0,H.useState)(!1);return!l&&9<s?.length&&c(!0),(0,H.createElement)(H.Fragment,null,l&&(0,H.createElement)(W.SearchControl,{__nextHasNoMarginBottom:!0,onChange:r,value:e,label:o.search_items,placeholder:o.search_items}),!!s?.length&&(0,H.createElement)(W.__unstableComposite,{...a,role:"listbox",className:"edit-site-custom-template-modal__suggestions_list","aria-label":(0,$.__)("\u5efa\u8bae\u5217\u8868")},s.map(e=>(0,H.createElement)(br,{key:e.slug,suggestion:e,search:i,onSelect:n,entityForSuggestions:t,composite:a}))),i&&!s?.length&&(0,H.createElement)(W.__experimentalText,{as:"p",className:"edit-site-custom-template-modal__no-results"},o.not_found))}function Sr({onSelect:r,entityForSuggestions:i}){const[e,t]=(0,H.useState)(i.hasGeneralTemplate);return(0,H.createElement)(W.__experimentalVStack,{spacing:4,className:"edit-site-custom-template-modal__contents-wrapper",alignment:"left"},!e&&(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.__experimentalText,{as:"p"},(0,$.__)("\u9009\u62e9\u662f\u5426\u4e3a\u6240\u6709\u9879\u76ee\u6216\u6307\u5b9a\u9879\u76ee\u5efa\u7acb\u5355\u4e2a\u6a21\u7248\u3002")),(0,H.createElement)(W.Flex,{className:"edit-site-custom-template-modal__contents",gap:"4",align:"initial"},(0,H.createElement)(W.FlexItem,{isBlock:!0,as:W.Button,onClick:()=>{var{slug:e,title:t,description:n,templatePrefix:a}=i.template;r({slug:e,title:t,description:n,templatePrefix:a})}},(0,H.createElement)(W.__experimentalText,{as:"span",weight:500,lineHeight:1.53846153846},i.labels.all_items),(0,H.createElement)(W.__experimentalText,{as:"span",lineHeight:1.53846153846},(0,$.__)("\u5bf9\u6240\u6709\u9879\u76ee\u4f7f\u7528"))),(0,H.createElement)(W.FlexItem,{isBlock:!0,as:W.Button,onClick:()=>{t(!0)}},(0,H.createElement)(W.__experimentalText,{as:"span",weight:500,lineHeight:1.53846153846},i.labels.singular_name),(0,H.createElement)(W.__experimentalText,{as:"span",lineHeight:1.53846153846},(0,$.__)("\u6307\u5b9a\u5355\u4e2a\u9879\u76ee\u4f7f\u7528"))))),e&&(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.__experimentalText,{as:"p"},(0,$.__)("\u6b64\u6a21\u7248\u53ea\u7528\u4e8e\u6240\u9009\u7684\u6307\u5b9a\u9879\u76ee\u3002")),(0,H.createElement)(wr,{entityForSuggestions:i,onSelect:r})))}function xr({onClose:e,createTemplate:t}){const[n,a]=(0,H.useState)(""),r=(0,$.__)("\u81ea\u5b9a\u4e49\u6a21\u677f"),[i,s]=(0,H.useState)(!1);return(0,H.createElement)("form",{onSubmit:async function(e){if(e.preventDefault(),!i){s(!0);try{await t({slug:"gc-custom-template-"+(0,Ke.kebabCase)(n||r),title:n||r},!1)}finally{s(!1)}}}},(0,H.createElement)(W.__experimentalVStack,{spacing:6},(0,H.createElement)(W.TextControl,{__nextHasNoMarginBottom:!0,label:(0,$.__)("\u540d\u79f0"),value:n,onChange:a,placeholder:r,disabled:i,help:(0,$.__)("\u63cf\u8ff0\u6a21\u677f\uff0c\u4f8b\u5982\uff1a\u201c\u6587\u7ae0\u5e26\u4fa7\u8fb9\u680f\u201c\u3002\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6a21\u677f\u53ef\u4ee5\u624b\u52a8\u5e94\u7528\u4e8e\u4efb\u4f55\u6587\u7ae0\u6216\u9875\u9762\u3002")}),(0,H.createElement)(W.__experimentalHStack,{className:"edit-site-custom-generic-template__modal-actions",justify:"right"},(0,H.createElement)(W.Button,{variant:"tertiary",onClick:()=>{e()}},(0,$.__)("\u53d6\u6d88")),(0,H.createElement)(W.Button,{variant:"primary",type:"submit",isBusy:i,"aria-disabled":i},(0,$.__)("\u521b\u5efa")))))}function kr(){var e="edit-site-template-actions-loading-screen-modal";return(0,H.createElement)(W.Modal,{isFullScreen:!0,isDismissible:!1,shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1,onRequestClose:()=>{},__experimentalHideHeader:!0,className:e},(0,H.createElement)("div",{className:e+"__content"},(0,H.createElement)(W.Spinner,null)))}const Cr=X(n.privateApis)["useHistory"],Tr=["front-page","home","single","page","index","archive","author","category","date","tag","search","404"],Nr={"front-page":Qa,home:Ja,single:v,page:$n,archive:er,search:tr,404:E,index:_,category:e,author:nr,taxonomy:ar,date:d,tag:rr,attachment:ir};function Ir({title:e,direction:t,className:n,description:a,icon:r,onClick:i,children:s}){return(0,H.createElement)(W.Button,{className:n,onClick:i,label:a,showTooltip:!!a},(0,H.createElement)(W.Flex,{as:"span",spacing:2,align:"center",justify:"center",style:{width:"100%"},direction:t},(0,H.createElement)("div",{className:"edit-site-add-new-template__template-icon"},(0,H.createElement)(W.Icon,{icon:r})),(0,H.createElement)(W.__experimentalVStack,{className:"edit-site-add-new-template__template-name",alignment:"center",spacing:0},(0,H.createElement)(W.__experimentalText,{weight:500,lineHeight:1.53846153846},e),s)))}const S={templatesList:1,customTemplate:2,customGenericTemplate:3};function Mr({postType:e,toggleProps:t,showIcon:n=!0}){const[a,r]=(0,H.useState)(!1),[i,s]=(0,H.useState)(S.templatesList);var[o,l]=(0,H.useState)({});const[c,u]=(0,H.useState)(!1),m=Cr(),d=(0,G.useDispatch)(U.store)["saveEntityRecord"],{createErrorNotice:p,createSuccessNotice:_}=(0,G.useDispatch)(Y.store),g=X((0,G.useDispatch)(K))["setTemplate"];var h=(0,G.useSelect)(e=>{e=e(U.store).getUnstableBase;return{homeUrl:e()?.home}},[])["homeUrl"];const v={"front-page":h,date:(0,$.sprintf)((0,$.__)("\u4f8b\u5982 %s"),h+"/"+(new Date).getFullYear())};async function E(e,t=!0){if(!c){u(!0);try{var{title:n,description:a,slug:r}=e,i=await d("postType","gc_template",{description:a,slug:r.toString(),status:"publish",title:n,is_gc_suggestion:t},{throwOnError:!0});g(i.id,i.slug),m.push({postId:i.id,postType:i.type,canvas:"edit"}),_((0,$.sprintf)((0,$.__)("\u201c%s\u201d\u5df2\u5efa\u7acb\u3002"),(0,M.decodeEntities)(i.title?.rendered||n)),{type:"snackbar"})}catch(e){var s=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u521b\u5efa\u6a21\u677f\u51fa\u9519\u3002");p(s,{type:"snackbar"})}finally{u(!1)}}}h=()=>{r(!1),s(S.templatesList)},l=function(t,n){const e=ur(),a=mr(),r=(e||[]).map(({slug:e})=>e),i=(a||[]).filter(e=>Tr.includes(e.slug)&&!r.includes(e.slug)),s=e=>{n?.(),t(e)},o=[...i],{defaultTaxonomiesMenuItems:l,taxonomiesMenuItems:c}=gr(s),{defaultPostTypesMenuItems:u,postTypesMenuItems:m}=_r(s),d=function(t){var e=ur(),n=mr();const a=yr("root",hr,vr);let r=n?.find(({slug:e})=>"author"===e);r=r||{description:(0,$.__)("\u663e\u793a\u67d0\u4e2a\u4f5c\u8005\u64b0\u5199\u7684\u6700\u65b0\u6587\u7ae0\u3002"),slug:"author",title:"\u4f5c\u8005"};const i=!!e?.find(({slug:e})=>"author"===e);if(a.user?.hasEntities&&((r={...r,templatePrefix:"author"}).onClick=e=>{t({type:"root",slug:"user",config:{queryArgs:({search:e})=>({_fields:"id,name,slug,link",orderBy:e?"name":"registered_date",exclude:a.user.existingEntitiesIds,who:"authors"}),getSpecificTemplate:e=>{e="author-"+e.slug;return{title:e,slug:e,templatePrefix:"author"}}},labels:{singular_name:(0,$.__)("\u4f5c\u8005"),search_items:(0,$.__)("\u641c\u7d22\u4f5c\u8005"),not_found:(0,$.__)("\u672a\u627e\u5230\u4efb\u4f55\u4f5c\u8005\u3002"),all_items:(0,$.__)("\u6240\u6709\u4f5c\u8005")},hasGeneralTemplate:i,template:e})}),!i||a.user?.hasEntities)return r}(s),p=([...l,...u,d].forEach(t=>{var e;t&&(-1<(e=o.findIndex(e=>e.slug===t.slug))?o[e]=t:o.push(t))}),o?.sort((e,t)=>Tr.indexOf(e.slug)-Tr.indexOf(t.slug)),[...o,...function(){const e=dr(),t=(0,H.useMemo)(()=>e?.filter(e=>e.has_archive),[e]),n=ur(),a=pr(t);return(0,H.useMemo)(()=>t?.filter(t=>!(n||[]).some(e=>e.slug==="archive-"+t.slug)).map(e=>{let t;return t=a(e)?(0,$.sprintf)((0,$.__)("\u5f52\u6863\uff1a%1$s\uff08%2$s\uff09"),e.labels.singular_name,e.slug):(0,$.sprintf)((0,$.__)("\u5f52\u6863\uff1a%s"),e.labels.singular_name),{slug:"archive-"+e.slug,description:(0,$.sprintf)((0,$.__)("\u663e\u793a\u6b64\u7c7b\u578b\u7684\u6700\u65b0\u6587\u7ae0\u5f52\u6863\uff1a%s\u3002"),e.labels.singular_name),title:t,icon:e.icon?.startsWith("dashicons-")?e.icon.slice(10):er,templatePrefix:"archive"}})||[],[t,n,a])}(),...m,...c]);return p}(l,()=>s(S.customTemplate));if(!l.length)return null;const{as:y=W.Button,...f}=null!=t?t:{};let b=(0,$.__)("\u6dfb\u52a0\u6a21\u677f");return i===S.customTemplate?b=(0,$.sprintf)((0,$.__)("\u6dfb\u52a0\u6a21\u7248\uff1a%s"),o.labels.singular_name):i===S.customGenericTemplate&&(b=(0,$.__)("\u521b\u5efa\u81ea\u5b9a\u4e49\u6a21\u677f")),(0,H.createElement)(H.Fragment,null,c&&(0,H.createElement)(kr,null),(0,H.createElement)(y,{...f,onClick:()=>r(!0),icon:n?sr:null,label:e.labels.add_new_item},n?null:e.labels.add_new_item),a&&(0,H.createElement)(W.Modal,{title:b,className:j()("edit-site-add-new-template__modal",{"edit-site-add-new-template__modal_template_list":i===S.templatesList,"edit-site-custom-template-modal":i===S.customTemplate}),onRequestClose:h,overlayClassName:i===S.customGenericTemplate?"edit-site-custom-generic-template__modal":void 0},i===S.templatesList&&(0,H.createElement)(W.__experimentalGrid,{columns:3,gap:4,align:"flex-start",justify:"center",className:"edit-site-add-new-template__template-list__contents"},(0,H.createElement)(W.Flex,{className:"edit-site-add-new-template__template-list__prompt"},(0,$.__)("\u9009\u62e9\u65b0\u6a21\u677f\u5e94\u9002\u7528\u4e8e\uff1a")),l.map(e=>{const{title:t,slug:n,onClick:a}=e;return(0,H.createElement)(Ir,{key:n,title:t,direction:"column",className:"edit-site-add-new-template__template-button",description:v[n],icon:Nr[n]||Zn,onClick:()=>(a||E)(e)})}),(0,H.createElement)(Ir,{title:(0,$.__)("\u81ea\u5b9a\u4e49\u6a21\u677f"),direction:"row",className:"edit-site-add-new-template__custom-template-button",icon:na,onClick:()=>s(S.customGenericTemplate)},(0,H.createElement)(W.__experimentalText,{lineHeight:1.53846153846},(0,$.__)("\u81ea\u5b9a\u4e49\u6a21\u677f\u53ef\u4ee5\u624b\u52a8\u5e94\u7528\u4e8e\u4efb\u4f55\u6587\u7ae0\u6216\u9875\u9762\u3002")))),i===S.customTemplate&&(0,H.createElement)(Sr,{onSelect:E,entityForSuggestions:o}),i===S.customGenericTemplate&&(0,H.createElement)(xr,{onClose:h,createTemplate:E})))}function Pr({templateType:t="gc_template",...e}){var n=(0,G.useSelect)(e=>e(U.store).getPostType(t),[t]);return n&&"gc_template"===t?(0,H.createElement)(Mr,{...e,postType:n}):null}const Br=({postType:e,postId:t,...n})=>{e=w({postType:e,postId:t});return(0,H.createElement)(g,{...e,...n})};function Rr(){var e=(0,q.useViewportMatch)("medium","<"),{records:t,isResolving:n}=(0,U.useEntityRecords)("postType","gc_template",{per_page:-1}),a=t?[...t]:[],r=(a.sort((e,t)=>e.title.rendered.localeCompare(t.title.rendered)),w({path:"/gc_template/all"})),i=!e;return(0,H.createElement)(Xn,{title:(0,$.__)("\u6a21\u677f"),description:(0,$.__)("\u7528\u6a21\u677f\u8868\u793a\u524d\u7aef\u7684\u5e03\u5c40\u3002"),actions:i&&(0,H.createElement)(Pr,{templateType:"gc_template",toggleProps:{as:y}}),content:(0,H.createElement)(H.Fragment,null,n&&(0,$.__)("\u6b63\u5728\u52a0\u8f7d\u6a21\u677f"),!n&&(0,H.createElement)(W.__experimentalItemGroup,null,!t?.length&&(0,H.createElement)(W.__experimentalItem,null,(0,$.__)("\u672a\u627e\u5230\u6a21\u677f")),a.map(e=>(0,H.createElement)(Br,{postType:"gc_template",postId:e.id,key:e.id,withChevron:!0},(0,M.decodeEntities)(e.title?.rendered||e.slug))))),footer:!e&&(0,H.createElement)(g,{withChevron:!0,...r},(0,$.__)("\u7ba1\u7406\u6240\u6709\u6a21\u677f"))})}function Lr(i,s){const{record:e,title:t,description:n,isLoaded:a,icon:r}=(0,G.useSelect)(e=>{var{getEditedPostType:t,getEditedPostId:n}=e(K),{getEditedEntityRecord:a,hasFinishedResolution:r}=e(U.store),e=e(N.store)["__experimentalGetTemplateInfo"],t=null!=i?i:t(),n=null!=s?s:n(),a=a("postType",t,n),r=n&&r("getEditedEntityRecord",["postType",t,n]),t=e(a);return{record:a,title:t.title,description:t.description,isLoaded:r,icon:t.icon}},[i,s]);return{isLoaded:a,icon:r,record:e,getTitle:()=>t?(0,M.decodeEntities)(t):null,getDescription:()=>n?(0,M.decodeEntities)(n):null}}var Dr=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M10.5 4v4h3V4H15v4h1.5a1 1 0 011 1v4l-3 4v2a1 1 0 01-1 1h-3a1 1 0 01-1-1v-2l-3-4V9a1 1 0 011-1H9V4h1.5zm.5 12.5v2h2v-2l3-4v-3H8v3l3 4z"})),Ar=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M12 3.3c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8s-4-8.8-8.8-8.8zm6.5 5.5h-2.6C15.4 7.3 14.8 6 14 5c2 .6 3.6 2 4.5 3.8zm.7 3.2c0 .6-.1 1.2-.2 1.8h-2.9c.1-.6.1-1.2.1-1.8s-.1-1.2-.1-1.8H19c.2.6.2 1.2.2 1.8zM12 18.7c-1-.7-1.8-1.9-2.3-3.5h4.6c-.5 1.6-1.3 2.9-2.3 3.5zm-2.6-4.9c-.1-.6-.1-1.1-.1-1.8 0-.6.1-1.2.1-1.8h5.2c.1.6.1 1.1.1 1.8s-.1 1.2-.1 1.8H9.4zM4.8 12c0-.6.1-1.2.2-1.8h2.9c-.1.6-.1 1.2-.1 1.8 0 .6.1 1.2.1 1.8H5c-.2-.6-.2-1.2-.2-1.8zM12 5.3c1 .7 1.8 1.9 2.3 3.5H9.7c.5-1.6 1.3-2.9 2.3-3.5zM10 5c-.8 1-1.4 2.3-1.8 3.8H5.5C6.4 7 8 5.6 10 5zM5.5 15.3h2.6c.4 1.5 1 2.8 1.8 3.7-1.8-.6-3.5-2-4.4-3.7zM14 19c.8-1 1.4-2.2 1.8-3.7h2.6C17.6 17 16 18.4 14 19z"}));const Fr=["gc_template","gc_template_part"];function Vr(s,o){return(0,G.useSelect)(e=>{var{getTheme:e,getPlugin:t,getEntityRecord:n,getMedia:a,getUser:r,getEditedEntityRecord:i}=e(U.store),i=i("postType",s,o);if(Fr.includes(i.type)){if(i.has_theme_file&&("theme"===i.origin||!i.origin&&["theme","custom"].includes(i.source)))return{type:"theme",icon:Zn,text:e(i.theme)?.name?.rendered||i.theme,isCustomized:"custom"===i.source};if(i.has_theme_file&&"plugin"===i.origin)return{type:"plugin",icon:Dr,text:t(i.theme)?.name||i.theme,isCustomized:"custom"===i.source};if(!i.has_theme_file&&"custom"===i.source&&!i.author)return e=n("root","__unstableBase"),{type:"site",icon:Ar,imageUrl:e?.site_logo?a(e.site_logo)?.source_url:void 0,text:e?.name,isCustomized:!1}}t=r(i.author);return{type:"user",icon:nr,imageUrl:t?.avatar_urls?.[48],text:t?.nickname,isCustomized:!1}},[s,o])}function zr({imageUrl:e}){const[t,n]=(0,H.useState)(!1);return(0,H.createElement)("div",{className:j()("edit-site-list-added-by__avatar",{"is-loaded":t})},(0,H.createElement)("img",{onLoad:()=>n(!0),alt:"",src:e}))}function Or({postType:e,postId:t}){var{text:t,icon:n,imageUrl:a,isCustomized:r}=Vr(e,t);return(0,H.createElement)(W.__experimentalHStack,{alignment:"left"},a?(0,H.createElement)(zr,{imageUrl:a}):(0,H.createElement)("div",{className:"edit-site-list-added-by__icon"},(0,H.createElement)(W.Icon,{icon:n})),(0,H.createElement)("span",null,t,r&&(0,H.createElement)("span",{className:"edit-site-list-added-by__customized-info"},"gc_template"===e?(0,$._x)("Customized","template"):(0,$._x)("Customized","template part"))))}function Hr(e){return!!e&&"custom"===e.source&&!e.has_theme_file}function Gr({template:e,onClose:n}){const t=(0,M.decodeEntities)(e.title.rendered),[a,r]=(0,H.useState)(t),[i,s]=(0,H.useState)(!1),{editEntityRecord:o,saveEditedEntityRecord:l}=(0,G.useDispatch)(U.store),{createSuccessNotice:c,createErrorNotice:u}=(0,G.useDispatch)(Y.store);return"gc_template"!==e.type||e.is_custom?(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.MenuItem,{onClick:()=>{s(!0),r(t)}},(0,$.__)("\u91cd\u547d\u540d")),i&&(0,H.createElement)(W.Modal,{title:(0,$.__)("\u91cd\u547d\u540d"),onRequestClose:()=>{s(!1)},overlayClassName:"edit-site-list__rename-modal"},(0,H.createElement)("form",{onSubmit:async function(t){t.preventDefault();try{await o("postType",e.type,e.id,{title:a}),r(""),s(!1),n(),await l("postType",e.type,e.id,{throwOnError:!0}),c((0,$.__)("\u5b9e\u4f53\u5df2\u7ecf\u91cd\u65b0\u547d\u540d\u3002"),{type:"snackbar"})}catch(e){t=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u91cd\u547d\u540d\u5b9e\u4f53\u65f6\u51fa\u9519\u3002");u(t,{type:"snackbar"})}}},(0,H.createElement)(W.__experimentalVStack,{spacing:"5"},(0,H.createElement)(W.TextControl,{__nextHasNoMarginBottom:!0,label:(0,$.__)("\u540d\u79f0"),value:a,onChange:r,required:!0}),(0,H.createElement)(W.__experimentalHStack,{justify:"right"},(0,H.createElement)(W.Button,{variant:"tertiary",onClick:()=>{s(!1)}},(0,$.__)("\u53d6\u6d88")),(0,H.createElement)(W.Button,{variant:"primary",type:"submit"},(0,$.__)("\u4fdd\u5b58"))))))):null}function Ur({postType:t,postId:n,className:e,toggleProps:a,onRemove:r}){const i=(0,G.useSelect)(e=>e(U.store).getEntityRecord("postType",t,n),[t,n]),{removeTemplate:s,revertTemplate:o}=(0,G.useDispatch)(K),l=(0,G.useDispatch)(U.store)["saveEditedEntityRecord"],{createSuccessNotice:c,createErrorNotice:u}=(0,G.useDispatch)(Y.store),m=Hr(i),d=Bt(i);return m||d?(0,H.createElement)(W.DropdownMenu,{icon:Se,label:(0,$.__)("\u64cd\u4f5c"),className:e,toggleProps:a},({onClose:e})=>(0,H.createElement)(W.MenuGroup,null,m&&(0,H.createElement)(H.Fragment,null,(0,H.createElement)(Gr,{template:i,onClose:e}),(0,H.createElement)(jr,{onRemove:()=>{s(i),r?.(),e()},isTemplate:"gc_template"===i.type})),d&&(0,H.createElement)(W.MenuItem,{info:(0,$.__)("\u4f7f\u7528\u4e3b\u9898\u6240\u63d0\u4f9b\u7684\u6a21\u677f\u3002"),onClick:()=>{!async function(){try{await o(i,{allowUndo:!1}),await l("postType",i.type,i.id),c((0,$.sprintf)((0,$.__)('"%s" reverted.'),(0,M.decodeEntities)(i.title.rendered)),{type:"snackbar",id:"edit-site-template-reverted"})}catch(e){var t=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u8fd8\u539f\u5b9e\u4f53\u65f6\u51fa\u9519\u3002");u(t,{type:"snackbar"})}}(),e()}},(0,$.__)("\u6e05\u9664\u81ea\u5b9a\u4e49\u9009\u9879")))):null}function jr({onRemove:e,isTemplate:t}){const[n,a]=(0,H.useState)(!1);return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.MenuItem,{isDestructive:!0,isTertiary:!0,onClick:()=>a(!0)},(0,$.__)("\u5220\u9664")),(0,H.createElement)(W.__experimentalConfirmDialog,{isOpen:n,onConfirm:e,onCancel:()=>a(!1),confirmButtonText:(0,$.__)("\u5220\u9664")},t?(0,$.__)("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u6b64\u6a21\u677f\u5417\uff1f"):(0,$.__)("\u60a8\u786e\u5b9a\u8981\u5220\u9664\u6b64\u6a21\u677f\u90e8\u4ef6\u5417\uff1f")))}var Wr=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M18.5 10.5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})),$r=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{fillRule:"evenodd",d:"M18 5.5h-8v8h8.5V6a.5.5 0 00-.5-.5zm-9.5 8h-3V6a.5.5 0 01.5-.5h2.5v8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));function Zr({children:e}){return(0,H.createElement)(W.__experimentalText,{className:"edit-site-sidebar-navigation-details-screen-panel__label"},e)}function qr({label:e,children:t,className:n}){return(0,H.createElement)(W.__experimentalHStack,{key:e,spacing:5,alignment:"left",className:j()("edit-site-sidebar-navigation-details-screen-panel__row",n)},t)}function Yr({children:e}){return(0,H.createElement)(W.__experimentalText,{className:"edit-site-sidebar-navigation-details-screen-panel__value"},e)}function Xr({title:e,children:t,spacing:n}){return(0,H.createElement)(W.__experimentalVStack,{className:"edit-site-sidebar-navigation-details-screen-panel",spacing:n},e&&(0,H.createElement)(W.__experimentalHeading,{className:"edit-site-sidebar-navigation-details-screen-panel__heading",level:2},e),t)}const Kr={};function Qr({postId:e,icon:t,title:n}){var a={header:Wr,footer:$r},e=w({postType:"gc_template_part",postId:e});return(0,H.createElement)(g,{className:"edit-site-sidebar-navigation-screen-template__template-area-button",...e,icon:null!=(e=a[t])?e:Zn,withChevron:!0},(0,H.createElement)(W.__experimentalTruncate,{limit:20,ellipsizeMode:"tail",numberOfLines:1,className:"edit-site-sidebar-navigation-screen-template__template-area-label-text"},(0,M.decodeEntities)(n)))}function Jr(){var{postType:e,postId:t}=(0,W.__experimentalUseNavigator)()["params"];const n=(0,G.useDispatch)(U.store)["editEntityRecord"],{allowCommentsOnNewPosts:a,templatePartAreas:r,postsPerPage:i,postsPageTitle:s,postsPageId:o,currentTemplateParts:l}=(0,G.useSelect)(e=>{var t=e(U.store)["getEntityRecord"],t=t("root","site"),n=X(e(K))["getSettings"],a=e(K).getCurrentTemplateTemplateParts(),n=n(),e=t?.page_for_posts?e(U.store).getEntityRecord("postType","page",t?.page_for_posts):Kr;return{allowCommentsOnNewPosts:"open"===t?.default_comment_status,postsPageTitle:e?.title?.rendered,postsPageId:e?.id,postsPerPage:t?.posts_per_page,templatePartAreas:n?.defaultTemplatePartAreas,currentTemplateParts:a}},[e,t]),[c,u]=(0,H.useState)(""),[m,d]=(0,H.useState)(1),[p,_]=(0,H.useState)("");(0,H.useEffect)(()=>{u(a),_(s),d(i)},[s,a,i]);e=(0,H.useMemo)(()=>l.length&&r?l.map(({templatePart:t})=>({...r?.find(({area:e})=>e===t?.area),...t})):[],[l,r]);return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(Xr,{spacing:6},o&&(0,H.createElement)(qr,null,(0,H.createElement)(W.__experimentalInputControl,{className:"edit-site-sidebar-navigation-screen__input-control",placeholder:(0,$.__)("\u65e0\u6807\u9898"),size:"__unstable-large",value:p,onChange:(0,q.debounce)(e=>{_(e),n("postType","page",o,{title:e})},300),label:(0,$.__)("\u7cfb\u7edf\u6807\u9898"),help:(0,$.__)("\u8bbe\u7f6e\u6587\u7ae0\u9875\u9762\u6807\u9898\u3002\u51fa\u73b0\u5728\u641c\u7d22\u7ed3\u679c\u4e2d\uff0c\u4ee5\u53ca\u5728\u793e\u4ea4\u5a92\u4f53\u4e0a\u5171\u4eab\u9875\u9762\u65f6\u3002")})),(0,H.createElement)(qr,null,(0,H.createElement)(W.__experimentalNumberControl,{className:"edit-site-sidebar-navigation-screen__input-control",placeholder:0,value:m,size:"__unstable-large",spinControls:"custom",step:"1",min:"1",onChange:e=>{d(e),n("root","site",void 0,{posts_per_page:e})},label:(0,$.__)("\u6bcf\u9875\u6587\u7ae0"),help:(0,$.__)("\u8bbe\u7f6e\u8981\u5728\u524d\u7aef\u9875\u9762\u4e0a\u663e\u793a\u7684\u9ed8\u8ba4\u6587\u7ae0\u6570\uff0c\u5305\u62ec\u7c7b\u522b\u548c\u6807\u7b7e\u3002\u67d0\u4e9b\u6a21\u677f\u53ef\u80fd\u4f1a\u8986\u76d6\u6b64\u8bbe\u7f6e\u3002")}))),(0,H.createElement)(Xr,{title:(0,$.__)("\u8ba8\u8bba"),spacing:3},(0,H.createElement)(qr,null,(0,H.createElement)(W.CheckboxControl,{className:"edit-site-sidebar-navigation-screen__input-control",label:"\u5141\u8bb8\u5bf9\u65b0\u6587\u7ae0\u53d1\u8868\u8bc4\u8bba",help:"Changes will apply to new posts only. Individual posts may override these settings.",checked:c,onChange:e=>{u(e),n("root","site",void 0,{default_comment_status:e?"open":null})}}))),(0,H.createElement)(Xr,{title:(0,$.__)("\u533a\u57df"),spacing:3},(0,H.createElement)(W.__experimentalItemGroup,null,e.map(({label:e,icon:t,theme:n,slug:a,title:r})=>(0,H.createElement)(qr,{key:a},(0,H.createElement)(Qr,{postId:n+"//"+a,title:r?.rendered||e,icon:t}))))))}function ei({lastModifiedDateTime:e}){return(0,H.createElement)(H.Fragment,null,e&&(0,H.createElement)(qr,{className:"edit-site-sidebar-navigation-screen-details-footer"},(0,H.createElement)(Zr,null,(0,$.__)("\u4e0a\u6b21\u4fee\u6539")),(0,H.createElement)(Yr,null,(0,H.createInterpolateElement)((0,$.sprintf)((0,$.__)("<time>%s</time>"),(0,m.humanTimeDiff)(e)),{time:(0,H.createElement)("time",{dateTime:e})}))))}function ti(){const e=(0,W.__experimentalUseNavigator)(),{postType:t,postId:n}=e["params"],a=X((0,G.useDispatch)(K))["setCanvasMode"];var{title:r,content:i,description:s,footer:o}=function(e,t){var{getDescription:n,getTitle:a,record:r}=Lr(e,t),i=(0,G.useSelect)(e=>e(U.store).getCurrentTheme(),[]),t="theme"===(e=Vr(e,t)).type&&r.theme===i?.stylesheet,i=a();let s=n();return!s&&e.text&&(s=(0,$.__)("\u8fd9\u662f\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6a21\u677f\uff0c\u53ef\u4ee5\u624b\u52a8\u5e94\u7528\u4e8e\u4efb\u4f55\u6587\u7ae0\u6216\u9875\u9762\u3002")),a="home"===r?.slug||"index"===r?.slug?(0,H.createElement)(Jr,null):null,n=r?.modified?(0,H.createElement)(ei,{lastModifiedDateTime:r.modified}):null,{title:i,description:(0,H.createElement)(H.Fragment,null,s,e.text&&!t&&(0,H.createElement)("span",{className:"edit-site-sidebar-navigation-screen-template__added-by-description"},(0,H.createElement)("span",{className:"edit-site-sidebar-navigation-screen-template__added-by-description-author"},(0,H.createElement)("span",{className:"edit-site-sidebar-navigation-screen-template__added-by-description-author-icon"},e.imageUrl?(0,H.createElement)("img",{src:e.imageUrl,alt:"",width:"24",height:"24"}):(0,H.createElement)(W.Icon,{icon:e.icon})),e.text),e.isCustomized&&(0,H.createElement)("span",{className:"edit-site-sidebar-navigation-screen-template__added-by-description-customized"},(0,$._x)("(Customized)","template")))),content:a,footer:n}}(t,n);return(0,H.createElement)(Xn,{title:r,actions:(0,H.createElement)(H.Fragment,null,(0,H.createElement)(Ur,{postType:t,postId:n,toggleProps:{as:y},onRemove:()=>{e.goTo(`/${t}/all`)}}),(0,H.createElement)(y,{onClick:()=>a("edit"),label:(0,$.__)("\u7f16\u8f91"),icon:ta})),description:s,content:i,footer:o})}var ni=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M15 11h-.2V9c0-1.5-1.2-2.8-2.8-2.8S9.2 7.5 9.2 9v2H9c-.6 0-1 .4-1 1v4c0 .6.4 1 1 1h6c.6 0 1-.4 1-1v-4c0-.6-.4-1-1-1zm-1.8 0h-2.5V9c0-.7.6-1.2 1.2-1.2s1.2.6 1.2 1.2v2z"})),ai=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M19 6.2h-5.9l-.6-1.1c-.3-.7-1-1.1-1.8-1.1H5c-1.1 0-2 .9-2 2v11.8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V8.2c0-1.1-.9-2-2-2zm.5 11.6c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h5.8c.2 0 .4.1.4.3l1 2H19c.3 0 .5.2.5.5v9.5z"}));const ri="my-patterns",ii="gc_block",si="pattern",oi="gc_template_part",li="gc_block",ci="my-patterns",ui=["core","pattern-directory/core","pattern-directory/featured","pattern-directory/theme"],x={full:"fully",unsynced:"unsynced"},mi=(t,e,n)=>e===n.findIndex(e=>t.name===e.name);function di({blocks:n=[],closeModal:e,onCreate:a,onError:r,title:t}){const[i,s]=(0,H.useState)(""),[o,l]=(0,H.useState)(x.unsynced),[c,u]=(0,H.useState)(!1);const m=(0,G.useDispatch)(Y.store)["createErrorNotice"],d=(0,G.useDispatch)(U.store)["saveEntityRecord"];return(0,H.createElement)(W.Modal,{title:t||(0,$.__)("\u521b\u5efa\u6837\u677f"),onRequestClose:e,overlayClassName:"edit-site-create-pattern-modal"},(0,H.createElement)("form",{onSubmit:async e=>{e.preventDefault(),i&&(u(!0),async function(){if(i)try{var t=await d("postType","gc_block",{title:i||(0,$.__)("\u672a\u547d\u540d\u7684\u6837\u677f"),content:n?.length?(0,b.serialize)(n):"",status:"publish",meta:o===x.unsynced?{gc_pattern_sync_status:o}:void 0},{throwOnError:!0});a({pattern:t,categoryId:ci})}catch(e){t=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u521b\u5efa\u6837\u677f\u65f6\u51fa\u9519\u3002");m(t,{type:"snackbar"}),r()}else m((0,$.__)("\u8bf7\u8f93\u5165\u6837\u677f\u540d\u79f0\u3002"),{type:"snackbar"})}())}},(0,H.createElement)(W.__experimentalVStack,{spacing:"4"},(0,H.createElement)(W.TextControl,{className:"edit-site-create-pattern-modal__input",label:(0,$.__)("\u540d\u79f0"),onChange:s,placeholder:(0,$.__)("\u6211\u7684\u6837\u677f"),required:!0,value:i,__nextHasNoMarginBottom:!0}),(0,H.createElement)(W.ToggleControl,{label:(0,$.__)("\u4fdd\u6301\u6240\u6709\u6837\u677f\u5b9e\u4f8b\u540c\u6b65"),onChange:()=>{l(o===x.full?x.unsynced:x.full)},help:(0,$.__)("\u7f16\u8f91\u539f\u59cb\u6837\u677f\u4e5f\u4f1a\u5728\u4f7f\u7528\u6837\u677f\u7684\u4efb\u4f55\u5730\u65b9\u8fdb\u884c\u66f4\u65b0\u3002"),checked:o===x.full}),(0,H.createElement)(W.__experimentalHStack,{justify:"right"},(0,H.createElement)(W.Button,{variant:"tertiary",onClick:()=>{e()}},(0,$.__)("\u53d6\u6d88")),(0,H.createElement)(W.Button,{variant:"primary",type:"submit",disabled:!i,isBusy:c},(0,$.__)("\u521b\u5efa"))))))}const pi=()=>(0,G.useSelect)(e=>e(U.store).getEntityRecords("postType","gc_template_part",{per_page:-1}),[]),_i=(e,t)=>{var n=e.toLowerCase(),a=t.map(e=>e.title.rendered.toLowerCase());if(!a.includes(n))return e;let r=2;for(;a.includes(n+" "+r);)r++;return e+" "+r},gi=e=>(0,Ke.kebabCase)(e).replace(/[^\w-]+/g,"")||"gc-custom-part";function hi({closeModal:e,blocks:a=[],onCreate:r,onError:i}){const s=(0,G.useDispatch)(Y.store)["createErrorNotice"],o=(0,G.useDispatch)(U.store)["saveEntityRecord"],l=pi(),[c,t]=(0,H.useState)(""),[u,n]=(0,H.useState)("uncategorized"),[m,d]=(0,H.useState)(!1);var p=(0,q.useInstanceId)(hi),_=(0,G.useSelect)(e=>e(N.store).__experimentalGetDefaultTemplatePartAreas(),[]);return(0,H.createElement)(W.Modal,{title:(0,$.__)("\u521b\u5efa\u6a21\u677f\u7ec4\u4ef6"),onRequestClose:e,overlayClassName:"edit-site-create-template-part-modal"},(0,H.createElement)("form",{onSubmit:async e=>{e.preventDefault(),c&&(d(!0),async function(){if(c)try{var e=_i(c,l),t=gi(e),n=await o("postType","gc_template_part",{slug:t,title:e,content:(0,b.serialize)(a),area:u},{throwOnError:!0});await r(n)}catch(e){t=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u521b\u5efa\u6a21\u677f\u7ec4\u4ef6\u65f6\u51fa\u9519\u3002");s(t,{type:"snackbar"}),i?.()}else s((0,$.__)("\u8bf7\u8f93\u5165\u6807\u9898\u3002"),{type:"snackbar"})}())}},(0,H.createElement)(W.__experimentalVStack,{spacing:"4"},(0,H.createElement)(W.TextControl,{__nextHasNoMarginBottom:!0,label:(0,$.__)("\u540d\u79f0"),value:c,onChange:t,required:!0}),(0,H.createElement)(W.BaseControl,{label:(0,$.__)("\u533a\u57df"),id:"edit-site-create-template-part-modal__area-selection-"+p,className:"edit-site-create-template-part-modal__area-base-control"},(0,H.createElement)(W.__experimentalRadioGroup,{label:(0,$.__)("\u533a\u57df"),className:"edit-site-create-template-part-modal__area-radio-group",id:"edit-site-create-template-part-modal__area-selection-"+p,onChange:n,checked:u},_.map(({icon:e,label:t,area:n,description:a})=>(0,H.createElement)(W.__experimentalRadio,{key:t,value:n,className:"edit-site-create-template-part-modal__area-radio"},(0,H.createElement)(W.Flex,{align:"start",justify:"start"},(0,H.createElement)(W.FlexItem,null,(0,H.createElement)(W.Icon,{icon:e})),(0,H.createElement)(W.FlexBlock,{className:"edit-site-create-template-part-modal__option-label"},t,(0,H.createElement)("div",null,a)),(0,H.createElement)(W.FlexItem,{className:"edit-site-create-template-part-modal__checkbox"},u===n&&(0,H.createElement)(W.Icon,{icon:A}))))))),(0,H.createElement)(W.__experimentalHStack,{justify:"right"},(0,H.createElement)(W.Button,{variant:"tertiary",onClick:()=>{e()}},(0,$.__)("\u53d6\u6d88")),(0,H.createElement)(W.Button,{variant:"primary",type:"submit",disabled:!c,isBusy:m},(0,$.__)("\u521b\u5efa"))))))}const vi=X(n.privateApis)["useHistory"];function Ei(){const n=vi(),[e,a]=(0,H.useState)(!1),[t,r]=(0,H.useState)(!1);var i=(0,G.useSelect)(e=>{return!!e(K).getSettings().supportsTemplatePartsMode},[]);function s(){a(!1),r(!1)}return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.DropdownMenu,{controls:[!i&&{icon:Wr,onClick:()=>r(!0),title:(0,$.__)("\u521b\u5efa\u6837\u677f\u7ec4\u4ef6")},{icon:ai,onClick:()=>a(!0),title:(0,$.__)("\u521b\u5efa\u6837\u677f")}].filter(Boolean),toggleProps:{as:y},icon:sr,label:(0,$.__)("\u521b\u5efa\u6837\u677f")}),e&&(0,H.createElement)(di,{closeModal:()=>a(!1),onCreate:function({pattern:e,categoryId:t}){a(!1),n.push({postId:e.id,postType:"gc_block",categoryType:"gc_block",categoryId:t,canvas:"edit"})},onError:s}),t&&(0,H.createElement)(hi,{closeModal:()=>r(!1),blocks:[],onCreate:function(e){r(!1),n.push({postId:e.id,postType:"gc_template_part",canvas:"edit"})},onError:s}))}function yi({count:e,icon:t,id:n,isActive:a,label:r,type:i}){i=w({path:"/patterns",categoryType:i,categoryId:n});if(e)return(0,H.createElement)(g,{...i,icon:t,suffix:(0,H.createElement)("span",null,e),"aria-current":a?"true":void 0},r)}function fi(){n=(0,G.useSelect)(e=>{var t,e=X(e(K))["getSettings"],e=e();return null!=(t=e.__experimentalAdditionalBlockPatternCategories)?t:e.__experimentalBlockPatternCategories}),t=(0,G.useSelect)(e=>e(U.store).getBlockPatternCategories());const e=[...n||[],...t||[]];var t;e.push({name:"uncategorized",label:(0,$.__)("\u672a\u5206\u7c7b")});const a=function(){const e=(0,G.useSelect)(e=>{var t,e=X(e(K))["getSettings"];return null!=(t=e().__experimentalAdditionalBlockPatterns)?t:e().__experimentalBlockPatterns}),t=(0,G.useSelect)(e=>e(U.store).getBlockPatterns());return(0,H.useMemo)(()=>[...e||[],...t||[]].filter(e=>!ui.includes(e.source)).filter(mi).filter(e=>!1!==e.inserter),[e,t])}();var n=(0,H.useMemo)(()=>{const t={},n=[];return e.forEach(e=>{t[e.name]||(t[e.name]={...e,count:0})}),a.forEach(e=>{e.categories?.forEach(e=>{t[e]&&(t[e].count+=1)}),e.categories?.length||(t.uncategorized.count+=1)}),e.forEach(e=>{t[e.name].count&&n.push(t[e.name])}),n},[e,a]);return{patternCategories:n,hasPatterns:!!n.length}}function bi(){var{records:e,isResolving:t}=(0,U.useEntityRecords)("postType","gc_template_part",{per_page:-1});return{hasTemplateParts:!!e&&!!e.length,isLoading:t,templatePartAreas:(e=>{var e=e||[],t=(0,G.useSelect)(e=>e(N.store).__experimentalGetDefaultTemplatePartAreas(),[]);const n={header:{},footer:{},sidebar:{},uncategorized:{}};return t.forEach(e=>n[e.area]={...e,templateParts:[]}),e.reduce((e,t)=>{return e[e[t.area]?t.area:"uncategorized"].templateParts.push(t),e},n)})(e)}}function wi({areas:e,currentArea:a,currentType:r}){return(0,H.createElement)(H.Fragment,null,(0,H.createElement)("div",{className:"edit-site-sidebar-navigation-screen-patterns__group-header"},(0,H.createElement)(W.__experimentalHeading,{level:2},(0,$.__)("\u6837\u677f\u7ec4\u4ef6"))),(0,H.createElement)(W.__experimentalItemGroup,{className:"edit-site-sidebar-navigation-screen-patterns__group"},Object.entries(e).map(([e,{label:t,templateParts:n}])=>(0,H.createElement)(yi,{key:e,count:n?.length,icon:(0,N.getTemplatePartIcon)(e),label:t,id:e,type:"gc_template_part",isActive:a===e&&"gc_template_part"===r}))))}function Si({categories:e,currentCategory:t,currentType:n}){return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.__experimentalItemGroup,{className:"edit-site-sidebar-navigation-screen-patterns__group"},e.map(e=>(0,H.createElement)(yi,{key:e.name,count:e.count,label:(0,H.createElement)(W.Flex,{justify:"left",align:"center",gap:0},e.label,(0,H.createElement)(W.Tooltip,{position:"top center",text:(0,$.__)("\u65e0\u6cd5\u7f16\u8f91\u4e3b\u9898\u6837\u677f\u3002")},(0,H.createElement)("span",{className:"edit-site-sidebar-navigation-screen-pattern__lock-icon"},(0,H.createElement)(W.Icon,{icon:ni,size:24})))),icon:ai,id:e.name,type:"pattern",isActive:t===""+e.name&&"pattern"===n}))))}function xi(){var e=(0,q.useViewportMatch)("medium","<"),{categoryType:t,categoryId:n}=(0,u.getQueryArgs)(window.location.href),n=n||ri,t=t||ii,{templatePartAreas:a,hasTemplateParts:r,isLoading:i}=bi(),{patternCategories:s,hasPatterns:o}=fi(),l={myPatterns:{count:(0,G.useSelect)(e=>{return null!=(e=e(U.store).getEntityRecords("postType","gc_block",{per_page:-1})?.length)?e:0}),name:"my-patterns",label:(0,$.__)("\u6211\u7684\u6837\u677f")}}["myPatterns"],c=w({path:"/gc_template_part/all"}),e=e?void 0:(0,H.createElement)(W.__experimentalItemGroup,null,(0,H.createElement)(g,{as:"a",href:"edit.php?post_type=gc_block",withChevron:!0},(0,$.__)("\u7ba1\u7406\u6211\u7684\u6240\u6709\u6837\u677f")),(0,H.createElement)(g,{withChevron:!0,...c},(0,$.__)("\u7ba1\u7406\u6240\u6709\u6a21\u7248\u7ec4\u4ef6")));return(0,H.createElement)(Xn,{title:(0,$.__)("\u6837\u677f"),description:(0,$.__)("\u7ba1\u7406\u7f16\u8f91\u524d\u7aef\u65f6\u53ef\u7528\u7684\u6837\u677f\u3002"),actions:(0,H.createElement)(Ei,null),footer:e,content:(0,H.createElement)(H.Fragment,null,i&&(0,$.__)("\u6837\u677f\u52a0\u8f7d\u4e2d"),!i&&(0,H.createElement)(H.Fragment,null,!r&&!o&&(0,H.createElement)(W.__experimentalItemGroup,{className:"edit-site-sidebar-navigation-screen-patterns__group"},(0,H.createElement)(W.__experimentalItem,null,(0,$.__)("\u627e\u4e0d\u5230\u6a21\u677f\u96f6\u4ef6\u6216\u6837\u677f"))),(0,H.createElement)(W.__experimentalItemGroup,{className:"edit-site-sidebar-navigation-screen-patterns__group"},(0,H.createElement)(yi,{key:l.name,count:l.count||"0",label:l.label,icon:F,id:l.name,type:"gc_block",isActive:n===""+l.name&&"gc_block"===t})),o&&(0,H.createElement)(Si,{categories:s,currentCategory:n,currentType:t}),r&&(0,H.createElement)(wi,{areas:a,currentArea:n,currentType:t})))})}const ki=X(n.privateApis)["useLocation"];function Ci(){const{params:{postId:e,postType:t}={}}=ki(),{isRequestingSite:n,homepageId:a,url:r}=(0,G.useSelect)(e=>{var{getSite:e,getUnstableBase:t}=e(U.store),e=e(),t=t();return{isRequestingSite:!t,homepageId:"page"===e?.show_on_front?e.page_on_front:null,url:t?.home}},[]),{setEditedEntity:i,setTemplate:s,setTemplatePart:o,setPage:l,setNavigationMenu:c}=(0,G.useDispatch)(K);(0,H.useEffect)(()=>{if(t&&e)switch(t){case"gc_template":s(e);break;case"gc_template_part":o(e);break;case"gc_navigation":c(e);break;case"gc_block":i(t,e);break;default:l({context:{postType:t,postId:e}})}else a?l({context:{postType:"page",postId:a}}):n||l({path:r})},[r,e,t,a,n,i,l,s,o,c])}var Ti=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})),Ni=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"}));const{useLocation:Ii,useHistory:Mi}=X(n.privateApis);function Pi(e){var t;let n=null!=(t=e?.path)?t:"/";if(e?.postType&&e?.postId)switch(e.postType){case"gc_block":case"gc_template":case"gc_template_part":case"page":n=`/${encodeURIComponent(e.postType)}/`+encodeURIComponent(e.postId);break;default:n=`/navigation/${encodeURIComponent(e.postType)}/`+encodeURIComponent(e.postId)}return n}function Bi(){const a=Mi(),r=Ii()["params"],{location:t,params:n,goTo:i}=(0,W.__experimentalUseNavigator)(),s=(0,H.useRef)(!0);(0,H.useEffect)(()=>{function e(e){var n,t;t=e,n=r,Object.entries(t).every(([e,t])=>n[e]===t)||(t={...r,...e},a.push(t))}s.current?s.current=!1:n?.postType&&n?.postId?e({postType:n?.postType,postId:n?.postId,path:void 0}):t.path.startsWith("/page/")&&n?.postId?e({postType:"page",postId:n?.postId,path:void 0}):"/patterns"===t.path?e({postType:void 0,postId:void 0,canvas:void 0,path:t.path}):e({postType:void 0,postId:void 0,categoryType:void 0,categoryId:void 0,path:"/"===t.path?void 0:t.path})},[t?.path,n]),(0,H.useEffect)(()=>{var e=Pi(r);t.path!==e&&i(e)},[r])}const Ri={className:"block-editor-block-settings-menu__popover",placement:"bottom-start"},{useLocation:Li,useHistory:Di}=X(n.privateApis);function Ai(e){const n=Li(),a=Di(),t=e["block"],r=t["clientId"],{moveBlocksDown:i,moveBlocksUp:s,removeBlocks:o}=(0,G.useDispatch)(I.store),l=(0,$.sprintf)((0,$.__)("\u79fb\u9664 %s"),(0,I.BlockTitle)({clientId:r,maximumLength:25})),c=(0,$.sprintf)((0,$.__)("\u8f6c\u5230 %s"),(0,I.BlockTitle)({clientId:r,maximumLength:25})),u=(0,G.useSelect)(e=>{e=e(I.store).getBlockRootClientId;return e(r)},[r]),m=(0,H.useCallback)(e=>{var{attributes:e,name:t}=e;"post-type"===e.kind&&e.id&&e.type&&a&&a.push({postType:e.type,postId:e.id,...p()&&{gc_theme_preview:bt()}},{backPath:Pi(n.params)}),"core/page-list-item"===t&&e.id&&a&&a.push({postType:"page",postId:e.id,...p()&&{gc_theme_preview:bt()}},{backPath:Pi(n.params)})},[a]);return(0,H.createElement)(W.DropdownMenu,{icon:Se,label:(0,$.__)("\u9009\u9879"),className:"block-editor-block-settings-menu",popoverProps:Ri,noIcons:!0,...e},({onClose:e})=>(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.MenuGroup,null,(0,H.createElement)(W.MenuItem,{icon:Ti,onClick:()=>{s([r],u),e()}},(0,$.__)("\u4e0a\u79fb")),(0,H.createElement)(W.MenuItem,{icon:Ni,onClick:()=>{i([r],u),e()}},(0,$.__)("\u4e0b\u79fb")),t.attributes?.id&&(0,H.createElement)(W.MenuItem,{onClick:()=>{m(t),e()}},c)),(0,H.createElement)(W.MenuGroup,null,(0,H.createElement)(W.MenuItem,{onClick:()=>{o([r],!1),e()}},l))))}const Fi=X(I.privateApis)["PrivateListView"];const Vi=["postType","page",{per_page:100,_fields:["id","link","menu_order","parent","title","type"],orderby:"menu_order",order:"asc"}];function zi({rootClientId:i}){var{listViewRootClientId:e,isLoading:t}=(0,G.useSelect)(e=>{var{areInnerBlocksControlled:t,getBlockName:n,getBlockCount:a,getBlockOrder:r}=e(I.store),e=e(U.store)["isResolving"],r=r(i),n=1===r.length&&"core/page-list"===n(r[0])&&0<a(r[0]),a=e("getEntityRecords",Vi);return{listViewRootClientId:n?r[0]:i,isLoading:!t(i)||a}},[i]);const{replaceBlock:n,__unstableMarkNextChangeAsNotPersistent:a}=(0,G.useDispatch)(I.store);var r=(0,H.useCallback)(e=>{"core/navigation-link"!==e.name||e.attributes.url||(a(),n(e.clientId,(0,b.createBlock)("core/navigation-link",e.attributes)))},[a,n]);return(0,H.createElement)(H.Fragment,null,!t&&(0,H.createElement)(Fi,{rootClientId:e,onSelect:r,blockSettingsMenu:Ai,showAppender:!1}),(0,H.createElement)("div",{className:"edit-site-sidebar-navigation-screen-navigation-menus__helper-block-editor"},(0,H.createElement)(I.BlockList,null)))}const Oi=()=>{};function Hi({navigationMenuId:e}){var t=(0,G.useSelect)(e=>{e=X(e(K)).getSettings;return{storedSettings:e(!1)}},[])["storedSettings"],n=(0,H.useMemo)(()=>e?[(0,b.createBlock)("core/navigation",{ref:e})]:[],[e]);return e&&n?.length?(0,H.createElement)(I.BlockEditorProvider,{settings:t,value:n,onChange:Oi,onInput:Oi},(0,H.createElement)("div",{className:"edit-site-sidebar-navigation-screen-navigation-menus__content"},(0,H.createElement)(zi,{rootClientId:n[0].clientId}))):null}function Gi({id:e}){var[t]=(0,U.useEntityProp)("postType","gc_navigation","title",e);return e?(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.__experimentalHeading,{className:"edit-site-sidebar-navigation-screen-template-part-navigation-menu__title",size:"11",upperCase:!0,weight:500},t?.rendered||(0,$.__)("\u5bfc\u822a")),(0,H.createElement)(Hi,{navigationMenuId:e})):null}function Ui({id:e}){var[t]=(0,U.useEntityProp)("postType","gc_navigation","title",e),n=w({postId:e,postType:"gc_navigation"});return e?(0,H.createElement)(g,{withChevron:!0,...n},t||(0,$.__)("\uff08\u65e0\u6807\u9898\uff09")):null}function ji({menus:e}){return(0,H.createElement)(W.__experimentalItemGroup,{className:"edit-site-sidebar-navigation-screen-template-part-navigation-menu-list"},e.map(e=>(0,H.createElement)(Ui,{key:e,id:e})))}function Wi({menus:e}){return e.length?1===e.length?(0,H.createElement)(Gi,{id:e[0]}):(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.__experimentalHeading,{className:"edit-site-sidebar-navigation-screen-template-part-navigation-menu__title",size:"11",upperCase:!0,weight:500},(0,$.__)("\u5bfc\u822a")),(0,H.createElement)(ji,{menus:e})):null}function $i(e,t){t=Lr(e,t).record;if("gc_template_part"===e){e=function(r,e){if(!r||!e?.length)return[];const i=e=>{if(!e)return[];var t,n=[];for(const a of e)a.name===r&&n.push(a),a?.innerBlocks&&(t=i(a.innerBlocks)).length&&n.push(...t);return n};return i(e)}("core/navigation",t?.blocks)?.map(e=>e.attributes.ref);if(e?.length)return(0,H.createElement)(Wi,{menus:e})}}function Zi(){var e=(0,W.__experimentalUseNavigator)()["params"],t=(0,u.getQueryArgs)(window.location.href)["categoryType"],{postType:e,postId:n}=e;const a=X((0,G.useDispatch)(K))["setCanvasMode"];Ci();n=function(e,t){var{getDescription:n,getTitle:a,record:r}=Lr(e,t),i=(0,G.useSelect)(e=>e(U.store).getCurrentTheme(),[]),s=Vr(e,t),i="theme"===s.type&&r.theme===i?.stylesheet,o=a();let l=n();return!(l=!l&&s.text?(0,$.sprintf)((0,$.__)("\u8fd9\u662f%s\u6837\u677f\u3002"),a()):l)&&"gc_block"===e&&r?.title&&(l=(0,$.sprintf)((0,$.__)("\u8fd9\u662f%s\u6837\u677f\u3002"),r.title)),n=(0,H.createElement)(H.Fragment,null,l,s.text&&!i&&(0,H.createElement)("span",{className:"edit-site-sidebar-navigation-screen-pattern__added-by-description"},(0,H.createElement)("span",{className:"edit-site-sidebar-navigation-screen-pattern__added-by-description-author"},(0,H.createElement)("span",{className:"edit-site-sidebar-navigation-screen-pattern__added-by-description-author-icon"},s.imageUrl?(0,H.createElement)("img",{src:s.imageUrl,alt:"",width:"24",height:"24"}):(0,H.createElement)(W.Icon,{icon:s.icon})),s.text),s.isCustomized&&(0,H.createElement)("span",{className:"edit-site-sidebar-navigation-screen-pattern__added-by-description-customized"},(0,$._x)("(Customized)","pattern")))),a=r?.modified?(0,H.createElement)(ei,{lastModifiedDateTime:r.modified}):null,i=[],"gc_block"===e&&i.push({label:(0,$.__)("\u6b63\u5728\u540c\u6b65"),value:"unsynced"===r.gc_pattern_sync_status?(0,$.__)("\u672a\u540c\u6b65"):(0,$.__)("\u5b8c\u5168\u540c\u6b65")}),s=(0,H.createElement)(H.Fragment,null,!!i.length&&(0,H.createElement)(Xr,{spacing:5,title:(0,$.__)("\u8be6\u7ec6\u4fe1\u606f")},i.map(({label:e,value:t})=>(0,H.createElement)(qr,{key:e},(0,H.createElement)(Zr,null,e),(0,H.createElement)(Yr,null,t)))),$i(e,t)),{title:o,description:n,content:s,footer:a}}(e,n),t=t||"gc_template_part"!==e?"/patterns":"/gc_template_part/all";return(0,H.createElement)(Xn,{actions:(0,H.createElement)(y,{onClick:()=>a("edit"),label:(0,$.__)("\u7f16\u8f91"),icon:ta}),backPath:t,...n})}const qi={per_page:100,status:["publish","draft"],order:"desc",orderby:"date"};function Yi({menuTitle:e,onClose:t,onSave:n}){const[a,r]=(0,H.useState)(e);const i=a!==e&&0<a?.trim()?.length;return(0,H.createElement)(W.Modal,{title:(0,$.__)("\u91cd\u547d\u540d"),onRequestClose:t},(0,H.createElement)("form",{className:"sidebar-navigation__rename-modal-form"},(0,H.createElement)(W.__experimentalVStack,{spacing:"3"},(0,H.createElement)(W.TextControl,{__nextHasNoMarginBottom:!0,value:a,placeholder:(0,$.__)("\u5bfc\u822a\u6807\u9898"),onChange:r}),(0,H.createElement)(W.__experimentalHStack,{justify:"right"},(0,H.createElement)(W.Button,{variant:"tertiary",onClick:t},(0,$.__)("\u53d6\u6d88")),(0,H.createElement)(W.Button,{disabled:!i,variant:"primary",type:"submit",onClick:e=>{e.preventDefault(),i&&(n({title:a}),t())}},(0,$.__)("\u4fdd\u5b58"))))))}function Xi({onClose:t,onConfirm:n}){return(0,H.createElement)(W.Modal,{title:(0,$.__)("\u5220\u9664"),onRequestClose:t},(0,H.createElement)("form",null,(0,H.createElement)(W.__experimentalVStack,{spacing:"3"},(0,H.createElement)("p",null,(0,$.__)("\u662f\u5426\u786e\u8ba4\u8981\u5220\u9664\u6b64\u5bfc\u822a\u83dc\u5355\uff1f")),(0,H.createElement)(W.__experimentalHStack,{justify:"right"},(0,H.createElement)(W.Button,{variant:"tertiary",onClick:t},(0,$.__)("\u53d6\u6d88")),(0,H.createElement)(W.Button,{variant:"primary",type:"submit",onClick:e=>{e.preventDefault(),n(),t()}},(0,$.__)("\u5220\u9664"))))))}const Ki={position:"bottom right"};function Qi(e){const{onDelete:t,onSave:n,onDuplicate:a,menuTitle:r}=e,[i,s]=(0,H.useState)(!1),[o,l]=(0,H.useState)(!1);e=()=>{s(!1),l(!1)};return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.DropdownMenu,{className:"sidebar-navigation__more-menu",label:(0,$.__)("\u64cd\u4f5c"),icon:Se,popoverProps:Ki},({onClose:e})=>(0,H.createElement)("div",null,(0,H.createElement)(W.MenuGroup,null,(0,H.createElement)(W.MenuItem,{onClick:()=>{s(!0),e()}},(0,$.__)("\u91cd\u547d\u540d")),(0,H.createElement)(W.MenuItem,{onClick:()=>{a(),e()}},(0,$.__)("\u521b\u5efa\u526f\u672c"))),(0,H.createElement)(W.MenuGroup,null,(0,H.createElement)(W.MenuItem,{onClick:()=>{l(!0),e()}},(0,$.__)("\u5220\u9664"))))),o&&(0,H.createElement)(Xi,{onClose:e,onConfirm:t}),i&&(0,H.createElement)(Yi,{onClose:e,menuTitle:r,onSave:n}))}function Ji({postId:e}){e=w({postId:e,postType:"gc_navigation",canvas:"edit"});return(0,H.createElement)(y,{...e,label:(0,$.__)("\u7f16\u8f91"),icon:ta})}function es({navigationMenu:e,handleDelete:t,handleDuplicate:n,handleSave:a}){var r=e?.title?.rendered;return(0,H.createElement)(ss,{actions:(0,H.createElement)(H.Fragment,null,(0,H.createElement)(Qi,{menuTitle:(0,M.decodeEntities)(r),onDelete:t,onSave:a,onDuplicate:n}),(0,H.createElement)(Ji,{postId:e?.id})),title:(0,M.decodeEntities)(r),description:(0,$.__)("\u5bfc\u822a\u83dc\u5355\u662f\u4e00\u4e2a\u7cbe\u5fc3\u7b56\u5212\u7684\u533a\u5757\u96c6\u5408\uff0c\u5141\u8bb8\u8bbf\u95ee\u8005\u8bbf\u95ee\u60a8\u7684\u524d\u7aef\u3002")},(0,H.createElement)(Hi,{navigationMenuId:e?.id}))}const ts="gc_navigation";function ns(){const n=(0,W.__experimentalUseNavigator)()["params"]["postId"],{record:t,isResolving:e}=(0,U.useEntityRecord)("postType",ts,n);var{isSaving:a,isDeleting:r}=(0,G.useSelect)(e=>{var{isSavingEntityRecord:e,isDeletingEntityRecord:t}=e(U.store);return{isSaving:e("postType",ts,n),isDeleting:t("postType",ts,n)}},[n]),a=e||a||r,r=t?.title?.rendered||t?.slug;const{handleSave:i,handleDelete:s,handleDuplicate:o}=as();var l=()=>s(t),c=e=>i(t,e),u=()=>o(t);return a?(0,H.createElement)(ss,{description:(0,$.__)("\u5bfc\u822a\u83dc\u5355\u662f\u4e00\u4e2a\u7cbe\u5fc3\u7b56\u5212\u7684\u533a\u5757\u96c6\u5408\uff0c\u5141\u8bb8\u8bbf\u95ee\u8005\u8bbf\u95ee\u60a8\u7684\u524d\u7aef\u3002")},(0,H.createElement)(W.Spinner,{className:"edit-site-sidebar-navigation-screen-navigation-menus__loading"})):a||t?t?.content?.raw?(0,H.createElement)(es,{navigationMenu:t,handleDelete:l,handleSave:c,handleDuplicate:u}):(0,H.createElement)(ss,{actions:(0,H.createElement)(Qi,{menuTitle:(0,M.decodeEntities)(r),onDelete:l,onSave:c,onDuplicate:u}),title:(0,M.decodeEntities)(r),description:(0,$.__)("\u5bfc\u822a\u83dc\u5355\u4e3a\u7a7a\u3002")}):(0,H.createElement)(ss,{description:(0,$.__)("\u7f3a\u5c11\u5bfc\u822a\u83dc\u5355\u3002")})}function as(){return{handleDelete:function(){const t=(0,W.__experimentalUseNavigator)()["goTo"],n=(0,G.useDispatch)(U.store)["deleteEntityRecord"],{createSuccessNotice:a,createErrorNotice:r}=(0,G.useDispatch)(Y.store);return async e=>{e=e?.id;try{await n("postType",ts,e,{force:!0},{throwOnError:!0}),a((0,$.__)("\u5df2\u5220\u9664\u5bfc\u822a\u83dc\u5355"),{type:"snackbar"}),t("/navigation")}catch(e){r((0,$.sprintf)((0,$.__)("Unable to delete Navigation menu (%s)."),e?.message),{type:"snackbar"})}}}(),handleSave:function(){const a=(0,G.useSelect)(e=>{e=e(U.store).getEditedEntityRecord;return{getEditedEntityRecord:e}},[])["getEditedEntityRecord"],{editEntityRecord:r,saveEditedEntityRecord:i}=(0,G.useDispatch)(U.store),{createSuccessNotice:s,createErrorNotice:o}=(0,G.useDispatch)(Y.store);return async(t,e)=>{if(e){var t=t?.id,n=a("postType","gc_navigation",t);r("postType",ts,t,e);try{await i("postType",ts,t,{throwOnError:!0}),s((0,$.__)("\u91cd\u547d\u540d\u7684\u5bfc\u822a\u83dc\u5355"),{type:"snackbar"})}catch(e){r("postType",ts,t,n),o((0,$.sprintf)((0,$.__)("Unable to rename Navigation menu (%s)."),e?.message),{type:"snackbar"})}}}}(),handleDuplicate:function(){const a=(0,W.__experimentalUseNavigator)()["goTo"],r=(0,G.useDispatch)(U.store)["saveEntityRecord"],{createSuccessNotice:i,createErrorNotice:s}=(0,G.useDispatch)(Y.store);return async e=>{var t=e?.title?.rendered||e?.slug;try{var n=await r("postType",ts,{title:(0,$.sprintf)((0,$.__)("%s (Copy)"),t),content:e?.content?.raw,status:"publish"},{throwOnError:!0});n&&(i((0,$.__)("\u590d\u5236\u5bfc\u822a\u83dc\u5355"),{type:"snackbar"}),a(`/navigation/${ts}/`+n.id))}catch(e){s((0,$.sprintf)((0,$.__)("Unable to duplicate Navigation menu (%s)."),e?.message),{type:"snackbar"})}}}()}}let rs=!1;function is(){var{records:e,isResolving:t,hasResolved:n}=(0,U.useEntityRecords)("postType","gc_navigation",qi),a=t&&!n,r=X((0,G.useSelect)(U.store))["getNavigationFallbackId"];const i=e?.[0],{handleSave:s,handleDelete:o,handleDuplicate:l}=(i&&(rs=!0),i||t||!n||rs||r(),as());t=!!e?.length;return a?(0,H.createElement)(ss,null,(0,H.createElement)(W.Spinner,{className:"edit-site-sidebar-navigation-screen-navigation-menus__loading"})):a||t?1===e?.length?(0,H.createElement)(es,{navigationMenu:i,handleDelete:()=>o(i),handleDuplicate:()=>l(i),handleSave:e=>s(i,e)}):(0,H.createElement)(ss,null,(0,H.createElement)(W.__experimentalItemGroup,null,e?.map(({id:e,title:t,status:n},a)=>{return(0,H.createElement)(os,{postId:e,key:e,withChevron:!0,icon:jn},(e=a+1,a=n,(n=t)?.rendered?"publish"===a?(0,M.decodeEntities)(n?.rendered):(0,$.sprintf)((0,$.__)("%1$s\uff08%2$s\uff09"),(0,M.decodeEntities)(n?.rendered),a):(0,$.sprintf)((0,$.__)("(no title %s)"),e)))}))):(0,H.createElement)(ss,{description:(0,$.__)("\u672a\u627e\u5230\u5bfc\u822a\u83dc\u5355\u3002")})}function ss({children:e,actions:t,title:n,description:a}){return(0,H.createElement)(Xn,{title:n||(0,$.__)("\u5bfc\u822a"),actions:t,description:a||(0,$.__)("\u7ba1\u7406\u60a8\u7684\u5bfc\u822a\u83dc\u5355\u3002"),content:e})}const os=({postId:e,...t})=>{e=w({postId:e,postType:"gc_navigation"});return(0,H.createElement)(g,{...e,...t})},ls={gc_template:{title:(0,$.__)("\u6240\u6709\u6a21\u677f"),description:(0,$.__)("\u521b\u5efa\u65b0\u6a21\u677f\uff0c\u6216\u91cd\u7f6e\u5bf9\u5f53\u524d\u7684\u4e3b\u9898\u63d0\u4f9b\u7684\u6a21\u677f\u8fdb\u884c\u7684\u4efb\u4f55\u81ea\u5b9a\u4e49\u3002")},gc_template_part:{title:(0,$.__)("\u6240\u6709\u6a21\u7248\u7ec4\u4ef6"),description:(0,$.__)("\u521b\u5efa\u65b0\u7684\u6a21\u677f\u7ec4\u4ef6\uff0c\u6216\u91cd\u7f6e\u5bf9\u4f60\u7684\u4e3b\u9898\u6240\u63d0\u4f9b\u7684\u6a21\u677f\u7ec4\u4ef6\u8fdb\u884c\u7684\u4efb\u4f55\u5b9a\u5236\u3002"),backPath:"/patterns"}};function cs(){var{postType:e}=(0,W.__experimentalUseNavigator)()["params"],t=(0,G.useSelect)(e=>{return!!e(K).getSettings().supportsTemplatePartsMode},[]);return(0,H.createElement)(Xn,{isRoot:t,title:ls[e].title,description:ls[e].description,backPath:ls[e].backPath})}function us({className:e="edit-site-save-button__button",variant:t="primary",showTooltip:n=!0,defaultLabel:a,icon:r}){const{isDirty:i,isSaving:s,isSaveViewOpen:o}=(0,G.useSelect)(e=>{const{__experimentalGetDirtyEntityRecords:t,isSavingEntityRecord:n}=e(U.store);var a=t(),e=e(K)["isSaveViewOpened"];return{isDirty:0<a.length,isSaving:a.some(e=>n(e.kind,e.name,e.key)),isSaveViewOpen:e()}},[]),l=(0,G.useDispatch)(K)["setIsSaveViewOpened"];var c=p()||i;const u=s||!c;c=p()?s?(0,$.__)("\u6fc0\u6d3b"):u?(0,$.__)("\u5df2\u4fdd\u5b58"):i?(0,$.__)("\u6fc0\u6d3b\u5e76\u4fdd\u5b58"):(0,$.__)("\u542f\u7528"):s?(0,$.__)("\u6b63\u5728\u4fdd\u5b58"):u?(0,$.__)("\u5df2\u4fdd\u5b58"):a||(0,$.__)("\u4fdd\u5b58");return(0,H.createElement)(W.Button,{variant:t,className:e,"aria-disabled":u,"aria-expanded":o,isBusy:s,onClick:u?void 0:()=>l(!0),label:c,shortcut:u?void 0:h.displayShortcut.primary("s"),showTooltip:n,icon:r},c)}const ms=X(n.privateApis)["useLocation"],ds=[{kind:"postType",name:"gc_navigation"}];function ps(){const r=ms()["params"],i=(0,G.useDispatch)(I.store)["__unstableMarkLastChangeAsPersistent"],{createSuccessNotice:s,createErrorNotice:o}=(0,G.useDispatch)(Y.store),{dirtyCurrentEntity:l,countUnsavedChanges:e,isDirty:t,isSaving:n}=(0,G.useSelect)(e=>{const{__experimentalGetDirtyEntityRecords:t,isSavingEntityRecord:n}=e(U.store);e=t();let a=null;return 1===e.length&&(r.path?.includes("gc_global_styles")?a=e.find(e=>"globalStyles"===e.name):r.postId&&(a=e.find(e=>e.name===r.postType&&String(e.key)===r.postId))),{dirtyCurrentEntity:a,isDirty:0<e.length,isSaving:e.some(e=>n(e.kind,e.name,e.key)),countUnsavedChanges:e.length}},[r.path,r.postType,r.postId]),{editEntityRecord:c,saveEditedEntityRecord:u,__experimentalSaveSpecifiedEntityEdits:m}=(0,G.useDispatch)(U.store);var a=n||!t&&!p();let d=l?(0,$.__)("\u4fdd\u5b58"):(0,$.sprintf)((0,$._n)("Review %d change...","Review %d changes...",e),e);n&&(d=(0,$.__)("\u6b63\u5728\u4fdd\u5b58"));return(0,H.createElement)(W.__experimentalHStack,{className:"edit-site-save-hub",alignment:"right",spacing:4},l?(0,H.createElement)(W.Button,{variant:"primary",onClick:async()=>{if(l){const{kind:t,name:n,key:e,property:a}=l;try{"root"===l.kind&&"site"===n?await m("root","site",void 0,[a]):(ds.some(e=>e.kind===t&&e.name===n)&&c(t,n,e,{status:"publish"}),await u(t,n,e)),i(),s((0,$.__)("\u524d\u7aef\u5df2\u66f4\u65b0\u3002"),{type:"snackbar"})}catch(e){o((0,$.__)("\u4fdd\u5b58\u5931\u8d25\u3002")+" "+e)}}},isBusy:n,disabled:n,"aria-disabled":n,className:"edit-site-save-hub__button"},d):(0,H.createElement)(us,{className:"edit-site-save-hub__button",variant:a?null:"primary",showTooltip:!1,icon:a&&!n?A:null,defaultLabel:d}))}function _s({onSave:a,onClose:e}){const[r,i]=(0,H.useState)(!1),[s,t]=(0,H.useState)(""),o=(0,G.useDispatch)(U.store)["saveEntityRecord"],{createErrorNotice:l,createSuccessNotice:c}=(0,G.useDispatch)(Y.store);return(0,H.createElement)(W.Modal,{title:(0,$.__)("\u8d77\u8349\u65b0\u9875\u9762"),onRequestClose:e},(0,H.createElement)("form",{onSubmit:async function(e){if(e.preventDefault(),!r){i(!0);try{var t=await o("postType","page",{status:"draft",title:s,slug:(0,Ke.kebabCase)(s||(0,$.__)("\u6ca1\u6709\u6807\u9898"))},{throwOnError:!0});a(t),c((0,$.sprintf)((0,$.__)("\u201c%s\u201d\u5df2\u5efa\u7acb\u3002"),t.title?.rendered||s),{type:"snackbar"})}catch(e){var n=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u521b\u5efa\u9875\u9762\u65f6\u51fa\u9519\u3002");l(n,{type:"snackbar"})}finally{i(!1)}}}},(0,H.createElement)(W.__experimentalVStack,{spacing:3},(0,H.createElement)(W.TextControl,{label:(0,$.__)("\u9875\u9762\u6807\u9898"),onChange:t,placeholder:(0,$.__)("\u6ca1\u6709\u6807\u9898"),value:s}),(0,H.createElement)(W.__experimentalHStack,{spacing:2,justify:"end"},(0,H.createElement)(W.Button,{variant:"tertiary",onClick:e},(0,$.__)("\u53d6\u6d88")),(0,H.createElement)(W.Button,{variant:"primary",type:"submit",isBusy:r,"aria-disabled":r},(0,$.__)("\u521b\u5efa\u8349\u7a3f"))))))}const gs=X(n.privateApis)["useHistory"],hs=({postType:e="page",postId:t,...n})=>{e=w({postType:e,postId:t},{backPath:"/page"});return(0,H.createElement)(g,{...e,...n})};function vs(){var{records:e,isResolving:t}=(0,U.useEntityRecords)("postType","page",{status:"any",per_page:-1});const{records:a,isResolving:n}=(0,U.useEntityRecords)("postType","gc_template",{per_page:-1});var r=a?.filter(({slug:e})=>["404","search"].includes(e)),i=a?.find(e=>"front-page"===e.slug)||a?.find(e=>"home"===e.slug)||a?.find(e=>"index"===e.slug);var s=e?.concat(r,[i]);const{frontPage:o,postsPage:l}=(0,G.useSelect)(e=>{e=e(U.store).getEntityRecord,e=e("root","site");return{frontPage:e?.page_on_front,postsPage:e?.page_for_posts}},[]);var c,u=o===l,e=e&&[...e];!u&&e?.length&&(c=e.findIndex(e=>e.id===o),c=e.splice(c,1),e?.splice(0,0,...c),c=e.findIndex(e=>e.id===l),c=e.splice(c,1),e.splice(1,0,...c));const[m,d]=(0,H.useState)(!1),p=gs();const _=e=>{let t=$n;var n=l&&l===e?(a?.find(e=>"home"===e.slug)||a?.find(e=>"index"===e.slug))?.id:null;switch(e){case o:t=Qa;break;case l:t=Ja}return{icon:t,postType:n?"gc_template":"page",postId:n||e}};return(0,H.createElement)(H.Fragment,null,m&&(0,H.createElement)(_s,{onSave:({type:e,id:t})=>{p.push({postId:t,postType:e,canvas:"edit"}),d(!1)},onClose:()=>d(!1)}),(0,H.createElement)(Xn,{title:(0,$.__)("\u9875\u9762"),description:(0,$.__)("\u6d4f\u89c8\u548c\u7f16\u8f91\u524d\u7aef\u4e0a\u7684\u9875\u9762\u3002"),actions:(0,H.createElement)(y,{icon:sr,label:(0,$.__)("\u8d77\u8349\u65b0\u9875\u9762"),onClick:()=>d(!0)}),content:(0,H.createElement)(H.Fragment,null,(t||n)&&(0,H.createElement)(W.__experimentalItemGroup,null,(0,H.createElement)(W.__experimentalItem,null,(0,$.__)("\u6b63\u5728\u52a0\u8f7d\u9875\u9762"))),!(t||n)&&(0,H.createElement)(W.__experimentalItemGroup,null,!s?.length&&(0,H.createElement)(W.__experimentalItem,null,(0,$.__)("\u672a\u627e\u5230\u9875\u9762")),u&&i&&(0,H.createElement)(hs,{postType:"gc_template",postId:i.id,key:i.id,icon:Qa,withChevron:!0},(0,H.createElement)(W.__experimentalTruncate,{numberOfLines:1},(0,M.decodeEntities)(i.title?.rendered||(0,$.__)("\uff08\u65e0\u6807\u9898\uff09")))),e?.map(({id:e,title:t})=>(0,H.createElement)(hs,{..._(e),key:e,withChevron:!0},(0,H.createElement)(W.__experimentalTruncate,{numberOfLines:1},(0,M.decodeEntities)(t?.rendered||(0,$.__)("\uff08\u65e0\u6807\u9898\uff09"))))))),footer:(0,H.createElement)(W.__experimentalVStack,{spacing:0},r?.map(e=>(0,H.createElement)(hs,{postType:"gc_template",postId:e.id,key:e.id,icon:Zn,withChevron:!0},(0,H.createElement)(W.__experimentalTruncate,{numberOfLines:1},(0,M.decodeEntities)(e.title?.rendered||(0,$.__)("\uff08\u65e0\u6807\u9898\uff09"))))),(0,H.createElement)(g,{className:"edit-site-sidebar-navigation-screen-pages__see-all",href:"edit.php?post_type=page",onClick:()=>{document.location="edit.php?post_type=page"}},(0,$.__)("\u7ba1\u7406\u6240\u6709\u9875\u9762")))}))}var Es=window.gc.dom,ys=window.gc.escapeHtml,fs=window.gc.wordcount;function bs({status:e,date:t,short:n}){var a=(0,m.humanTimeDiff)(t);let r=e;switch(e){case"publish":r=t?(0,H.createInterpolateElement)((0,$.sprintf)((0,$.__)("\u5df2\u53d1\u5e03<time>%s</time>"),a),{time:(0,H.createElement)("time",{dateTime:t})}):(0,$.__)("\u5df2\u53d1\u5e03");break;case"future":var i=(0,m.dateI18n)(n?"M j":"F j",(0,m.getDate)(t));r=t?(0,H.createInterpolateElement)((0,$.sprintf)((0,$.__)("\u8ba1\u5212\uff1a<time>%s</time>"),i),{time:(0,H.createElement)("time",{dateTime:t})}):(0,$.__)("\u5df2\u8ba1\u5212");break;case"draft":r=(0,$.__)("\u8349\u7a3f");break;case"pending":r=(0,$.__)("\u5f85\u5ba1");break;case"private":r=(0,$.__)("\u79c1\u5bc6");break;case"protected":r=(0,$.__)("\u5bc6\u7801\u4fdd\u62a4")}return(0,H.createElement)("div",{className:j()("edit-site-sidebar-navigation-screen-page__status",{[`has-status has-${e}-status`]:!!e})},r)}function ws({id:e}){const r=(0,U.useEntityRecord)("postType","page",e)["record"];var t,{parentTitle:e,templateTitle:n}=(0,G.useSelect)(e=>{var t=X(e(K))["getEditedPostContext"],t=t(),n=e(U.store).getEntityRecords("postType","gc_template",{per_page:-1});const a="page"===t?.postType?t?.templateSlug:null;t=n&&a?n.find(e=>e.slug===a)?.title?.rendered:null;return{parentTitle:r?.parent?e(U.store).getEntityRecord("postType","page",r.parent,{_fields:["title"]})?.title?.rendered:null,templateTitle:t}},[r?.parent]);return(0,H.createElement)(Xr,{spacing:5,title:(0,$.__)("\u8be6\u7ec6\u4fe1\u606f")},((e={parentTitle:e,templateTitle:n,...r})?(n=[{label:(0,$.__)("\u72b6\u6001"),value:(0,H.createElement)(bs,{status:e?.password?"protected":e.status,date:e?.date,short:!0})},{label:(0,$.__)("\u522b\u540d"),value:(0,H.createElement)(W.__experimentalTruncate,{numberOfLines:1},(0,u.safeDecodeURIComponent)(e.slug))}],e?.templateTitle&&n.push({label:(0,$.__)("\u6a21\u677f"),value:(0,M.decodeEntities)(e.templateTitle)}),e?.parentTitle&&n.push({label:(0,$.__)("\u7236\u7ea7"),value:(0,M.decodeEntities)(e.parentTitle||(0,$.__)("\uff08\u65e0\u6807\u9898\uff09"))}),t=(0,$._x)("\u5b57\u6570","Word count type. Do not translate!"),e=e?.content?.rendered?(0,fs.count)(e.content.rendered,t):0,t=Math.round(e/189),e&&n.push({label:(0,$.__)("\u5b57\u6570"),value:e.toLocaleString()||(0,$.__)("\u672a\u77e5")},{label:(0,$.__)("\u9605\u8bfb\u65f6\u957f"),value:1<t?(0,$.sprintf)((0,$.__)("%s\u6700\u5c0f\u503c"),t.toLocaleString()):(0,$.__)("<1\u5206\u949f")}),n):[]).map(({label:e,value:t})=>(0,H.createElement)(qr,{key:e},(0,H.createElement)(Zr,null,e),(0,H.createElement)(Yr,null,t))))}function Ss({postId:n,onRemove:e}){const{createSuccessNotice:a,createErrorNotice:r}=(0,G.useDispatch)(Y.store),i=(0,G.useDispatch)(U.store)["deleteEntityRecord"],s=(0,G.useSelect)(e=>e(U.store).getEntityRecord("postType","page",n),[n]);return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.MenuItem,{onClick:()=>async function(){try{await i("postType","page",n,{},{throwOnError:!0}),a((0,$.sprintf)((0,$.__)("\u201c%s\u201d\u5df2\u79fb\u52a8\u5230\u56de\u6536\u7ad9\u3002"),(0,M.decodeEntities)(s.title.rendered)),{type:"snackbar",id:"edit-site-page-trashed"}),e?.()}catch(e){var t=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u5c06\u9875\u9762\u79fb\u52a8\u5230\u56de\u6536\u7ad9\u65f6\u51fa\u9519\u3002");r(t,{type:"snackbar"})}}(),isDestructive:!0},(0,$.__)("\u79fb\u52a8\u81f3\u56de\u6536\u7ad9")))}function xs({postId:e,className:t,toggleProps:n,onRemove:a}){return(0,H.createElement)(W.DropdownMenu,{icon:Se,label:(0,$.__)("\u64cd\u4f5c"),className:t,toggleProps:n},()=>(0,H.createElement)(W.MenuGroup,null,(0,H.createElement)(Ss,{postId:e,onRemove:a})))}function ks(){const e=(0,W.__experimentalUseNavigator)(),t=X((0,G.useDispatch)(K))["setCanvasMode"];var n=(0,W.__experimentalUseNavigator)()["params"]["postId"];const a=(0,U.useEntityRecord)("postType","page",n)["record"];var{featuredMediaAltText:r,featuredMediaSourceUrl:i}=(0,G.useSelect)(e=>{e=e(U.store).getEntityRecord,e=a?.featured_media?e("postType","attachment",a?.featured_media):null;return{featuredMediaSourceUrl:e?.media_details.sizes?.medium?.source_url||e?.source_url,featuredMediaAltText:(0,ys.escapeAttribute)(e?.alt_text||e?.description?.raw||"")}},[a]),r=r?(0,M.decodeEntities)(r):(0,M.decodeEntities)(a?.title?.rendered||(0,$.__)("\u7279\u8272\u56fe\u7247"));return a?(0,H.createElement)(Xn,{title:(0,M.decodeEntities)(a?.title?.rendered||(0,$.__)("\uff08\u65e0\u6807\u9898\uff09")),actions:(0,H.createElement)(H.Fragment,null,(0,H.createElement)(xs,{postId:n,toggleProps:{as:y},onRemove:()=>{e.goTo("/page")}}),(0,H.createElement)(y,{onClick:()=>t("edit"),label:(0,$.__)("\u7f16\u8f91"),icon:ta})),meta:(0,H.createElement)(W.ExternalLink,{className:"edit-site-sidebar-navigation-screen__page-link",href:a.link},(0,u.filterURLForDisplay)((0,u.safeDecodeURIComponent)(a.link))),content:(0,H.createElement)(H.Fragment,null,!!i&&(0,H.createElement)(W.__experimentalVStack,{className:"edit-site-sidebar-navigation-screen-page__featured-image-wrapper",alignment:"left",spacing:2},(0,H.createElement)("div",{className:"edit-site-sidebar-navigation-screen-page__featured-image has-image"},(0,H.createElement)("img",{alt:r,src:i}))),!!a?.excerpt?.rendered&&(0,H.createElement)(W.__experimentalTruncate,{className:"edit-site-sidebar-navigation-screen-page__excerpt",numberOfLines:3},(0,Es.__unstableStripHTML)(a.excerpt.rendered)),(0,H.createElement)(ws,{id:n})),footer:(0,H.createElement)(ei,{lastModifiedDateTime:a?.modified})}):null}const Cs=X(n.privateApis)["useLocation"];function Ts(){return Bi(),(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.__experimentalNavigatorScreen,{path:"/"},(0,H.createElement)(Ka,null)),(0,H.createElement)(W.__experimentalNavigatorScreen,{path:"/navigation"},(0,H.createElement)(is,null)),(0,H.createElement)(W.__experimentalNavigatorScreen,{path:"/navigation/:postType/:postId"},(0,H.createElement)(ns,null)),(0,H.createElement)(W.__experimentalNavigatorScreen,{path:"/gc_global_styles"},(0,H.createElement)(qa,null)),(0,H.createElement)(W.__experimentalNavigatorScreen,{path:"/page"},(0,H.createElement)(vs,null)),(0,H.createElement)(W.__experimentalNavigatorScreen,{path:"/page/:postId"},(0,H.createElement)(ks,null)),(0,H.createElement)(W.__experimentalNavigatorScreen,{path:"/:postType(gc_template)"},(0,H.createElement)(Rr,null)),(0,H.createElement)(W.__experimentalNavigatorScreen,{path:"/patterns"},(0,H.createElement)(xi,null)),(0,H.createElement)(W.__experimentalNavigatorScreen,{path:"/:postType(gc_template|gc_template_part)/all"},(0,H.createElement)(cs,null)),(0,H.createElement)(W.__experimentalNavigatorScreen,{path:"/:postType(gc_template_part|gc_block)/:postId"},(0,H.createElement)(Zi,null)),(0,H.createElement)(W.__experimentalNavigatorScreen,{path:"/:postType(gc_template)/:postId"},(0,H.createElement)(ti,null)))}var Ns=(0,H.memo)(function(){var e=Cs()["params"],e=(0,H.useRef)(Pi(e));return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.__experimentalNavigatorProvider,{className:"edit-site-sidebar__content",initialPath:e.current},(0,H.createElement)(Ts,null)),(0,H.createElement)(ps,null))}),Is=(0,H.createElement)(t.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z"})),Ms=(0,H.createElement)(t.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"}));function Ps({className:e,identifier:t,title:n,icon:a,children:r,closeLabel:i,header:s,headerClassName:o,panelClassName:l}){var c=(0,G.useSelect)(e=>e(K).getSettings().showIconLabels,[]);return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(ye,{className:e,scope:"core/edit-site",identifier:t,title:n,icon:a,closeLabel:i,header:s,headerClassName:o,panelClassName:l,showIconLabels:c},r),(0,H.createElement)(ge,{scope:"core/edit-site",identifier:t,icon:a},n))}function Bs({className:e,...t}){return(0,H.createElement)(W.Icon,{className:j()(e,"edit-site-global-styles-icon-with-current-color"),...t})}function Rs({icon:e,children:t,...n}){return(0,H.createElement)(W.__experimentalItem,{...n},e&&(0,H.createElement)(W.__experimentalHStack,{justify:"flex-start"},(0,H.createElement)(Bs,{icon:e,size:24}),(0,H.createElement)(W.FlexItem,null,t)),!e&&t)}function Ls(e){return(0,H.createElement)(W.__experimentalNavigatorButton,{as:Rs,...e})}var Ds=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M6.9 7L3 17.8h1.7l1-2.8h4.1l1 2.8h1.7L8.6 7H6.9zm-.7 6.6l1.5-4.3 1.5 4.3h-3zM21.6 17c-.1.1-.2.2-.3.2-.1.1-.2.1-.4.1s-.3-.1-.4-.2c-.1-.1-.1-.3-.1-.6V12c0-.5 0-1-.1-1.4-.1-.4-.3-.7-.5-1-.2-.2-.5-.4-.9-.5-.4 0-.8-.1-1.3-.1s-1 .1-1.4.2c-.4.1-.7.3-1 .4-.2.2-.4.3-.6.5-.1.2-.2.4-.2.7 0 .3.1.5.2.8.2.2.4.3.8.3.3 0 .6-.1.8-.3.2-.2.3-.4.3-.7 0-.3-.1-.5-.2-.7-.2-.2-.4-.3-.6-.4.2-.2.4-.3.7-.4.3-.1.6-.1.8-.1.3 0 .6 0 .8.1.2.1.4.3.5.5.1.2.2.5.2.9v1.1c0 .3-.1.5-.3.6-.2.2-.5.3-.9.4-.3.1-.7.3-1.1.4-.4.1-.8.3-1.1.5-.3.2-.6.4-.8.7-.2.3-.3.7-.3 1.2 0 .6.2 1.1.5 1.4.3.4.9.5 1.6.5.5 0 1-.1 1.4-.3.4-.2.8-.6 1.1-1.1 0 .4.1.7.3 1 .2.3.6.4 1.2.4.4 0 .7-.1.9-.2.2-.1.5-.3.7-.4h-.3zm-3-.9c-.2.4-.5.7-.8.8-.3.2-.6.2-.8.2-.4 0-.6-.1-.9-.3-.2-.2-.3-.6-.3-1.1 0-.5.1-.9.3-1.2s.5-.5.8-.7c.3-.2.7-.3 1-.5.3-.1.6-.3.7-.6v3.4z"})),As=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M17.2 10.9c-.5-1-1.2-2.1-2.1-3.2-.6-.9-1.3-1.7-2.1-2.6L12 4l-1 1.1c-.6.9-1.3 1.7-2 2.6-.8 1.2-1.5 2.3-2 3.2-.6 1.2-1 2.2-1 3 0 3.4 2.7 6.1 6.1 6.1s6.1-2.7 6.1-6.1c0-.8-.3-1.8-1-3zm-5.1 7.6c-2.5 0-4.6-2.1-4.6-4.6 0-.3.1-1 .8-2.3.5-.9 1.1-1.9 2-3.1.7-.9 1.3-1.7 1.8-2.3.7.8 1.3 1.6 1.8 2.3.8 1.1 1.5 2.2 2 3.1.7 1.3.8 2 .8 2.3 0 2.5-2.1 4.6-4.6 4.6z"}));const{useHasDimensionsPanel:Fs,useHasTypographyPanel:Vs,useHasColorPanel:zs,useGlobalSetting:Os,useSettingsForBlockElement:Hs}=X(I.privateApis);function Gs(){var[e]=Os(""),e=Hs(e),t=Vs(e),n=zs(e),e=Fs(e);return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.__experimentalItemGroup,null,t&&(0,H.createElement)(Ls,{icon:Ds,path:"/typography","aria-label":(0,$.__)("\u6392\u7248\u6837\u5f0f")},(0,$.__)("\u6392\u7248")),n&&(0,H.createElement)(Ls,{icon:As,path:"/colors","aria-label":(0,$.__)("\u8272\u5f69\u6837\u5f0f")},(0,$.__)("\u989c\u8272")),e&&(0,H.createElement)(Ls,{icon:Zn,path:"/layout","aria-label":(0,$.__)("\u5e03\u5c40\u6837\u5f0f")},(0,$.__)("\u5e03\u5c40"))))}function Us(){var[e]=(e=X(I.privateApis)["useGlobalStyle"])("css"),{hasVariations:t,canEditCSS:n}=(0,G.useSelect)(e=>{var{getEntityRecord:e,__experimentalGetCurrentGlobalStylesId:t,__experimentalGetCurrentThemeGlobalStylesVariations:n}=e(U.store),t=t(),e=t?e("root","globalStyles",t):void 0;return{hasVariations:!!n()?.length,canEditCSS:null!==(t=!!e?._links?.["gc:action-edit-css"])&&t}},[]);return(0,H.createElement)(W.Card,{size:"small",className:"edit-site-global-styles-screen-root"},(0,H.createElement)(W.CardBody,null,(0,H.createElement)(W.__experimentalVStack,{spacing:4},(0,H.createElement)(W.Card,null,(0,H.createElement)(W.CardMedia,null,(0,H.createElement)(va,null))),t&&(0,H.createElement)(W.__experimentalItemGroup,null,(0,H.createElement)(Ls,{path:"/variations","aria-label":(0,$.__)("\u6d4f\u89c8\u6837\u5f0f")},(0,H.createElement)(W.__experimentalHStack,{justify:"space-between"},(0,H.createElement)(W.FlexItem,null,(0,$.__)("\u6d4f\u89c8\u6837\u5f0f")),(0,H.createElement)(Bs,{icon:(0,$.isRTL)()?Te:Ne})))),(0,H.createElement)(Gs,null))),(0,H.createElement)(W.CardDivider,null),(0,H.createElement)(W.CardBody,null,(0,H.createElement)(W.__experimentalSpacer,{as:"p",paddingTop:2,paddingX:"13px",marginBottom:4},(0,$.__)("\u4e3a\u5168\u7ad9\u5b9a\u5236\u7279\u5b9a\u533a\u5757\u7684\u5916\u89c2\u3002")),(0,H.createElement)(W.__experimentalItemGroup,null,(0,H.createElement)(Ls,{path:"/blocks","aria-label":(0,$.__)("\u533a\u5757\u6837\u5f0f")},(0,H.createElement)(W.__experimentalHStack,{justify:"space-between"},(0,H.createElement)(W.FlexItem,null,(0,$.__)("\u533a\u5757")),(0,H.createElement)(Bs,{icon:(0,$.isRTL)()?Te:Ne}))))),n&&!!e&&(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.CardDivider,null),(0,H.createElement)(W.CardBody,null,(0,H.createElement)(W.__experimentalSpacer,{as:"p",paddingTop:2,paddingX:"13px",marginBottom:4},(0,$.__)("\u5728\u6b64\u6dfb\u52a0\u60a8\u81ea\u5df1\u7684 CSS \u4ee5\u81ea\u5b9a\u4e49\u524d\u7aef\u5916\u89c2\u548c\u5e03\u5c40\u3002")),(0,H.createElement)(W.__experimentalItemGroup,null,(0,H.createElement)(Ls,{path:"/css","aria-label":(0,$.__)("\u989d\u5916CSS")},(0,H.createElement)(W.__experimentalHStack,{justify:"space-between"},(0,H.createElement)(W.FlexItem,null,(0,$.__)("\u989d\u5916CSS")),(0,H.createElement)(Bs,{icon:(0,$.isRTL)()?Te:Ne})))))))}function js(t){var e=(0,G.useSelect)(e=>{e=e(b.store).getBlockStyles;return e(t)},[t])?.filter(e=>"block"===e.source);return e}function Ws({name:n}){var e=js(n);return(0,H.createElement)(W.__experimentalItemGroup,{isBordered:!0,isSeparated:!0},e.map((e,t)=>e?.isDefault?null:(0,H.createElement)(Ls,{key:t,path:"/blocks/"+encodeURIComponent(n)+"/variations/"+encodeURIComponent(e.name),"aria-label":e.label},e.label)))}function $s({title:e,description:t}){return(0,H.createElement)(W.__experimentalVStack,{spacing:0},(0,H.createElement)(W.__experimentalView,null,(0,H.createElement)(W.__experimentalSpacer,{marginBottom:0,paddingX:4,paddingY:3},(0,H.createElement)(W.__experimentalHStack,{spacing:2},(0,H.createElement)(W.__experimentalNavigatorToParentButton,{style:{minWidth:24,padding:0},icon:(0,$.isRTL)()?Ne:Te,isSmall:!0,"aria-label":(0,$.__)("\u5bfc\u822a\u81f3\u4e0a\u4e00\u89c6\u56fe")}),(0,H.createElement)(W.__experimentalSpacer,null,(0,H.createElement)(W.__experimentalHeading,{className:"edit-site-global-styles-header",level:2,size:13},e))))),t&&(0,H.createElement)("p",{className:"edit-site-global-styles-header__description"},t))}const{useHasDimensionsPanel:Zs,useHasTypographyPanel:qs,useHasBorderPanel:Ys,useGlobalSetting:Xs,useSettingsForBlockElement:Ks,useHasColorPanel:Qs}=X(I.privateApis);function Js(e){var[t]=Xs("",e),t=Ks(t,e),n=qs(t),a=Qs(t),r=Ys(t),t=Zs(t),r=r||t,t=!!js(e)?.length;return n||a||r||t}function eo({block:e}){var t;return Js(e.name)?(t=(0,$.sprintf)((0,$.__)("%s \u533a\u5757\u6837\u5f0f"),e.title),(0,H.createElement)(Ls,{path:"/blocks/"+encodeURIComponent(e.name),"aria-label":t},(0,H.createElement)(W.__experimentalHStack,{justify:"flex-start"},(0,H.createElement)(I.BlockIcon,{icon:e.icon}),(0,H.createElement)(W.FlexItem,null,e.title)))):null}function to(){const e=function(){var{core:e,noncore:t}=(0,G.useSelect)(e=>e(b.store).getBlockTypes(),[]).reduce((e,t)=>{var{core:n,noncore:a}=e;return(t.name.startsWith("core/")?n:a).push(t),e},{core:[],noncore:[]});return[...e,...t]}(),[n,t]=(0,H.useState)(""),a=(0,q.useDebounce)(Mt.speak,500),r=(0,G.useSelect)(e=>e(b.store).isMatchingSearchTerm,[]);var i=(0,H.useMemo)(()=>n?e.filter(e=>r(e,n)):e,[n,e,r]);const s=(0,H.useRef)();return(0,H.useEffect)(()=>{var e,t;n&&(e=s.current.childElementCount,t=(0,$.sprintf)((0,$._n)("\u627e\u5230%d\u4e2a\u7ed3\u679c\u3002","%d results found.",e),e),a(t,e))},[n,a]),(0,H.createElement)(H.Fragment,null,(0,H.createElement)($s,{title:(0,$.__)("\u533a\u5757"),description:(0,$.__)("\u81ea\u5b9a\u4e49\u7279\u5b9a\u533a\u5757\u548c\u5168\u7ad9\u7684\u5916\u89c2\u3002")}),(0,H.createElement)(W.SearchControl,{__nextHasNoMarginBottom:!0,className:"edit-site-block-types-search",onChange:t,value:n,label:(0,$.__)("\u641c\u7d22\u533a\u5757"),placeholder:(0,$.__)("\u641c\u7d22")}),(0,H.createElement)("div",{ref:s,className:"edit-site-block-types-item-list"},i.map(e=>(0,H.createElement)(eo,{block:e,key:"menu-itemblock-"+e.name}))))}var no=({name:e,variation:t=""})=>{var n=(0,b.getBlockType)(e)?.example,a={...n,attributes:{...n?.attributes,className:"is-style-"+t}},e=n&&(0,b.getBlockFromExample)(e,t?a:n),t=n?.viewportWidth||null,a="150px";return n?(0,H.createElement)(W.__experimentalSpacer,{marginX:4,marginBottom:4},(0,H.createElement)("div",{className:"edit-site-global-styles__block-preview-panel",style:{maxHeight:a,boxSizing:"initial"}},(0,H.createElement)(I.BlockPreview,{blocks:e,viewportWidth:t,minHeight:a,additionalStyles:[{css:`
								body{
									min-height:150px;
									display:flex;align-items:center;justify-content:center;
								}
							`}]}))):null};var ao=function({children:e,level:t}){return(0,H.createElement)(W.__experimentalHeading,{className:"edit-site-global-styles-subtitle",level:null!=t?t:2},e)};function ro(e){var t;return e&&(t=e.color||e.width,!e.style&&t?{...e,style:"solid"}:!e.style||t?e:void 0)}const{useHasDimensionsPanel:io,useHasTypographyPanel:so,useHasBorderPanel:oo,useGlobalSetting:lo,useSettingsForBlockElement:co,useHasColorPanel:uo,useHasEffectsPanel:mo,useHasFiltersPanel:po,useGlobalStyle:_o,BorderPanel:go,ColorPanel:ho,TypographyPanel:vo,DimensionsPanel:Eo,EffectsPanel:yo,FiltersPanel:fo,AdvancedPanel:bo}=X(I.privateApis);var wo=function({name:e,variation:t}){let n=[];var a=(n=t?["variations",t].concat(n):n).join(".");const[r]=_o(a,e,"user",{shouldDecodeEncode:!1}),[i,s]=_o(a,e,"all",{shouldDecodeEncode:!1}),[o,l]=lo("",e),c=co(o,e);var a=(0,b.getBlockType)(e),u=js(e),m=so(c),d=uo(c),p=oo(c),_=io(c),g=mo(c),h=po(c),v=!!u?.length&&!t,E=(0,G.useSelect)(e=>{var{getEntityRecord:e,__experimentalGetCurrentGlobalStylesId:t}=e(U.store),t=t();return{canEditCSS:null!==(e=!!(t?e("root","globalStyles",t):void 0)?._links?.["gc:action-edit-css"])&&e}},[])["canEditCSS"],u=t?u.find(e=>e.name===t):null,y=(0,H.useMemo)(()=>({...i,layout:c.layout}),[i,c.layout]),f=(0,H.useMemo)(()=>({...r,layout:c.layout}),[r,c.layout]);return(0,H.createElement)(H.Fragment,null,(0,H.createElement)($s,{title:t?u.label:a.title}),(0,H.createElement)(no,{name:e,variation:t}),v&&(0,H.createElement)("div",{className:"edit-site-global-styles-screen-variations"},(0,H.createElement)(W.__experimentalVStack,{spacing:3},(0,H.createElement)(ao,null,(0,$.__)("\u6837\u5f0f\u53d8\u4f53")),(0,H.createElement)(Ws,{name:e}))),d&&(0,H.createElement)(ho,{inheritedValue:i,value:r,onChange:s,settings:c}),m&&(0,H.createElement)(vo,{inheritedValue:i,value:r,onChange:s,settings:c}),_&&(0,H.createElement)(Eo,{inheritedValue:y,value:f,onChange:e=>{var t={...e};delete t.layout,s(t),e.layout!==c.layout&&l({...o,layout:e.layout})},settings:c,includeLayoutControls:!0}),p&&(0,H.createElement)(go,{inheritedValue:i,value:r,onChange:e=>{if(e?.border){const{radius:n,...a}=e.border;var t=(t=a)&&((0,W.__experimentalHasSplitBorders)(t)?{top:ro(t.top),right:ro(t.right),bottom:ro(t.bottom),left:ro(t.left)}:ro(t)),t=(0,W.__experimentalHasSplitBorders)(t)?{color:null,style:null,width:null,...t}:{top:t,right:t,bottom:t,left:t};s({...e,border:{...t,radius:n}})}else s(e)},settings:c}),g&&(0,H.createElement)(yo,{inheritedValue:y,value:f,onChange:s,settings:c,includeLayoutControls:!0}),h&&(0,H.createElement)(fo,{inheritedValue:y,value:f,onChange:s,settings:{...c,color:{...c.color,customDuotone:!1}},includeLayoutControls:!0}),E&&(0,H.createElement)(W.PanelBody,{title:(0,$.__)("\u9ad8\u7ea7"),initialOpen:!1},(0,H.createElement)("p",null,(0,$.sprintf)((0,$.__)("\u6dfb\u52a0\u60a8\u81ea\u5df1\u7684 CSS \u4ee5\u81ea\u5b9a\u4e49 %s \u533a\u5757\u7684\u5916\u89c2\u3002"),a?.title)),(0,H.createElement)(bo,{value:r,onChange:s,inheritedValue:i})))};const So=X(I.privateApis)["useGlobalStyle"];function xo({parentMenu:e,element:t,label:n}){var a="text"!==t&&t?`elements.${t}.`:"",r="link"===t?{textDecoration:"underline"}:{},[i]=So(a+"typography.fontFamily"),[s]=So(a+"typography.fontStyle"),[o]=So(a+"typography.fontWeight"),[l]=So(a+"typography.letterSpacing"),[c]=So(a+"color.background"),[u]=So(a+"color.gradient"),[a]=So(a+"color.text"),m=(0,$.sprintf)((0,$.__)("\u6392\u7248 %s \u7684\u6837\u5f0f"),n);return(0,H.createElement)(Ls,{path:e+"/typography/"+t,"aria-label":m},(0,H.createElement)(W.__experimentalHStack,{justify:"flex-start"},(0,H.createElement)(W.FlexItem,{className:"edit-site-global-styles-screen-typography__indicator",style:{fontFamily:null!=i?i:"serif",background:null!=u?u:c,color:a,fontStyle:s,fontWeight:o,letterSpacing:l,...r}},(0,$.__)("Aa")),(0,H.createElement)(W.FlexItem,null,n)))}function ko(){return(0,H.createElement)(H.Fragment,null,(0,H.createElement)($s,{title:(0,$.__)("\u6392\u7248"),description:(0,$.__)("\u7ba1\u7406\u4e0d\u540c\u5143\u7d20\u7684\u6392\u7248\u8bbe\u7f6e\u3002")}),(0,H.createElement)(no,null),(0,H.createElement)("div",{className:"edit-site-global-styles-screen-typography"},(0,H.createElement)(W.__experimentalVStack,{spacing:3},(0,H.createElement)(ao,{level:3},(0,$.__)("\u5143\u7d20")),(0,H.createElement)(W.__experimentalItemGroup,{isBordered:!0,isSeparated:!0},(0,H.createElement)(xo,{parentMenu:"",element:"text",label:(0,$.__)("\u6587\u5b57")}),(0,H.createElement)(xo,{parentMenu:"",element:"link",label:(0,$.__)("\u94fe\u63a5")}),(0,H.createElement)(xo,{parentMenu:"",element:"heading",label:(0,$.__)("\u6807\u9898")}),(0,H.createElement)(xo,{parentMenu:"",element:"caption",label:(0,$.__)("\u8bf4\u660e\u6587\u5b57")}),(0,H.createElement)(xo,{parentMenu:"",element:"button",label:(0,$.__)("\u591a\u4e2a\u6309\u94ae")})))))}const{useGlobalStyle:Co,useGlobalSetting:To,useSettingsForBlockElement:No,TypographyPanel:Io}=X(I.privateApis);function Mo({element:e,headingLevel:t}){let n=[];"heading"===e?n=n.concat(["elements",t]):e&&"text"!==e&&(n=n.concat(["elements",e]));var a=n.join("."),[r]=Co(a,void 0,"user",{shouldDecodeEncode:!1}),[a,i]=Co(a,void 0,"all",{shouldDecodeEncode:!1}),[s]=To(""),t="heading"===e?t:e,e=No(s,void 0,t);return(0,H.createElement)(Io,{inheritedValue:a,value:r,onChange:i,settings:e})}const Po=X(I.privateApis)["useGlobalStyle"];function Bo({name:e,element:t,headingLevel:n}){let a="";"heading"===t?a=`elements.${n}.`:t&&"text"!==t&&(a=`elements.${t}.`);var[n]=Po(a+"typography.fontFamily",e),[r]=Po(a+"color.gradient",e),[i]=Po(a+"color.background",e),[s]=Po(a+"color.text",e),[o]=Po(a+"typography.fontSize",e),[l]=Po(a+"typography.fontStyle",e),[c]=Po(a+"typography.fontWeight",e),[e]=Po(a+"typography.letterSpacing",e);return(0,H.createElement)("div",{className:"edit-site-typography-preview",style:{fontFamily:null!=n?n:"serif",background:null!=r?r:i,color:s,fontSize:o,fontStyle:l,fontWeight:c,letterSpacing:e,..."link"===t?{textDecoration:"underline"}:{}}},"Aa")}const Ro={text:{description:(0,$.__)("\u7ba1\u7406\u524d\u7aef\u4e0a\u4f7f\u7528\u7684\u5b57\u4f53\u3002"),title:(0,$.__)("\u6587\u5b57")},link:{description:(0,$.__)("\u7ba1\u7406\u94fe\u63a5\u4e0a\u4f7f\u7528\u7684\u5b57\u4f53\u548c\u6392\u7248\u3002"),title:(0,$.__)("\u94fe\u63a5")},heading:{description:(0,$.__)("\u7ba1\u7406\u6807\u9898\u4e0a\u4f7f\u7528\u7684\u5b57\u4f53\u548c\u6392\u7248\u3002"),title:(0,$.__)("\u6807\u9898")},caption:{description:(0,$.__)("\u7ba1\u7406\u5b57\u5e55\u4e2d\u4f7f\u7528\u7684\u5b57\u4f53\u548c\u6392\u7248\u3002"),title:(0,$.__)("\u8bf4\u660e\u6587\u5b57")},button:{description:(0,$.__)("\u7ba1\u7406\u6309\u94ae\u4e0a\u4f7f\u7528\u7684\u5b57\u4f53\u548c\u6392\u7248\u3002"),title:(0,$.__)("\u591a\u4e2a\u6309\u94ae")}};function Lo({element:e}){var[t,n]=(0,H.useState)("heading");return(0,H.createElement)(H.Fragment,null,(0,H.createElement)($s,{title:Ro[e].title,description:Ro[e].description}),(0,H.createElement)(W.__experimentalSpacer,{marginX:4},(0,H.createElement)(Bo,{element:e,headingLevel:t})),"heading"===e&&(0,H.createElement)(W.__experimentalSpacer,{marginX:4,marginBottom:"1em"},(0,H.createElement)(W.__experimentalToggleGroupControl,{label:(0,$.__)("\u9009\u62e9\u6807\u9898\u7ea7\u522b"),hideLabelFromVision:!0,value:t,onChange:n,isBlock:!0,size:"__unstable-large",__nextHasNoMarginBottom:!0},(0,H.createElement)(W.__experimentalToggleGroupControlOption,{value:"heading",label:(0,$.__)("\u5168\u90e8")}),(0,H.createElement)(W.__experimentalToggleGroupControlOption,{value:"h1",label:(0,$.__)("H1")}),(0,H.createElement)(W.__experimentalToggleGroupControlOption,{value:"h2",label:(0,$.__)("H2")}),(0,H.createElement)(W.__experimentalToggleGroupControlOption,{value:"h3",label:(0,$.__)("H3")}),(0,H.createElement)(W.__experimentalToggleGroupControlOption,{value:"h4",label:(0,$.__)("H4")}),(0,H.createElement)(W.__experimentalToggleGroupControlOption,{value:"h5",label:(0,$.__)("H5")}),(0,H.createElement)(W.__experimentalToggleGroupControlOption,{value:"h6",label:(0,$.__)("H6")}))),(0,H.createElement)(Mo,{element:e,headingLevel:t}))}var Do=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/SVG"},(0,H.createElement)(t.Path,{d:"M17.192 6.75L15.47 5.03l1.06-1.06 3.537 3.53-3.537 3.53-1.06-1.06 1.723-1.72h-3.19c-.602 0-.993.202-1.28.498-.309.319-.538.792-.695 1.383-.13.488-.222 1.023-.296 1.508-.034.664-.116 1.413-.303 2.117-.193.721-.513 1.467-1.068 2.04-.575.594-1.359.954-2.357.954H4v-1.5h4.003c.601 0 .993-.202 1.28-.498.308-.319.538-.792.695-1.383.149-.557.216-1.093.288-1.662l.039-.31a9.653 9.653 0 0 1 .272-1.653c.193-.722.513-1.467 1.067-2.04.576-.594 1.36-.954 2.358-.954h3.19zM8.004 6.75c.8 0 1.46.23 1.988.628a6.24 6.24 0 0 0-.684 1.396 1.725 1.725 0 0 0-.024-.026c-.287-.296-.679-.498-1.28-.498H4v-1.5h4.003zM12.699 14.726c-.161.459-.38.94-.684 1.396.527.397 1.188.628 1.988.628h3.19l-1.722 1.72 1.06 1.06L20.067 16l-3.537-3.53-1.06 1.06 1.723 1.72h-3.19c-.602 0-.993-.202-1.28-.498a1.96 1.96 0 0 1-.024-.026z"}));function Ao({className:e,...t}){return(0,H.createElement)(W.Flex,{className:j()("edit-site-global-styles__color-indicator-wrapper",e),...t})}const Fo=X(I.privateApis)["useGlobalSetting"],Vo=[];function zo({name:e}){const[t]=Fo("color.palette.custom"),[n]=Fo("color.palette.theme"),[a]=Fo("color.palette.default"),[r]=Fo("color.defaultPalette",e);var[i]=dt(),s=(0,H.useMemo)(()=>[...t||Vo,...n||Vo,...a&&r?a:Vo],[t,n,a,r]),e=e?"/blocks/"+encodeURIComponent(e)+"/colors/palette":"/colors/palette",o=0<s.length?(0,$.sprintf)((0,$._n)("%d\u79cd\u989c\u8272","%d colors",s.length),s.length):(0,$.__)("\u6dfb\u52a0\u81ea\u5b9a\u4e49\u989c\u8272");return(0,H.createElement)(W.__experimentalVStack,{spacing:3},(0,H.createElement)(ao,{level:3},(0,$.__)("\u8c03\u8272\u76d8")),(0,H.createElement)(W.__experimentalItemGroup,{isBordered:!0,isSeparated:!0},(0,H.createElement)(Ls,{path:e,"aria-label":(0,$.__)("\u8c03\u8272\u76d8")},(0,H.createElement)(W.__experimentalHStack,{direction:0===s.length?"row-reverse":"row"},(0,H.createElement)(W.__experimentalZStack,{isLayered:!1,offset:-8},s.slice(0,5).map(({color:e},t)=>(0,H.createElement)(Ao,{key:e+"-"+t},(0,H.createElement)(W.ColorIndicator,{colorValue:e})))),(0,H.createElement)(W.FlexItem,null,o)))),window.__experimentalEnableColorRandomizer&&0<n?.length&&(0,H.createElement)(W.Button,{variant:"secondary",icon:Do,onClick:i},(0,$.__)("\u968f\u673a\u989c\u8272")))}const{useGlobalStyle:Oo,useGlobalSetting:Ho,useSettingsForBlockElement:Go,ColorPanel:Uo}=X(I.privateApis);function jo(){var[e]=Oo("",void 0,"user",{shouldDecodeEncode:!1}),[t,n]=Oo("",void 0,"all",{shouldDecodeEncode:!1}),[a]=Ho(""),a=Go(a);return(0,H.createElement)(H.Fragment,null,(0,H.createElement)($s,{title:(0,$.__)("\u989c\u8272"),description:(0,$.__)("\u7ba1\u7406\u524d\u7aef\u4e0a\u4e0d\u540c\u5168\u5c40\u5143\u7d20\u7684\u8c03\u8272\u76d8\u548c\u9ed8\u8ba4\u989c\u8272\u3002")}),(0,H.createElement)(no,null),(0,H.createElement)("div",{className:"edit-site-global-styles-screen-colors"},(0,H.createElement)(W.__experimentalVStack,{spacing:10},(0,H.createElement)(zo,null),(0,H.createElement)(Uo,{inheritedValue:t,value:e,onChange:n,settings:a}))))}const Wo=X(I.privateApis)["useGlobalSetting"],$o={placement:"bottom-start",offset:8};function Zo({name:e}){var[t,n]=Wo("color.palette.theme",e),[a]=Wo("color.palette.theme",e,"base"),[r,i]=Wo("color.palette.default",e),[s]=Wo("color.palette.default",e,"base"),[o,l]=Wo("color.palette.custom",e),[e]=Wo("color.defaultPalette",e),c=(0,q.useViewportMatch)("small","<")?$o:void 0;return(0,H.createElement)(W.__experimentalVStack,{className:"edit-site-global-styles-color-palette-panel",spacing:10},!!t&&!!t.length&&(0,H.createElement)(W.__experimentalPaletteEdit,{canReset:t!==a,canOnlyChangeValues:!0,colors:t,onChange:n,paletteLabel:(0,$.__)("\u4e3b\u9898"),paletteLabelHeadingLevel:3,popoverProps:c}),!!r&&!!r.length&&!!e&&(0,H.createElement)(W.__experimentalPaletteEdit,{canReset:r!==s,canOnlyChangeValues:!0,colors:r,onChange:i,paletteLabel:(0,$.__)("\u9ed8\u8ba4"),paletteLabelHeadingLevel:3,popoverProps:c}),(0,H.createElement)(W.__experimentalPaletteEdit,{colors:o,onChange:l,paletteLabel:(0,$.__)("\u81ea\u5b9a\u4e49"),paletteLabelHeadingLevel:3,emptyMessage:(0,$.__)("\u81ea\u5b9a\u4e49\u989c\u8272\u4e3a\u7a7a\uff01\u8bf7\u6dfb\u52a0\u4e00\u4e9b\u989c\u8272\u6765\u521b\u5efa\u60a8\u81ea\u5df1\u7684\u8c03\u8272\u76d8\u3002"),slugPrefix:"custom-",popoverProps:c}))}const qo=X(I.privateApis)["useGlobalSetting"],Yo={placement:"bottom-start",offset:8},Xo=()=>{};function Ko({name:e}){var[t,n]=qo("color.gradients.theme",e),[a]=qo("color.gradients.theme",e,"base"),[r,i]=qo("color.gradients.default",e),[s]=qo("color.gradients.default",e,"base"),[o,l]=qo("color.gradients.custom",e),[e]=qo("color.defaultGradients",e),[c]=qo("color.duotone.custom")||[],[u]=qo("color.duotone.default")||[],[m]=qo("color.duotone.theme")||[],[d]=qo("color.defaultDuotone"),c=[...c||[],...m||[],...u&&d?u:[]],m=(0,q.useViewportMatch)("small","<")?Yo:void 0;return(0,H.createElement)(W.__experimentalVStack,{className:"edit-site-global-styles-gradient-palette-panel",spacing:10},!!t&&!!t.length&&(0,H.createElement)(W.__experimentalPaletteEdit,{canReset:t!==a,canOnlyChangeValues:!0,gradients:t,onChange:n,paletteLabel:(0,$.__)("\u4e3b\u9898"),paletteLabelHeadingLevel:3,popoverProps:m}),!!r&&!!r.length&&!!e&&(0,H.createElement)(W.__experimentalPaletteEdit,{canReset:r!==s,canOnlyChangeValues:!0,gradients:r,onChange:i,paletteLabel:(0,$.__)("\u9ed8\u8ba4"),paletteLabelLevel:3,popoverProps:m}),(0,H.createElement)(W.__experimentalPaletteEdit,{gradients:o,onChange:l,paletteLabel:(0,$.__)("\u81ea\u5b9a\u4e49"),paletteLabelLevel:3,emptyMessage:(0,$.__)("\u81ea\u5b9a\u4e49\u68af\u5ea6\u4e3a\u7a7a\uff01\u8bf7\u6dfb\u52a0\u4e00\u4e9b\u68af\u5ea6\u6765\u521b\u5efa\u60a8\u81ea\u5df1\u7684\u8c03\u8272\u76d8\u3002"),slugPrefix:"custom-",popoverProps:m}),!!c.length&&(0,H.createElement)("div",null,(0,H.createElement)(ao,{level:3},(0,$.__)("\u53cc\u8272")),(0,H.createElement)(W.__experimentalSpacer,{margin:3}),(0,H.createElement)(W.DuotonePicker,{duotonePalette:c,disableCustomDuotone:!0,disableCustomColors:!0,clearable:!1,onChange:Xo})))}var Qo=function({name:t}){return(0,H.createElement)(H.Fragment,null,(0,H.createElement)($s,{title:(0,$.__)("\u8c03\u8272\u76d8"),description:(0,$.__)("\u8c03\u8272\u76d8\u7528\u4e8e\u7ed9\u533a\u5757\u548c\u5404\u79cd\u8bbe\u8ba1\u5de5\u5177\u63d0\u4f9b\u9ed8\u8ba4\u989c\u8272\u9009\u9879\u3002\u60a8\u53ef\u4ee5\u5728\u6b64\u5904\u7f16\u8f91\u5e26\u6807\u7b7e\u7684\u989c\u8272\u3002")}),(0,H.createElement)(W.TabPanel,{tabs:[{name:"solid",title:"\u7eaf\u8272",value:"solid"},{name:"gradient",title:"\u68af\u5ea6",value:"gradient"}]},e=>(0,H.createElement)(H.Fragment,null,"solid"===e.value&&(0,H.createElement)(Zo,{name:t}),"gradient"===e.value&&(0,H.createElement)(Ko,{name:t}))))};const{useGlobalStyle:Jo,useGlobalSetting:el,useSettingsForBlockElement:tl,DimensionsPanel:nl}=X(I.privateApis),al={contentSize:!0,wideSize:!0,padding:!0,margin:!0,blockGap:!0,minHeight:!0,childLayout:!1};function rl(){const[e]=Jo("",void 0,"user",{shouldDecodeEncode:!1}),[t,n]=Jo("",void 0,"all",{shouldDecodeEncode:!1}),[a,r]=el(""),i=tl(a);var s=(0,H.useMemo)(()=>({...t,layout:i.layout}),[t,i.layout]),o=(0,H.useMemo)(()=>({...e,layout:i.layout}),[e,i.layout]);return(0,H.createElement)(nl,{inheritedValue:s,value:o,onChange:e=>{var t={...e};delete t.layout,n(t),e.layout!==i.layout&&((t={...a,layout:e.layout}).layout?.definitions&&delete t.layout.definitions,r(t))},settings:i,includeLayoutControls:!0,defaultControls:al})}const{useHasDimensionsPanel:il,useGlobalSetting:sl,useSettingsForBlockElement:ol}=X(I.privateApis);function ll(){var[e]=sl(""),e=ol(e),e=il(e);return(0,H.createElement)(H.Fragment,null,(0,H.createElement)($s,{title:(0,$.__)("\u5e03\u5c40")}),(0,H.createElement)(no,null),e&&(0,H.createElement)(rl,null))}function cl(){const e=(0,G.useSelect)(e=>({mode:e(I.store).__unstableGetEditorMode()}),[])["mode"],t=(0,H.useRef)(null),n=((0,H.useEffect)(()=>{"zoom-out"!==e&&(t.current=!1)},[e]),(0,H.useEffect)(()=>{if("zoom-out"!==e)return n("zoom-out"),t.current=!0,()=>{t.current&&n(e)}},[]),(0,G.useDispatch)(I.store))["__unstableSetEditorMode"];return(0,H.createElement)(H.Fragment,null,(0,H.createElement)($s,{back:"/",title:(0,$.__)("\u6d4f\u89c8\u6837\u5f0f"),description:(0,$.__)("\u9009\u62e9\u4e00\u79cd\u53d8\u5316\uff0c\u4ee5\u6539\u53d8\u524d\u7aef\u5916\u89c2\u3002")}),(0,H.createElement)(W.Card,{size:"small",isBorderless:!0,className:"edit-site-global-styles-screen-style-variations"},(0,H.createElement)(W.CardBody,null,(0,H.createElement)(ba,null))))}const{useGlobalStyle:ul,AdvancedPanel:ml}=X(I.privateApis);function dl(){var e=(0,$.__)("\u5728\u6b64\u6dfb\u52a0\u60a8\u81ea\u5df1\u7684 CSS \u4ee5\u81ea\u5b9a\u4e49\u524d\u7aef\u5916\u89c2\u548c\u5e03\u5c40\u3002"),[t]=ul("",void 0,"user",{shouldDecodeEncode:!1}),[n,a]=ul("",void 0,"all",{shouldDecodeEncode:!1});return(0,H.createElement)(H.Fragment,null,(0,H.createElement)($s,{title:(0,$.__)("CSS"),description:(0,H.createElement)(H.Fragment,null,e,(0,H.createElement)(W.ExternalLink,{href:"https://www.gechiui.com/support/css/",className:"edit-site-global-styles-screen-css-help-link"},(0,$.__)("\u4e86\u89e3\u5173\u4e8eCSS\u7684\u66f4\u591a\u5185\u5bb9")))}),(0,H.createElement)("div",{className:"edit-site-global-styles-screen-css"},(0,H.createElement)(ml,{value:t,onChange:a,inheritedValue:n})))}const{ExperimentalBlockEditorProvider:pl,useGlobalStylesOutputWithConfig:_l}=X(I.privateApis);function gl(e){return!e||0===Object.keys(e).length}function hl({onClose:e,userConfig:t,blocks:n}){const a=(0,G.useSelect)(e=>({baseConfig:e(U.store).__experimentalGetCurrentThemeBaseGlobalStyles()}),[])["baseConfig"];var r=(0,H.useMemo)(()=>gl(t)||gl(a)?{}:la(a,t),[a,t]),i=(0,H.useMemo)(()=>Array.isArray(n)?n:[n],[n]);const s=(0,G.useSelect)(e=>e(I.store).getSettings(),[]);var o=(0,H.useMemo)(()=>({...s,__unstableIsPreviewMode:!0}),[s]),[r]=_l(r),r=gl(r)||gl(t)?o.styles:r;return(0,H.createElement)(Pa,{title:(0,$.__)("\u4fee\u8ba2\u7248\u672c"),onClose:e,closeButtonLabel:(0,$.__)("\u5173\u95ed\u4fee\u8ba2"),enableResizing:!0},(0,H.createElement)(I.__unstableIframe,{className:"edit-site-revisions__iframe",name:"revisions",tabIndex:0},(0,H.createElement)(I.__unstableEditorStyles,{styles:r}),(0,H.createElement)("style",null,".is-root-container { display: flow-root; } body { position: relative; padding: 32px; }"),(0,H.createElement)(W.Disabled,{className:"edit-site-revisions__example-preview__content"},(0,H.createElement)(pl,{value:i,settings:o},(0,H.createElement)(I.BlockList,{renderAppender:!1})))))}v=X(W.privateApis).createPrivateSlotFill;const{Slot:vl,Fill:El}=v("SidebarFixedBottom");function yl({children:e}){return(0,H.createElement)(El,null,(0,H.createElement)("div",{className:"edit-site-sidebar-fixed-bottom-slot"},e))}function fl({userRevisions:e,selectedRevisionId:c,onChange:u}){return(0,H.createElement)("ol",{className:"edit-site-global-styles-screen-revisions__revisions-list","aria-label":(0,$.__)("\u5168\u5c40\u6837\u5f0f\u4fee\u8ba2"),role:"group"},e.map((e,t)=>{var n,{id:a,author:r,modified:i}=e,s=r?.name||(0,$.__)("\u7528\u6237"),o=r?.avatar_urls?.[48],l="unsaved"===e?.id,t=c?c===e?.id:0===t;return(0,H.createElement)("li",{className:j()("edit-site-global-styles-screen-revisions__revision-item",{"is-selected":t}),key:a},(0,H.createElement)(W.Button,{className:"edit-site-global-styles-screen-revisions__revision-button",disabled:t,onClick:()=>{u(e)},label:(t=(a=e)?.author?.name||(0,$.__)("\u7528\u6237"),"unsaved"===a?.id?(0,$.sprintf)((0,$.__)("%s \u7684\u66f4\u6539\u5c1a\u672a\u4fdd\u5b58"),t):(n=(0,m.dateI18n)((0,m.getSettings)().formats.datetimeAbbreviated,(0,m.getDate)(a?.modified)),a?.isLatest?(0,$.sprintf)((0,$.__)("\u66f4\u6539\u7531 %1$s \u4e8e %2$s \u4fdd\u5b58\uff08\u5f53\u524d\uff09"),t,n):(0,$.sprintf)((0,$.__)("\u66f4\u6539\u7531 %1$s \u4e8e %2$s \u4fdd\u5b58"),t,n)))},(0,H.createElement)("span",{className:"edit-site-global-styles-screen-revisions__description"},(0,H.createElement)("time",{dateTime:i},(0,m.humanTimeDiff)(i)),(0,H.createElement)("span",{className:"edit-site-global-styles-screen-revisions__meta"},l?(0,$.sprintf)((0,$.__)("%s \u7684\u66f4\u6539\u5c1a\u672a\u4fdd\u5b58"),s):(0,$.sprintf)((0,$.__)("\u66f4\u6539\u5df2\u7ecf\u7531 %s \u4fdd\u5b58"),s),(0,H.createElement)("img",{alt:r?.name,src:o})))))}))}const{GlobalStylesContext:bl,areGlobalStyleConfigsEqual:wl}=X(I.privateApis);function Sl(){const e=(0,W.__experimentalUseNavigator)()["goBack"],{user:t,setUserConfig:n}=(0,H.useContext)(bl),{blocks:a,editorCanvasContainerView:r}=(0,G.useSelect)(e=>({editorCanvasContainerView:X(e(K)).getEditorCanvasContainerView(),blocks:e(I.store).getBlocks()}),[]),{revisions:i,isLoading:s,hasUnsavedChanges:o}=Ua(),[l,c]=(0,H.useState)(),[u,m]=(0,H.useState)(t),[d,p]=(0,H.useState)(!1),_=X((0,G.useDispatch)(K))["setEditorCanvasContainerView"],g=((0,H.useEffect)(()=>{"global-styles-revisions"!==r&&(e(),_(r))},[r]),()=>{e()}),h=e=>{n(()=>({styles:e?.styles,settings:e?.settings})),p(!1),g()};var v=!!u?.id&&!wl(u,t),E=!s&&i.length;return(0,H.createElement)(H.Fragment,null,(0,H.createElement)($s,{title:(0,$.__)("\u4fee\u8ba2\u7248\u672c"),description:(0,$.__)("\u4fdd\u5b58\u6837\u5f0f\u66f4\u6539\u65f6\uff0c\u4fee\u8ba2\u4f1a\u6dfb\u52a0\u5230\u65f6\u95f4\u8f74\u4e2d\u3002")}),s&&(0,H.createElement)(W.Spinner,{className:"edit-site-global-styles-screen-revisions__loading"}),E?(0,H.createElement)(H.Fragment,null,(0,H.createElement)(hl,{blocks:a,userConfig:u,onClose:g}),(0,H.createElement)("div",{className:"edit-site-global-styles-screen-revisions"},(0,H.createElement)(fl,{onChange:e=>{m({styles:e?.styles,settings:e?.settings,id:e?.id}),c(e?.id)},selectedRevisionId:l,userRevisions:i}),v&&(0,H.createElement)(yl,null,(0,H.createElement)(W.Button,{variant:"primary",className:"edit-site-global-styles-screen-revisions__button",disabled:!u?.id||"unsaved"===u?.id,onClick:()=>{o?p(!0):h(u)}},(0,$.__)("\u5e94\u7528")))),d&&(0,H.createElement)(W.__experimentalConfirmDialog,{title:(0,$.__)("\u52a0\u8f7d\u6b64\u4fee\u8ba2\u7248\u5c06\u653e\u5f03\u6240\u6709\u672a\u4fdd\u5b58\u7684\u66f4\u6539\u3002"),isOpen:d,confirmButtonText:(0,$.__)(" Discard unsaved changes"),onConfirm:()=>h(u),onCancel:()=>p(!1)},(0,H.createElement)(H.Fragment,null,(0,H.createElement)("h2",null,(0,$.__)("\u52a0\u8f7d\u6b64\u4fee\u8ba2\u7248\u5c06\u653e\u5f03\u6240\u6709\u672a\u4fdd\u5b58\u7684\u66f4\u6539\u3002")),(0,H.createElement)("p",null,(0,$.__)("\u662f\u5426\u8981\u66ff\u6362\u7f16\u8f91\u5668\u4e2d\u672a\u4fdd\u5b58\u7684\u66f4\u6539\uff1f"))))):(0,H.createElement)(W.__experimentalSpacer,{marginX:4,"data-testid":"global-styles-no-revisions"},(0,$.__)("\u672a\u627e\u5230\u7ed3\u679c\u3002")))}const{Slot:xl,Fill:kl}=(0,W.createSlotFill)("GlobalStylesMenu");function Cl(){var{}=(0,G.useDispatch)(Z.store);const e=(0,G.useSelect)(e=>{var{getEntityRecord:e,__experimentalGetCurrentGlobalStylesId:t}=e(U.store),t=t();return{canEditCSS:null!==(e=!!(t?e("root","globalStyles",t):void 0)?._links?.["gc:action-edit-css"])&&e}},[])["canEditCSS"],t=(0,W.__experimentalUseNavigator)()["goTo"],n=()=>t("/css");return(0,H.createElement)(kl,null,(0,H.createElement)(W.DropdownMenu,{icon:Se,label:(0,$.__)("\u66f4\u591a")},({})=>(0,H.createElement)(W.MenuGroup,null,e&&(0,H.createElement)(W.MenuItem,{onClick:n},(0,$.__)("\u989d\u5916CSS")))))}function Tl({className:e,children:t}){return(0,H.createElement)("span",{className:j()(e,"edit-site-global-styles-sidebar__revisions-count-badge")},t)}function Nl(){const e=(0,G.useDispatch)(K)["setIsListViewOpened"],t=(0,G.useSelect)(e=>{var{getEntityRecord:e,__experimentalGetCurrentGlobalStylesId:t}=e(U.store),t=t();return{revisionsCount:null!=(e=(t?e("root","globalStyles",t):void 0)?._links?.["version-history"]?.[0]?.count)?e:0}},[])["revisionsCount"];var n=X(I.privateApis)["useGlobalStylesReset"];const[a,r]=n(),i=(0,W.__experimentalUseNavigator)()["goTo"],s=X((0,G.useDispatch)(K))["setEditorCanvasContainerView"],o=()=>{e(!1),i("/revisions"),s("global-styles-revisions")},l=2<=t;return(0,H.createElement)(kl,null,a||l?(0,H.createElement)(W.DropdownMenu,{icon:Jn,label:(0,$.__)("\u4fee\u8ba2\u7248\u672c")},({onClose:e})=>(0,H.createElement)(W.MenuGroup,null,l&&(0,H.createElement)(W.MenuItem,{onClick:o,icon:(0,H.createElement)(Tl,null,t)},(0,$.__)("\u4fee\u8ba2\u5386\u53f2")),(0,H.createElement)(W.MenuItem,{onClick:()=>{r(),e()},disabled:!a},(0,$.__)("\u91cd\u7f6e\u4e3a\u9ed8\u8ba4")))):(0,H.createElement)(W.Button,{label:(0,$.__)("\u4fee\u8ba2\u7248\u672c"),icon:Jn,disabled:!0,__experimentalIsFocusable:!0}))}function l({className:e,...t}){return(0,H.createElement)(W.__experimentalNavigatorScreen,{className:["edit-site-global-styles-sidebar__navigator-screen",e].filter(Boolean).join(" "),...t})}function Il({parentMenu:n,blockStyles:e,blockName:a}){return e.map((e,t)=>(0,H.createElement)(l,{key:t,path:n+"/variations/"+e.name},(0,H.createElement)(wo,{name:a,variation:e.name})))}function Ml({name:t,parentMenu:e=""}){var n=(0,G.useSelect)(e=>{e=e(b.store).getBlockStyles;return e(t)},[t]);return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(l,{path:e+"/colors/palette"},(0,H.createElement)(Qo,{name:t})),!!n?.length&&(0,H.createElement)(Il,{parentMenu:e,blockStyles:n,blockName:t}))}function Pl(){const t=(0,W.__experimentalUseNavigator)(),n=t.location["path"];return(0,H.createElement)(za,{isSelected:e=>n==="/blocks/"+encodeURIComponent(e)||n.startsWith(`/blocks/${encodeURIComponent(e)}/`),onSelect:e=>{t.goTo("/blocks/"+encodeURIComponent(e))}})}function Bl(){const n=(0,W.__experimentalUseNavigator)(),{selectedBlockName:a,selectedBlockClientId:r}=(0,G.useSelect)(e=>{var{getSelectedBlockClientId:e,getBlockName:t}=e(I.store),e=e();return{selectedBlockName:t(e),selectedBlockClientId:e}},[]),i=Js(a);(0,H.useEffect)(()=>{var e,t;r&&i&&("/blocks"!==(e=n.location.path)&&!e.startsWith("/blocks/")||(t="/blocks/"+encodeURIComponent(a))===e||n.goTo(t,{skipFocus:!0}))},[r,a,i])}function Rl(){const{goTo:e,location:t}=(0,W.__experimentalUseNavigator)(),n=(0,G.useSelect)(e=>X(e(K)).getEditorCanvasContainerView(),[]);(0,H.useEffect)(()=>{"global-styles-revisions"===n?e("/revisions"):n&&"/revisions"===t?.path?e("/"):"global-styles-css"===n&&e("/css")},[n,e])}function Ll(){var e=(0,b.getBlockTypes)(),t=(0,G.useSelect)(e=>X(e(K)).getEditorCanvasContainerView(),[]);return(0,H.createElement)(W.__experimentalNavigatorProvider,{className:"edit-site-global-styles-sidebar__navigator-provider",initialPath:"/"},(0,H.createElement)(l,{path:"/"},(0,H.createElement)(Us,null)),(0,H.createElement)(l,{path:"/variations"},(0,H.createElement)(cl,null)),(0,H.createElement)(l,{path:"/blocks"},(0,H.createElement)(to,null)),(0,H.createElement)(l,{path:"/typography"},(0,H.createElement)(ko,null)),(0,H.createElement)(l,{path:"/typography/text"},(0,H.createElement)(Lo,{element:"text"})),(0,H.createElement)(l,{path:"/typography/link"},(0,H.createElement)(Lo,{element:"link"})),(0,H.createElement)(l,{path:"/typography/heading"},(0,H.createElement)(Lo,{element:"heading"})),(0,H.createElement)(l,{path:"/typography/caption"},(0,H.createElement)(Lo,{element:"caption"})),(0,H.createElement)(l,{path:"/typography/button"},(0,H.createElement)(Lo,{element:"button"})),(0,H.createElement)(l,{path:"/colors"},(0,H.createElement)(jo,null)),(0,H.createElement)(l,{path:"/layout"},(0,H.createElement)(ll,null)),(0,H.createElement)(l,{path:"/css"},(0,H.createElement)(dl,null)),(0,H.createElement)(l,{path:"/revisions"},(0,H.createElement)(Sl,null)),e.map(e=>(0,H.createElement)(l,{key:"menu-block-"+e.name,path:"/blocks/"+encodeURIComponent(e.name)},(0,H.createElement)(wo,{name:e.name}))),(0,H.createElement)(Ml,null),e.map(e=>(0,H.createElement)(Ml,{key:"screens-block-"+e.name,name:e.name,parentMenu:"/blocks/"+encodeURIComponent(e.name)})),"style-book"===t&&(0,H.createElement)(Pl,null),(0,H.createElement)(Nl,null),(0,H.createElement)(Cl,null),(0,H.createElement)(Bl,null),(0,H.createElement)(Rl,null))}function Dl(){const{shouldClearCanvasContainerView:e,isStyleBookOpened:t,showListViewByDefault:n}=(0,G.useSelect)(e=>{var t=e(D)["getActiveComplementaryArea"],{getEditorCanvasContainerView:n,getCanvasMode:a}=X(e(K)),r="visual"===e(K).getEditorMode(),a="edit"===a(),e=e(Z.store).get("core/edit-site","showListViewByDefault");return{isStyleBookOpened:"style-book"===n(),shouldClearCanvasContainerView:"edit-site/global-styles"!==t("core/edit-site")||!r||!a,showListViewByDefault:e}},[]),a=X((0,G.useDispatch)(K))["setEditorCanvasContainerView"],r=((0,H.useEffect)(()=>{e&&a(void 0)},[e]),(0,G.useDispatch)(K))["setIsListViewOpened"];return(0,H.createElement)(Ps,{className:"edit-site-global-styles-sidebar",identifier:"edit-site/global-styles",title:(0,$.__)("\u6837\u5f0f"),icon:Wn,closeLabel:(0,$.__)("\u5173\u95ed\u6837\u5f0f"),panelClassName:"edit-site-global-styles-sidebar__panel",header:(0,H.createElement)(W.Flex,{className:"edit-site-global-styles-sidebar__header",role:"menubar","aria-label":(0,$.__)("\u6837\u5f0f\u64cd\u4f5c")},(0,H.createElement)(W.FlexBlock,{style:{minWidth:"min-content"}},(0,H.createElement)("strong",null,(0,$.__)("\u6837\u5f0f"))),(0,H.createElement)(W.FlexItem,null,(0,H.createElement)(W.Button,{icon:ea,label:(0,$.__)("\u6837\u5f0f\u793a\u8303"),isPressed:t,disabled:e,onClick:()=>{r(t&&n),a(t?void 0:"style-book")}})),(0,H.createElement)(xl,null))},(0,H.createElement)(Ll,null))}const Al="edit-site/template",Fl="edit-site/block-inspector",Vl={gc_navigation:(0,$.__)("\u5bfc\u822a"),gc_block:(0,$.__)("\u533a\u5757\u6837\u677f"),gc_template:(0,$.__)("\u6a21\u677f")};var zl=({sidebarName:e})=>{var{hasPageContentFocus:t,entityType:n}=(0,G.useSelect)(e=>{var{getEditedPostType:e,hasPageContentFocus:t}=e(K);return{hasPageContentFocus:t(),entityType:e()}}),n=Vl[n]||Vl.gc_template;const a=(0,G.useDispatch)(D)["enableComplementaryArea"];let r;return r=t?e===Al?(0,$.__)("\u9875\u9762\uff08\u5df2\u9009\u62e9\uff09"):(0,$.__)("\u9875\u9762"):e===Al?(0,$.sprintf)((0,$.__)("%s\uff08\u5df2\u9009\u4e2d\uff09"),n):n,(0,H.createElement)("ul",null,(0,H.createElement)("li",null,(0,H.createElement)(W.Button,{onClick:()=>a(Pt,Al),className:j()("edit-site-sidebar-edit-mode__panel-tab",{"is-active":e===Al}),"aria-label":r,"data-label":t?(0,$.__)("\u9875\u9762"):n},t?(0,$.__)("\u9875\u9762"):n)),(0,H.createElement)("li",null,(0,H.createElement)(W.Button,{onClick:()=>a(Pt,Fl),className:j()("edit-site-sidebar-edit-mode__panel-tab",{"is-active":e===Fl}),"aria-label":e===Fl?(0,$.__)("\u533a\u5757\uff08\u5df2\u9009\u4e2d\uff09"):(0,$.__)("\u533a\u5757"),"data-label":(0,$.__)("\u533a\u5757")},(0,$.__)("\u533a\u5757"))))};function Ol({className:e,title:t,icon:n,description:a,actions:r,children:i}){return(0,H.createElement)("div",{className:j()("edit-site-sidebar-card",e)},(0,H.createElement)(W.Icon,{className:"edit-site-sidebar-card__icon",icon:n}),(0,H.createElement)("div",{className:"edit-site-sidebar-card__content"},(0,H.createElement)("div",{className:"edit-site-sidebar-card__header"},(0,H.createElement)("h2",{className:"edit-site-sidebar-card__title"},t),r),(0,H.createElement)("div",{className:"edit-site-sidebar-card__description"},a),i))}const Hl=X(I.privateApis)["BlockQuickNavigation"];function Gl(){const e=(0,G.useSelect)(e=>X(e(I.store)).getEnabledClientIdsTree(),[]);var t=(0,H.useMemo)(()=>e.map(({clientId:e})=>e),[e]);return(0,H.createElement)(Hl,{clientIds:t})}const Ul=[{label:(0,H.createElement)(H.Fragment,null,(0,$.__)("\u8349\u7a3f"),(0,H.createElement)(W.__experimentalText,{variant:"muted"},(0,$.__)("\u5c1a\u672a\u51c6\u5907\u597d\u53d1\u5e03\u3002"))),value:"draft"},{label:(0,H.createElement)(H.Fragment,null,(0,$.__)("\u5f85\u5ba1"),(0,H.createElement)(W.__experimentalText,{variant:"muted"},(0,$.__)("\u53d1\u5e03\u524d\u6b63\u5728\u7b49\u5f85\u5ba1\u9605\u3002"))),value:"pending"},{label:(0,H.createElement)(H.Fragment,null,(0,$.__)("\u79c1\u5bc6"),(0,H.createElement)(W.__experimentalText,{variant:"muted"},(0,$.__)("\u53ea\u6709\u7cfb\u7edf\u7ba1\u7406\u5458\u548c\u7f16\u8f91\u53ef\u89c1\u3002"))),value:"private"},{label:(0,H.createElement)(H.Fragment,null,(0,$.__)("\u5df2\u8ba1\u5212"),(0,H.createElement)(W.__experimentalText,{variant:"muted"},(0,$.__)("\u5728\u9009\u5b9a\u65e5\u671f\u81ea\u52a8\u53d1\u5e03\u3002"))),value:"future"},{label:(0,H.createElement)(H.Fragment,null,(0,$.__)("\u5df2\u53d1\u5e03"),(0,H.createElement)(W.__experimentalText,{variant:"muted"},(0,$.__)("\u6240\u6709\u4eba\u53ef\u89c1\u3002"))),value:"publish"}];function jl({postType:a,postId:r,status:i,password:s,date:o}){const[t,l]=(0,H.useState)(!!s),c=(0,G.useDispatch)(U.store)["editEntityRecord"],u=(0,G.useDispatch)(Y.store)["createErrorNotice"],[e,n]=(0,H.useState)(null);var m=(0,H.useMemo)(()=>({anchor:e,"aria-label":(0,$.__)("\u66f4\u6539\u72b6\u6001"),placement:"bottom-end"}),[e]);const d=async({status:t=i,password:e=s,date:n=o})=>{try{await c("postType",a,r,{status:t,date:n,password:e})}catch(e){t=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u66f4\u65b0\u72b6\u6001\u65f6\u51fa\u9519");u(t,{type:"snackbar"})}},p=e=>{l(e),e||d({password:""})},_=e=>{let t=o,n=s;"publish"===e?new Date(o)>new Date&&(t=null):"future"===e?(!o||new Date(o)<new Date)&&(t=new Date).setDate(t.getDate()+7):"private"===e&&s&&(l(!1),n=""),d({status:e,date:t,password:n})};return(0,H.createElement)(W.__experimentalHStack,{className:"edit-site-summary-field"},(0,H.createElement)(W.__experimentalText,{className:"edit-site-summary-field__label"},(0,$.__)("\u72b6\u6001")),(0,H.createElement)(W.Dropdown,{contentClassName:"edit-site-change-status__content",popoverProps:m,focusOnMount:!0,ref:n,renderToggle:({onToggle:e})=>(0,H.createElement)(W.Button,{className:"edit-site-summary-field__trigger",variant:"tertiary",onClick:e},(0,H.createElement)(bs,{status:s?"protected":i})),renderContent:({onClose:e})=>(0,H.createElement)(H.Fragment,null,(0,H.createElement)(I.__experimentalInspectorPopoverHeader,{title:(0,$.__)("\u72b6\u6001"),onClose:e}),(0,H.createElement)("form",null,(0,H.createElement)(W.__experimentalVStack,{spacing:5},(0,H.createElement)(W.RadioControl,{className:"edit-site-change-status__options",hideLabelFromVision:!0,label:(0,$.__)("\u72b6\u6001"),options:Ul,onChange:_,selected:i}),"private"!==i&&(0,H.createElement)(W.BaseControl,{id:"edit-site-change-status__password",label:(0,$.__)("\u5bc6\u7801")},(0,H.createElement)(W.ToggleControl,{label:(0,$.__)("\u4f7f\u7528\u5bc6\u7801\u4fdd\u62a4\u5c06\u6b64\u9875\u9762\u9690\u85cf"),checked:t,onChange:p}),t&&(0,H.createElement)(W.TextControl,{onChange:e=>d({password:e}),value:s,placeholder:(0,$.__)("\u4f7f\u7528\u5b89\u5168\u7684\u5bc6\u7801"),type:"text"})))))}))}function Wl({postType:n,postId:a,status:r,date:t}){const i=(0,G.useDispatch)(U.store)["editEntityRecord"],s=(0,G.useDispatch)(Y.store)["createErrorNotice"],[e,o]=(0,H.useState)(null);var l=(0,H.useMemo)(()=>({anchor:e,"aria-label":(0,$.__)("\u66f4\u6539\u53d1\u5e03\u65e5\u671f"),placement:"bottom-end"}),[e]);const c=async t=>{try{let e=r;"future"===r&&new Date(t)<new Date?e="publish":"publish"===r&&new Date(t)>new Date&&(e="future"),await i("postType",n,a,{status:e,date:t})}catch(e){t=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u66f4\u65b0\u72b6\u6001\u65f6\u51fa\u9519");s(t,{type:"snackbar"})}},u=t?(0,m.humanTimeDiff)(t):(0,$.__)("\u7acb\u5373");return(0,H.createElement)(W.__experimentalHStack,{className:"edit-site-summary-field"},(0,H.createElement)(W.__experimentalText,{className:"edit-site-summary-field__label"},(0,$.__)("\u53d1\u5e03")),(0,H.createElement)(W.Dropdown,{contentClassName:"edit-site-change-status__content",popoverProps:l,focusOnMount:!0,ref:o,renderToggle:({onToggle:e})=>(0,H.createElement)(W.Button,{className:"edit-site-summary-field__trigger",variant:"tertiary",onClick:e},u),renderContent:({onClose:e})=>(0,H.createElement)(I.__experimentalPublishDateTimePicker,{currentDate:t,is12Hour:!0,onClose:e,onChange:c})}))}function $l({status:e,date:t,password:n,postId:a,postType:r}){return(0,H.createElement)(W.__experimentalVStack,null,(0,H.createElement)(jl,{status:e,date:t,password:n,postId:a,postType:r}),(0,H.createElement)(Wl,{status:e,date:t,postId:a,postType:r}))}function Zl(){const{context:e,hasResolved:t,title:n,blocks:a}=(0,G.useSelect)(e=>{var{getEditedPostContext:t,getEditedPostType:n,getEditedPostId:a}=e(K),{getEditedEntityRecord:e,hasFinishedResolution:r}=e(U.store),t=t(),n=["postType",n(),a()],a=e(...n);return{context:t,hasResolved:r("getEditedEntityRecord",n),title:a?.title,blocks:a?.blocks}},[]),r=(0,G.useDispatch)(K)["setHasPageContentFocus"];var i=(0,H.useMemo)(()=>({...e,postType:null,postId:null}),[e]);return t?(0,H.createElement)(W.__experimentalVStack,null,(0,H.createElement)("div",null,(0,M.decodeEntities)(n)),(0,H.createElement)("div",{className:"edit-site-page-panels__edit-template-preview"},(0,H.createElement)(I.BlockContextProvider,{value:i},(0,H.createElement)(I.BlockPreview,{viewportWidth:1024,blocks:a}))),(0,H.createElement)(W.Button,{className:"edit-site-page-panels__edit-template-button",variant:"secondary",onClick:()=>r(!1)},(0,$.__)("\u7f16\u8f91\u6a21\u677f"))):null}function ql(){var{id:e,type:t,hasResolved:n,status:a,date:r,password:i,title:s,modified:o}=(0,G.useSelect)(e=>{var t=e(K)["getEditedPostContext"],{getEditedEntityRecord:e,hasFinishedResolution:n}=e(U.store),t=t(),t=["postType",t.postType,t.postId],e=e(...t);return{hasResolved:n("getEditedEntityRecord",t),title:e?.title,id:e?.id,type:e?.type,status:e?.status,date:e?.date,password:e?.password,modified:e?.modified}},[]);return n?(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.PanelBody,null,(0,H.createElement)(Ol,{title:(0,M.decodeEntities)(s),icon:$n,description:(0,H.createElement)(W.__experimentalVStack,null,(0,H.createElement)(W.__experimentalText,null,(0,$.sprintf)((0,$.__)("\u4e0a\u6b21\u7f16\u8f91\u7684%s"),(0,m.humanTimeDiff)(o))))})),(0,H.createElement)(W.PanelBody,{title:(0,$.__)("\u6458\u8981")},(0,H.createElement)($l,{status:a,date:r,password:i,postId:e,postType:t})),(0,H.createElement)(W.PanelBody,{title:(0,$.__)("\u5185\u5bb9")},(0,H.createElement)(Gl,null)),(0,H.createElement)(W.PanelBody,{title:(0,$.__)("\u6a21\u677f")},(0,H.createElement)(Zl,null))):null}function Yl({template:t}){const n=(0,G.useDispatch)(K)["revertTemplate"];return Bt(t)?(0,H.createElement)(W.DropdownMenu,{icon:Se,label:(0,$.__)("\u64cd\u4f5c"),className:"edit-site-template-card__actions",toggleProps:{isSmall:!0}},({onClose:e})=>(0,H.createElement)(W.MenuGroup,null,(0,H.createElement)(W.MenuItem,{info:(0,$.__)("\u4f7f\u7528\u4e3b\u9898\u6240\u63d0\u4f9b\u7684\u6a21\u677f\u3002"),onClick:()=>{n(t),e()}},(0,$.__)("\u6e05\u9664\u81ea\u5b9a\u4e49\u9009\u9879")))):null}function Xl({area:t,clientId:e}){const{selectBlock:n,toggleBlockHighlight:a}=(0,G.useDispatch)(I.store);var r=(0,G.useSelect)(e=>{return e(N.store).__experimentalGetDefaultTemplatePartAreas().find(e=>e.area===t)},[t]),i=()=>a(e,!0),s=()=>a(e,!1);return(0,H.createElement)(W.Button,{className:"edit-site-template-card__template-areas-item",icon:r?.icon,onMouseOver:i,onMouseLeave:s,onFocus:i,onBlur:s,onClick:()=>{n(e)}},r?.label)}function Kl(){var e=(0,G.useSelect)(e=>e(K).getCurrentTemplateTemplateParts(),[]);return e.length?(0,H.createElement)("section",{className:"edit-site-template-card__template-areas"},(0,H.createElement)(W.__experimentalHeading,{level:3,className:"edit-site-template-card__template-areas-title"},(0,$.__)("\u533a\u57df")),(0,H.createElement)("ul",{className:"edit-site-template-card__template-areas-list"},e.map(({templatePart:e,block:t})=>(0,H.createElement)("li",{key:e.slug},(0,H.createElement)(Xl,{area:e.area,clientId:t.clientId}))))):null}const Ql=()=>{var e,t=Lr()["record"];return{currentTemplate:t,lastRevisionId:null!=(e=t?._links?.["predecessor-version"]?.[0]?.id)?e:null,revisionsCount:null!=(e=t?._links?.["version-history"]?.[0]?.count)?e:0}};function Jl({children:e}){var{lastRevisionId:t,revisionsCount:n}=Ql();return!t||n<2?null:(0,H.createElement)(N.PostTypeSupportCheck,{supportKeys:"revisions"},e)}const ec=()=>{var{lastRevisionId:e,revisionsCount:t}=Ql();return(0,H.createElement)(Jl,null,(0,H.createElement)(W.Button,{href:(0,u.addQueryArgs)("revision.php",{revision:e,gutenberg:!0}),className:"edit-site-template-last-revision__title",icon:Jn},(0,$.sprintf)((0,$._n)("%d\u4e2a\u4fee\u8ba2\u7248\u672c","%d Revisions",t),t)))};function tc(){return(0,H.createElement)(Jl,null,(0,H.createElement)(ec,null))}function nc(){var{info:{title:e,description:t,icon:n},record:a}=(0,G.useSelect)(e=>{var{getEditedPostType:t,getEditedPostId:n}=e(K),a=e(U.store)["getEditedEntityRecord"],e=e(N.store)["__experimentalGetTemplateInfo"],a=a("postType",t(),n());return{info:a?e(a):{},record:a}},[]);return e||t?(0,H.createElement)(W.PanelBody,{className:"edit-site-template-panel"},(0,H.createElement)(Ol,{className:"edit-site-template-card",title:(0,M.decodeEntities)(e),icon:"gc_navigation"===a?.type?jn:n,description:(0,M.decodeEntities)(t),actions:(0,H.createElement)(Yl,{template:a})},(0,H.createElement)(Kl,null)),(0,H.createElement)(W.PanelRow,{header:(0,$.__)("\u7f16\u8f91\u5386\u53f2\u8bb0\u5f55"),className:"edit-site-template-revisions"},(0,H.createElement)(tc,null))):null}var{Fill:E,Slot:_}=(0,W.createSlotFill)("PluginTemplateSettingPanel"),e=E,ac=(e.Slot=_,e);const{Slot:rc,Fill:ic}=(0,W.createSlotFill)("EditSiteSidebarInspector"),sc=ic;function oc(){const{sidebar:e,isEditorSidebarOpened:t,hasBlockSelection:n,supportsGlobalStyles:a,hasPageContentFocus:r}=(0,G.useSelect)(e=>{var t=e(D).getActiveComplementaryArea(Pt),n=[Fl,Al].includes(t),a=e(K).getSettings();return{sidebar:t,isEditorSidebarOpened:n,hasBlockSelection:!!e(I.store).getBlockSelectionStart(),supportsGlobalStyles:!a?.supportsTemplatePartsMode,hasPageContentFocus:e(K).hasPageContentFocus()}},[]),i=(0,G.useDispatch)(D)["enableComplementaryArea"];(0,H.useEffect)(()=>{t&&(n?r||i(Pt,Fl):i(Pt,Al))},[n,t,r]);let s=e;return t||(s=n?Fl:Al),(0,H.createElement)(H.Fragment,null,(0,H.createElement)(Ps,{identifier:s,title:(0,$.__)("\u8bbe\u7f6e"),icon:(0,$.isRTL)()?Is:Ms,closeLabel:(0,$.__)("\u5173\u95ed\u8bbe\u7f6e"),header:(0,H.createElement)(zl,{sidebarName:s}),headerClassName:"edit-site-sidebar-edit-mode__panel-tabs"},s===Al&&(0,H.createElement)(H.Fragment,null,r?(0,H.createElement)(ql,null):(0,H.createElement)(nc,null),(0,H.createElement)(ac.Slot,null)),s===Fl&&(0,H.createElement)(rc,{bubblesVirtually:!0})),a&&(0,H.createElement)(Dl,null))}var lc=window.gc.reusableBlocks;function cc({clientId:t,onClose:e}){const n=(0,G.useSelect)(I.store)["getBlocks"],a=(0,G.useDispatch)(I.store)["replaceBlocks"];return(0,G.useSelect)(e=>e(I.store).canRemoveBlock(t),[t])?(0,H.createElement)(W.MenuItem,{onClick:()=>{a(t,n(t)),e()}},(0,$.__)("\u4ece\u6a21\u677f\u7ec4\u4ef6\u5206\u79bb\u533a\u5757")):null}var uc=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z"}));function mc({clientIds:t,blocks:e}){const[n,a]=(0,H.useState)(!1),r=(0,G.useDispatch)(I.store)["replaceBlocks"],i=(0,G.useDispatch)(Y.store)["createSuccessNotice"];var s=(0,G.useSelect)(e=>{e=e(K).getSettings().supportsTemplatePartsMode;return{canCreate:!e}},[])["canCreate"];return s?(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.MenuItem,{icon:uc,onClick:()=>{a(!0)}},(0,$.__)("\u521b\u5efa\u6a21\u677f\u7ec4\u4ef6")),n&&(0,H.createElement)(hi,{closeModal:()=>{a(!1)},blocks:e,onCreate:async e=>{r(t,(0,b.createBlock)("core/template-part",{slug:e.slug,theme:e.theme})),i((0,$.__)("\u6a21\u677f\u7ec4\u4ef6\u5df2\u521b\u5efa\u3002"),{type:"snackbar"})}})):null}function dc(){return(0,H.createElement)(I.BlockSettingsMenuControls,null,({selectedClientIds:e,onClose:t})=>(0,H.createElement)(pc,{clientIds:e,onClose:t}))}function pc({clientIds:t,onClose:e}){var n=(0,G.useSelect)(e=>e(I.store).getBlocksByClientId(t),[t]);return 1===n.length&&"core/template-part"===n[0]?.name?(0,H.createElement)(cc,{clientId:t[0],onClose:e}):(0,H.createElement)(mc,{clientIds:t,blocks:n})}var _c=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"}));const{useLocation:gc,useHistory:hc}=X(n.privateApis);function vc(){var e=gc();const t=hc();var n="gc_template_part"===e.params.postType,a="gc_navigation"===e.params.postType,e=e.state?.fromTemplateId;return(n||a)&&e?(0,H.createElement)(W.Button,{className:"edit-site-visual-editor__back-button",icon:_c,onClick:()=>{t.back()}},(0,$.__)("\u8fd4\u56de")):null}function Ec({enableResizing:e,settings:t,children:n,...a}){const{canvasMode:r,deviceType:i,isZoomOutMode:s}=(0,G.useSelect)(e=>({deviceType:e(K).__experimentalGetPreviewDeviceType(),isZoomOutMode:"zoom-out"===e(I.store).__unstableGetEditorMode(),canvasMode:X(e(K)).getCanvasMode()}),[]),o=X((0,G.useDispatch)(K))["setCanvasMode"];var l=(0,I.__experimentalUseResizeCanvas)(i),c=(0,I.__unstableUseMouseMoveTypingReset)();const[u,m]=(0,H.useState)(!1);(0,H.useEffect)(()=>{"edit"===r&&m(!1)},[r]);var d={"aria-label":(0,$.__)("\u7f16\u8f91\u5668\u753b\u5e03"),role:"button",tabIndex:0,onFocus:()=>m(!0),onBlur:()=>m(!1),onKeyDown:e=>{var t=e["keyCode"];t!==h.ENTER&&t!==h.SPACE||(e.preventDefault(),o("edit"))},onClick:()=>o("edit"),readonly:!0};return(0,H.createElement)(I.__unstableIframe,{expand:s,scale:s?.45:void 0,frameSize:s?100:void 0,style:e?{}:l,ref:c,name:"editor-canvas",className:j()("edit-site-visual-editor__editor-canvas",{"is-focused":u&&"view"===r}),...a,..."view"===r?d:{}},(0,H.createElement)(I.__unstableEditorStyles,{styles:t.styles}),(0,H.createElement)("style",null,`.is-root-container{display:flow-root;${e?"min-height:0!important;":""}}body{position:relative; ${"view"===r?"cursor: pointer; min-height: 100vh;":""}}}`),n)}const yc=(e,t)=>`<a ${fc(e)}>${t}</a>`,fc=e=>`href="${e}" target="_blank" rel="noreferrer noopener"`,bc=async(e={})=>{return(await(0,G.resolveSelect)(U.store).getMediaItems({...e,orderBy:e?.search?"relevance":"date"})).map(e=>({...e,alt:e.alt_text,url:e.source_url,previewUrl:e.media_details?.sizes?.medium?.source_url,caption:e.caption?.raw}))};var wc=[{name:"images",labels:{name:(0,$.__)("\u56fe\u7247"),search_items:(0,$.__)("\u641c\u7d22\u56fe\u7247")},mediaType:"image",async fetch(e={}){return bc({...e,media_type:"image"})}},{name:"videos",labels:{name:(0,$.__)("\u89c6\u9891"),search_items:(0,$.__)("\u641c\u7d22\u89c6\u9891")},mediaType:"video",async fetch(e={}){return bc({...e,media_type:"video"})}},{name:"audio",labels:{name:(0,$.__)("\u97f3\u9891"),search_items:(0,$.__)("\u641c\u7d22\u97f3\u9891")},mediaType:"audio",async fetch(e={}){return bc({...e,media_type:"audio"})}},{name:"openverse",labels:{name:(0,$.__)("Openverse"),search_items:(0,$.__)("\u641c\u7d22 Openverse")},mediaType:"image",async fetch(e={}){e={...e,mature:!1,excluded_source:"flickr,inaturalist,wikimedia",license:"pdm,cc0"};const n={per_page:"page_size",search:"q"},a=new URL("https://api.openverse.engineering/v1/images/");return Object.entries(e).forEach(([e,t])=>{e=n[e]||e;a.searchParams.set(e,t)}),(await(await window.fetch(a,{headers:{"User-Agent":"GeChiUI/inserter-media-fetch"}})).json()).results.map(e=>({...e,title:e.title?.toLowerCase().startsWith("file:")?e.title.slice(5):e.title,sourceId:e.id,id:void 0,caption:(e=>{var{title:e,foreign_landing_url:t,creator:n,creator_url:a,license:r,license_version:i,license_url:s}=e,r=((e,t)=>{let n=e.trim();return"pdm"!==e&&(n=e.toUpperCase().replace("SAMPLING","Sampling")),t&&(n+=" "+t),n=["pdm","cc0"].includes(e)?n:"CC "+n})(r,i),i=(0,M.decodeEntities)(n);let o;return(o=i?e?(0,$.sprintf)((0,$._x)('"%1$s" by %2$s/ %3$s',"caption"),yc(t,(0,M.decodeEntities)(e)),a?yc(a,i):i,s?yc(s+"?ref=openverse",r):r):(0,$.sprintf)((0,$._x)("<a %1$s>Work</a> by %2$s/ %3$s","caption"),fc(t),a?yc(a,i):i,s?yc(s+"?ref=openverse",r):r):e?(0,$.sprintf)((0,$._x)('"%1$s"/ %2$s',"caption"),yc(t,(0,M.decodeEntities)(e)),s?yc(s+"?ref=openverse",r):r):(0,$.sprintf)((0,$._x)("<a %1$s>Work</a>/ %3$s","caption"),fc(t),s?yc(s+"?ref=openverse",r):r)).replace(/\s{2}/g," ")})(e),previewUrl:e.thumbnail}))},getReportUrl:({sourceId:e})=>`https://www.gechiui.com/openverse/image/${e}/report/`,isExternalResource:!0}];function Sc(){var e;const a=(0,G.useDispatch)(K)["setIsInserterOpened"],{storedSettings:r,canvasMode:i,templateType:t}=(0,G.useSelect)(e=>{var{getSettings:e,getCanvasMode:t,getEditedPostType:n}=X(e(K));return{storedSettings:e(a),canvasMode:t(),templateType:n()}},[a]),n=null!=(e=r.__experimentalAdditionalBlockPatterns)?e:r.__experimentalBlockPatterns,s=null!=(e=r.__experimentalAdditionalBlockPatternCategories)?e:r.__experimentalBlockPatternCategories,{restBlockPatterns:o,restBlockPatternCategories:l}=(0,G.useSelect)(e=>({restBlockPatterns:e(U.store).getBlockPatterns(),restBlockPatternCategories:e(U.store).getBlockPatternCategories()}),[]),c=(0,H.useMemo)(()=>[...n||[],...o||[]].filter((t,e,n)=>e===n.findIndex(e=>t.name===e.name)).filter(({postTypes:e})=>!e||Array.isArray(e)&&e.includes(t)),[n,o,t]),u=(0,H.useMemo)(()=>[...s||[],...l||[]].filter((t,e,n)=>e===n.findIndex(e=>t.name===e.name)),[s,l]);return(0,H.useMemo)(()=>{const{__experimentalAdditionalBlockPatterns:e,__experimentalAdditionalBlockPatternCategories:t,focusMode:n,...a}=r;return{...a,inserterMediaCategories:wc,__experimentalBlockPatterns:c,__experimentalBlockPatternCategories:u,templateLock:!1,template:!1,focusMode:("view"!==i||!n)&&n}},[r,c,u,i])}const xc=["gc_template_part","gc_navigation","gc_block"],kc=X(I.privateApis)["useBlockEditingMode"],Cc=["core/post-title","core/post-featured-image","core/post-content"];function Tc(){return kc("disabled"),(0,H.useEffect)(()=>((0,Ye.addFilter)("editor.BlockEdit","core/edit-site/disable-non-content-blocks",Nc),()=>(0,Ye.removeFilter)("editor.BlockEdit","core/edit-site/disable-non-content-blocks")),[]),null}const Nc=(0,q.createHigherOrderComponent)(n=>e=>{var t=void 0!==e.context.queryId,t=Cc.includes(e.name)&&!t?"contentOnly":void 0;return kc(t),(0,H.createElement)(n,{...e})},"withDisableNonPageContentBlocks");function Ic({contentRef:a}){const r=(0,G.useSelect)(e=>e(K).hasPageContentFocus(),[]),i=(0,G.useSelect)(Y.store)["getNotices"],{createInfoNotice:s,removeNotice:o}=(0,G.useDispatch)(Y.store),l=(0,G.useDispatch)(K)["setHasPageContentFocus"],[e,c]=(0,H.useState)(!1),u=(0,H.useRef)(0);return(0,H.useEffect)(()=>{const e=async e=>{r&&e.target.classList.contains("is-root-container")&&!i().some(e=>e.id===u.current)&&(e=(await s((0,$.__)("\u7f16\u8f91\u6a21\u677f\u4ee5\u7f16\u8f91\u6b64\u5757\u3002"),{isDismissible:!0,type:"snackbar",actions:[{label:(0,$.__)("\u7f16\u8f91\u6a21\u677f"),onClick:()=>l(!1)}]}))["notice"],u.current=e.id)},t=e=>{r&&e.target.classList.contains("is-root-container")&&(u.current&&o(u.current),c(!0))},n=a.current;return n?.addEventListener("click",e),n?.addEventListener("dblclick",t),()=>{n?.removeEventListener("click",e),n?.removeEventListener("dblclick",t)}},[u,r,a.current]),(0,H.createElement)(W.__experimentalConfirmDialog,{isOpen:e,confirmButtonText:(0,$.__)("\u7f16\u8f91\u6a21\u677f"),onConfirm:()=>{c(!1),l(!1)},onCancel:()=>c(!1)},(0,$.__)("\u7f16\u8f91\u6a21\u677f\u4ee5\u7f16\u8f91\u6b64\u5757\u3002"))}function Mc(){{const{isPage:e,hasPageContentFocus:t}=(0,G.useSelect)(e=>({isPage:e(K).isPage(),hasPageContentFocus:e(K).hasPageContentFocus()}),[]),n=(0,H.useRef)(!1),a=(0,H.useRef)(!1),r=(0,G.useDispatch)(Y.store)["createInfoNotice"],i=(0,G.useDispatch)(K)["setHasPageContentFocus"];(0,H.useEffect)(()=>{!n.current&&e&&a.current&&!t&&(r((0,$.__)("\u60a8\u6b63\u5728\u7f16\u8f91\u6a21\u677f\u3002"),{isDismissible:!0,type:"snackbar",actions:[{label:(0,$.__)("\u8fd4\u56de\u9875\u9762"),onClick:()=>i(!0)}]}),n.current=!0),a.current=t},[n,e,a,t,r,i])}return null}function Pc({contentRef:e}){var t=(0,G.useSelect)(e=>e(K).hasPageContentFocus(),[]);return(0,H.createElement)(H.Fragment,null,t&&(0,H.createElement)(Tc,null),(0,H.createElement)(Ic,{contentRef:e}),(0,H.createElement)(Mc,null))}const Bc={type:"default",alignments:[]};function Rc(){const t=(0,G.useDispatch)(I.store)["clearSelectedBlock"],{templateType:e,isFocusMode:n,isViewMode:a}=(0,G.useSelect)(e=>{var{getEditedPostType:e,getCanvasMode:t}=X(e(K)),e=e();return{templateType:e,isFocusMode:xc.includes(e),isViewMode:"view"===t()}},[]),[r,i]=(0,q.useResizeObserver)(),s=Sc();var o=(0,G.useSelect)(e=>{e=e(I.store).getBlockCount;return{hasBlocks:!!e()}},[])["hasBlocks"],l=(0,q.useViewportMatch)("small","<");const c=n&&!a&&!l,u=(0,H.useRef)(),m=(0,q.useMergeRefs)([u,(0,I.__unstableUseClipboardHandler)(),(0,I.__unstableUseTypingObserver)()]),d="gc_navigation"===e,p=!(d&&n&&o||a)&&void 0;return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(Pa.Slot,null,([e])=>{return e?(0,H.createElement)("div",{className:"edit-site-visual-editor is-focus-mode"},e):(0,H.createElement)(I.BlockTools,{className:j()("edit-site-visual-editor",{"is-focus-mode":n||!!e,"is-view-mode":a}),__unstableContentRef:u,onClick:e=>{e.target===e.currentTarget&&t()}},(0,H.createElement)(I.BlockEditorKeyboardShortcuts.Register,null),(0,H.createElement)(vc,null),(0,H.createElement)(ka,{enableResizing:c,height:null!=(e=i.height)?e:"100%"},(0,H.createElement)(Ec,{enableResizing:c,settings:s,contentRef:m,readonly:a},r,(0,H.createElement)(I.BlockList,{className:j()("edit-site-block-editor__block-list gc-site-blocks",{"is-navigation-block":d}),layout:Bc,renderAppender:p}))))}),(0,H.createElement)(Pc,{contentRef:u}))}const Lc=X(I.privateApis)["ExperimentalBlockEditorProvider"];function Dc({children:e}){var t=Sc(),n=(0,G.useSelect)(e=>{e=X(e(K)).getEditedPostType;return{templateType:e()}},[])["templateType"],[n,a,r]=(0,U.useEntityBlockEditor)("postType",n);return(0,H.createElement)(Lc,{settings:t,value:n,onInput:a,onChange:r,useSubRegistry:!1},e)}const Ac=X(I.privateApis)["ExperimentalBlockEditorProvider"],Fc=()=>{};function Vc({children:e}){const t=Sc(),n=(0,U.useEntityId)("postType","gc_navigation");var a=(0,H.useMemo)(()=>[(0,b.createBlock)("core/navigation",{ref:n,templateLock:!1})],[n]);const r=(0,G.useSelect)(e=>{e=X(e(K)).getCanvasMode;return{isEditMode:"edit"===e()}},[])["isEditMode"],{selectBlock:i,setBlockEditingMode:s,unsetBlockEditingMode:o}=X((0,G.useDispatch)(I.store)),l=a&&a[0]?.clientId;var c=(0,H.useMemo)(()=>({...t,templateLock:"insert",template:[["core/navigation",{},[]]]}),[t]);return(0,H.useEffect)(()=>{l&&r&&i(l)},[l,r,i]),(0,H.useEffect)(()=>{if(l)return s(l,"contentOnly"),()=>{o(l)}},[l,o,s]),(0,H.createElement)(Ac,{settings:c,value:a,onInput:Fc,onChange:Fc,useSubRegistry:!1},e)}function zc(){var e=function(e){let t=null;return t="gc_navigation"===e?Vc:Dc}((0,G.useSelect)(e=>e(K).getEditedPostType(),[]));return(0,H.createElement)(e,null,(0,H.createElement)(dc,null),(0,H.createElement)(sc,null,(0,H.createElement)(I.BlockInspector,null)),(0,H.createElement)(Rc,null),(0,H.createElement)(lc.ReusableBlocksMenuItems,null))}var Oc=Tm(773);function Hc({value:e,onChange:t,onInput:n}){const[a,r]=(0,H.useState)(e),[i,s]=(0,H.useState)(!1);var o=(0,q.useInstanceId)(Hc);const l=(0,H.useRef)();i||a===e||r(e);return(0,H.useEffect)(()=>()=>{l.current&&t(l.current)},[]),(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.VisuallyHidden,{as:"label",htmlFor:"code-editor-text-area-"+o},(0,$.__)("\u952e\u5165\u6587\u5b57\u5185\u5bb9\u6216HTML")),(0,H.createElement)(Oc.Z,{autoComplete:"off",dir:"auto",value:a,onChange:e=>{e=e.target.value;n(e),r(e),s(!0),l.current=e},onBlur:()=>{i&&(t(a),s(!1))},className:"edit-site-code-editor-text-area",id:"code-editor-text-area-"+o,placeholder:(0,$.__)("\u5f00\u59cb\u7528\u6587\u5b57\u6216 HTML \u5199\u4f5c")}))}function Gc(){var{templateType:e,shortcut:t}=(0,G.useSelect)(e=>{var t=e(K)["getEditedPostType"],e=e(Q.store)["getShortcutRepresentation"];return{templateType:t(),shortcut:e("core/edit-site/toggle-mode")}},[]),[n,a]=(0,U.useEntityProp)("postType",e,"content");const[r,,i]=(0,U.useEntityBlockEditor)("postType",e);let s;s=n instanceof Function?n({blocks:r}):r?(0,b.__unstableSerializeAndClean)(r):n;const o=(0,G.useDispatch)(K)["switchEditorMode"];return(0,H.createElement)("div",{className:"edit-site-code-editor"},(0,H.createElement)("div",{className:"edit-site-code-editor__toolbar"},(0,H.createElement)("h2",null,(0,$.__)("\u6b63\u5728\u7f16\u8f91\u4ee3\u7801")),(0,H.createElement)(W.Button,{variant:"tertiary",onClick:()=>o("visual"),shortcut:t},(0,$.__)("\u9000\u51fa\u4ee3\u7801\u7f16\u8f91\u5668"))),(0,H.createElement)("div",{className:"edit-site-code-editor__body"},(0,H.createElement)(Hc,{value:s,onChange:e=>{i((0,b.parse)(e),{selection:void 0})},onInput:a})))}function Uc(){const e=(0,G.useSelect)(K)["getEditorMode"],t=(0,G.useSelect)(e=>e(K).isListViewOpened(),[]),n=(0,G.useSelect)(e=>e(D).getActiveComplementaryArea(K.name)===Fl,[]),{redo:a,undo:r}=(0,G.useDispatch)(U.store),{setIsListViewOpened:i,switchEditorMode:s,setIsInserterOpened:o,closeGeneralSidebar:l}=(0,G.useDispatch)(K),{enableComplementaryArea:c,disableComplementaryArea:u}=(0,G.useDispatch)(D),m=(0,G.useDispatch)(I.store)["replaceBlocks"],{getBlockName:d,getSelectedBlockClientId:p,getBlockAttributes:_}=(0,G.useSelect)(I.store),g=(0,G.useSelect)(Z.store)["get"],{set:h,toggle:v}=(0,G.useDispatch)(Z.store),E=(0,G.useDispatch)(Y.store)["createInfoNotice"],y=(e,t)=>{e.preventDefault();var n,a,r,e=0===t?"core/paragraph":"core/heading",i=p();null===i||"core/paragraph"!==(a=d(i))&&"core/heading"!==a||(n=_(i),a="core/paragraph"===a?"align":"textAlign",r="core/paragraph"==e?"align":"textAlign",m(i,(0,b.createBlock)(e,{level:t,content:n.content,[r]:n[a]})))};return(0,Q.useShortcut)("core/edit-site/undo",e=>{r(),e.preventDefault()}),(0,Q.useShortcut)("core/edit-site/redo",e=>{a(),e.preventDefault()}),(0,Q.useShortcut)("core/edit-site/toggle-list-view",()=>{t||i(!0)}),(0,Q.useShortcut)("core/edit-site/toggle-block-settings-sidebar",e=>{e.preventDefault(),n?u(Pt):c(Pt,Fl)}),(0,Q.useShortcut)("core/edit-site/toggle-mode",()=>{s("visual"===e()?"text":"visual")}),(0,Q.useShortcut)("core/edit-site/transform-heading-to-paragraph",e=>y(e,0)),[1,2,3,4,5,6].forEach(t=>{(0,Q.useShortcut)("core/edit-site/transform-paragraph-to-heading-"+t,e=>y(e,t))}),(0,Q.useShortcut)("core/edit-site/toggle-distraction-free",()=>{h("core/edit-site","fixedToolbar",!1),o(!1),i(!1),l(),v("core/edit-site","distractionFree"),E(g("core/edit-site","distractionFree")?(0,$.__)("\u5df2\u6253\u5f00\u4e13\u6ce8\u6a21\u5f0f\u3002"):(0,$.__)("\u4e13\u6ce8\u6a21\u5f0f\u5df2\u5173\u95ed\u3002"),{id:"core/edit-site/distraction-free-mode/notice",type:"snackbar"})}),null}var jc=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));function Wc(){const e=(0,G.useDispatch)(K)["setIsInserterOpened"];var t=(0,G.useSelect)(e=>e(K).__experimentalGetInsertionPoint(),[]),n=(0,q.useViewportMatch)("medium","<"),a=n?"div":W.VisuallyHidden,[r,i]=(0,q.__experimentalUseDialog)({onClose:()=>e(!1),focusOnMount:null});const s=(0,H.useRef)();return(0,H.useEffect)(()=>{s.current.focusSearch()},[]),(0,H.createElement)("div",{ref:r,...i,className:"edit-site-editor__inserter-panel"},(0,H.createElement)(a,{className:"edit-site-editor__inserter-panel-header"},(0,H.createElement)(W.Button,{icon:jc,label:(0,$.__)("\u5173\u95ed\u533a\u5757\u63d2\u5165\u5668"),onClick:()=>e(!1)})),(0,H.createElement)("div",{className:"edit-site-editor__inserter-panel-content"},(0,H.createElement)(I.__experimentalLibrary,{showInserterHelpPanel:!0,shouldFocusBlock:n,rootClientId:t.rootClientId,__experimentalInsertionIndex:t.insertionIndex,__experimentalFilterValue:t.filterValue,ref:s})))}const $c=X(I.privateApis)["PrivateListView"];function Zc(){const t=(0,G.useDispatch)(K)["setIsListViewOpened"];var e=(0,q.useFocusOnMount)("firstElement"),n=(0,q.useFocusReturn)(),a=(0,q.useFocusReturn)();var[r,i]=(0,H.useState)(null);const s=(0,H.useRef)(),o=(0,H.useRef)(),l=(0,H.useRef)();return(0,Q.useShortcut)("core/edit-site/toggle-list-view",()=>{var e;s.current.contains(s.current.ownerDocument.activeElement)?t(!1):(e=Es.focus.tabbable.find(l.current)[0],(s.current.contains(e)?e:o.current).focus())}),(0,H.createElement)("div",{className:"edit-site-editor__list-view-panel",onKeyDown:function(e){e.keyCode!==h.ESCAPE||e.defaultPrevented||t(!1)},ref:s},(0,H.createElement)("div",{className:"edit-site-editor__list-view-panel-header",ref:n},(0,H.createElement)("strong",null,(0,$.__)("\u5217\u8868\u89c6\u56fe")),(0,H.createElement)(W.Button,{icon:k,label:(0,$.__)("\u5173\u95ed"),onClick:()=>t(!1),ref:o})),(0,H.createElement)("div",{className:"edit-site-editor__list-view-panel-content",ref:(0,q.useMergeRefs)([a,e,i,l])},(0,H.createElement)($c,{dropZoneElement:r})))}function qc({fallbackContent:e,onChoosePattern:n,postType:t}){const[,,a]=(0,U.useEntityBlockEditor)("postType",t);t=function(e){const{slug:t,patterns:n}=(0,G.useSelect)(e=>{var{getEditedPostType:t,getEditedPostId:n}=e(K),a=e(U.store)["getEntityRecord"],n=n(),a=a("postType",t(),n),t=e(I.store)["getSettings"];return{slug:a.slug,patterns:t().__experimentalBlockPatterns}},[]);return(0,H.useMemo)(()=>[{name:"fallback",blocks:(0,b.parse)(e),title:(0,$.__)("\u56de\u9000\u5185\u5bb9")},...n.filter(e=>Array.isArray(e.templateTypes)&&e.templateTypes.some(e=>t.startsWith(e))).map(e=>({...e,blocks:(0,b.parse)(e.content)}))],[e,t,n])}(e),e=(0,q.useAsyncList)(t);return(0,H.createElement)(I.__experimentalBlockPatternsList,{blockPatterns:t,shownPatterns:e,onClickPattern:(e,t)=>{a(t,{selection:void 0}),n()}})}function Yc({slug:e,isCustom:t,onClose:n,postType:a}){var r=function(e,t=!1){const[n,a]=(0,H.useState)("");return(0,H.useEffect)(()=>{It()({path:(0,u.addQueryArgs)("/gc/v2/templates/lookup",{slug:e,is_custom:t,ignore_empty:!0})}).then(({content:e})=>a(e.raw))},[t,e]),n}(e,t);return r?(0,H.createElement)(W.Modal,{className:"edit-site-start-template-options__modal",title:(0,$.__)("\u9009\u62e9\u4e00\u4e2a\u6837\u677f"),closeLabel:(0,$.__)("\u53d6\u6d88"),focusOnMount:"firstElement",onRequestClose:n,isFullScreen:!0},(0,H.createElement)("div",{className:"edit-site-start-template-options__modal-content"},(0,H.createElement)(qc,{fallbackContent:r,slug:e,isCustom:t,postType:a,onChoosePattern:()=>{n()}})),(0,H.createElement)(W.Flex,{className:"edit-site-start-template-options__modal__actions",justify:"flex-end",expanded:!1},(0,H.createElement)(W.FlexItem,null,(0,H.createElement)(W.Button,{variant:"tertiary",onClick:n},(0,$.__)("\u8df3\u8fc7"))))):null}const Xc={INITIAL:"INITIAL",CLOSED:"CLOSED"};function Kc(){const[e,t]=(0,H.useState)(Xc.INITIAL);var{shouldOpenModal:n,slug:a,isCustom:r,postType:i}=(0,G.useSelect)(e=>{var{getEditedPostType:t,getEditedPostId:n}=e(K),t=t(),n=n(),{getEditedEntityRecord:e,hasEditsForEntityRecord:a}=e(U.store),e=e("postType",t,n);return{shouldOpenModal:!a("postType",t,n)&&""===e.content&&"gc_template"===t,slug:e.slug,isCustom:e.is_custom,postType:t}},[]);return e===Xc.INITIAL&&!n||e===Xc.CLOSED?null:(0,H.createElement)(Yc,{slug:a,isCustom:r,postType:i,onClose:()=>t(Xc.CLOSED)})}const Qc=X(I.privateApis)["useGlobalStylesOutput"];function Jc(){{const[n,a]=Qc(),r=(0,G.useSelect)(K)["getSettings"],i=(0,G.useDispatch)(K)["updateSettings"];(0,H.useEffect)(()=>{var e,t;n&&a&&(e=r(),t=Object.values(null!=(t=e.styles)?t:[]).filter(e=>!e.isGlobalStyles),i({...e,styles:[...t,...n],__experimentalFeatures:a}))},[n,a])}return null}const e0=X(n.privateApis)["useLocation"];const t0=X(I.privateApis)["useGlobalStyle"];function n0(){var[e]=t0("color.text");return(0,H.createElement)("div",{className:"edit-site-canvas-spinner"},(0,H.createElement)(W.Spinner,{style:{color:e}}))}const a0=X(I.privateApis)["BlockRemovalWarningModal"],r0={body:(0,$.__)("\u7f16\u8f91\u5668\u5185\u5bb9"),sidebar:(0,$.__)("\u7f16\u8f91\u5668\u8bbe\u7f6e"),actions:(0,$.__)("\u7f16\u8f91\u5668\u53d1\u5e03"),footer:(0,$.__)("\u7f16\u8f91\u9875\u811a")},i0={gc_template:(0,$.__)("\u6a21\u677f"),gc_template_part:(0,$.__)("\u6a21\u7248\u7ec4\u4ef6"),gc_block:(0,$.__)("\u533a\u5757\u6837\u677f")},s0={"core/query":(0,$.__)("\u67e5\u8be2\u5faa\u73af\u663e\u793a\u6587\u7ae0\u6216\u9875\u9762\u7684\u5217\u8868\u3002"),"core/post-content":(0,$.__)("\u6587\u7ae0\u5185\u5bb9\u663e\u793a\u6587\u7ae0\u6216\u9875\u9762\u7684\u5185\u5bb9\u3002"),"core/post-template":(0,$.__)("\u6587\u7ae0\u6a21\u677f\u5728\u67e5\u8be2\u5faa\u73af\u4e2d\u663e\u793a\u6bcf\u7bc7\u6587\u7ae0\u6216\u9875\u9762\u3002")};function o0({isLoading:e}){var{record:t,getTitle:n,isLoaded:a}=Lr(),{id:r,type:i}=t;const{context:s,editorMode:o,canvasMode:l,blockEditorMode:c,isRightSidebarOpen:u,isInserterOpen:m,isListViewOpen:d,showIconLabels:p,showBlockBreadcrumbs:_,hasPageContentFocus:g}=(0,G.useSelect)(e=>{var{getEditedPostContext:t,getEditorMode:n,getCanvasMode:a,isInserterOpened:r,isListViewOpened:i,hasPageContentFocus:s}=X(e(K)),o=e(I.store)["__unstableGetEditorMode"],l=e(D)["getActiveComplementaryArea"];return{context:t(),editorMode:n(),canvasMode:a(),blockEditorMode:o(),isInserterOpen:r(),isListViewOpen:i(),isRightSidebarOpen:l(K.name),showIconLabels:e(Z.store).get("core/edit-site","showIconLabels"),showBlockBreadcrumbs:e(Z.store).get("core/edit-site","showBlockBreadcrumbs"),hasPageContentFocus:s()}},[]),h=(0,G.useDispatch)(K)["setEditedPostContext"];var v="edit"===l,E="view"===l||"visual"===o,y=_&&v&&E&&"zoom-out"!==c,f=v&&E&&m,b=v&&E&&d,w=d?(0,$.__)("\u5217\u8868\u89c6\u56fe"):(0,$.__)("\u533a\u5757\u5e93"),S=(0,H.useMemo)(()=>{const{postType:e,postId:t,...n}=null!==s&&void 0!==s?s:{};return{...g?s:n,queryContext:[s?.queryContext||{page:1},e=>h({...s,queryContext:{...s?.queryContext,...e}})]}},[g,s,h]);let x;a&&(x=(0,$.sprintf)((0,$.__)("%1$s \u2039 %2$s \u2039 \u7f16\u8f91\u5668"),n(),null!=(n=i0[i])?n:i0.gc_template));{var k=a&&x;n=e0();const C=(0,G.useSelect)(e=>e(U.store).getEntityRecord("root","site")?.title,[]),T=(0,H.useRef)(!0);(0,H.useEffect)(()=>{T.current=!1},[n]),(0,H.useEffect)(()=>{var e;T.current||k&&C&&(e=(0,$.sprintf)((0,$.__)("%1$s \u2039 %2$s \u2014 GeChiUI"),(0,M.decodeEntities)(k),(0,M.decodeEntities)(C)),document.title=e,(0,Mt.speak)((0,$.sprintf)((0,$.__)("\u5f53\u524d\u663e\u793a\uff1a%s"),document.title),"assertive"))},[k,C,n])}return(0,H.createElement)(H.Fragment,null,e?(0,H.createElement)(n0,null):null,v,(0,H.createElement)(U.EntityProvider,{kind:"root",type:"site"},(0,H.createElement)(U.EntityProvider,{kind:"postType",type:i,id:r},(0,H.createElement)(I.BlockContextProvider,{value:S},(0,H.createElement)(oc,null),v&&(0,H.createElement)(Kc,null),(0,H.createElement)(we,{isDistractionFree:!0,enableRegionNavigation:!1,className:j()("edit-site-editor__interface-skeleton",{"show-icon-labels":p,"is-loading":e}),notices:(0,H.createElement)(N.EditorSnackbars,null),content:(0,H.createElement)(H.Fragment,null,(0,H.createElement)(Jc,null),v&&(0,H.createElement)(N.EditorNotices,null),E&&t&&(0,H.createElement)(H.Fragment,null,(0,H.createElement)(zc,null),(0,H.createElement)(a0,{rules:s0})),"text"===o&&t&&v&&(0,H.createElement)(Gc,null),a&&!t&&(0,H.createElement)(W.Notice,{status:"warning",isDismissible:!1},(0,$.__)("\u60a8\u8bd5\u56fe\u7f16\u8f91\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u9879\u76ee\u3002\u4e5f\u8bb8\u8be5\u9879\u76ee\u5df2\u88ab\u5220\u9664\uff1f")),v&&(0,H.createElement)(Uc,null)),secondarySidebar:v&&(f&&(0,H.createElement)(Wc,null)||b&&(0,H.createElement)(Zc,null)),sidebar:v&&u&&(0,H.createElement)(H.Fragment,null,(0,H.createElement)(ye.Slot,{scope:"core/edit-site"}),(0,H.createElement)(vl,null)),footer:y&&(0,H.createElement)(I.BlockBreadcrumb,{rootLabelText:g?(0,$.__)("\u9875\u9762"):(0,$.__)("\u6a21\u677f")}),labels:{...r0,secondarySidebar:w}})))))}function l0({text:e,children:t}){e=(0,q.useCopyToClipboard)(e);return(0,H.createElement)(W.Button,{variant:"secondary",ref:e},t)}function c0({message:e,error:t}){t=[(0,H.createElement)(l0,{key:"copy-error",text:t.stack},(0,$.__)("\u590d\u5236\u9519\u8bef"))];return(0,H.createElement)(I.Warning,{className:"editor-error-boundary",actions:t},e)}class u0 extends H.Component{constructor(){super(...arguments),this.state={error:null}}componentDidCatch(e){(0,Ye.doAction)("editor.ErrorBoundary.errorLogged",e)}static getDerivedStateFromError(e){return{error:e}}render(){return this.state.error?(0,H.createElement)(c0,{message:(0,$.__)("\u7f16\u8f91\u5668\u9047\u5230\u4e86\u672a\u77e5\u9519\u8bef\u3002"),error:this.state.error}):this.props.children}}function m0({path:e,categoryType:t,categoryId:n},a){return"/gc_template/all"===e||"/gc_template_part/all"===e||"/patterns"===e&&(!a||!!t&&!!n)}var d0=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"})),p0=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"m12 20-4.5-3.6-.9 1.2L12 22l5.5-4.4-.9-1.2L12 20zm0-16 4.5 3.6.9-1.2L12 2 6.5 6.4l.9 1.2L12 4z"})),_0=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"}));const g0=[{keyCombination:{modifier:"primary",character:"b"},description:(0,$.__)("\u5c06\u9009\u4e2d\u7684\u6587\u5b57\u52a0\u7c97\u3002")},{keyCombination:{modifier:"primary",character:"i"},description:(0,$.__)("\u5c06\u9009\u4e2d\u7684\u6587\u5b57\u8bbe\u4e3a\u659c\u4f53\u3002")},{keyCombination:{modifier:"primary",character:"k"},description:(0,$.__)("\u5c06\u9009\u4e2d\u7684\u6587\u5b57\u8f6c\u6362\u4e3a\u94fe\u63a5\u3002")},{keyCombination:{modifier:"primaryShift",character:"k"},description:(0,$.__)("\u79fb\u9664\u94fe\u63a5\u3002")},{keyCombination:{character:"[["},description:(0,$.__)("\u63d2\u5165\u4e00\u4e2a\u6307\u5411\u6587\u7ae0\u6216\u9875\u9762\u7684\u94fe\u63a5\u3002")},{keyCombination:{modifier:"primary",character:"u"},description:(0,$.__)("\u7ed9\u9009\u4e2d\u7684\u6587\u5b57\u52a0\u4e0b\u5212\u7ebf\u3002")},{keyCombination:{modifier:"access",character:"d"},description:(0,$.__)("\u4e3a\u6240\u9009\u6587\u672c\u6dfb\u52a0\u5220\u9664\u7ebf\u3002")},{keyCombination:{modifier:"access",character:"x"},description:(0,$.__)("\u5c06\u9009\u5b9a\u7684\u6587\u672c\u8bbe\u4e3a\u5185\u8054\u4ee3\u7801\u3002")},{keyCombination:{modifier:"access",character:"0"},description:(0,$.__)("\u5c06\u5f53\u524d\u6807\u9898\u8f6c\u6362\u4e3a\u6bb5\u843d\u3002")},{keyCombination:{modifier:"access",character:"1-6"},description:(0,$.__)("\u5c06\u5f53\u524d\u6bb5\u843d\u6216\u6807\u9898\u8f6c\u6362\u4e3a\u7ea7\u522b\u4e3ah1\u5230h6\u7684\u6807\u9898\u3002")}];function h0({keyCombination:e,forceAriaLabel:t}){var n=e.modifier?h.displayShortcutList[e.modifier](e.character):e.character,e=e.modifier?h.shortcutAriaLabel[e.modifier](e.character):e.character;return(0,H.createElement)("kbd",{className:"edit-site-keyboard-shortcut-help-modal__shortcut-key-combination","aria-label":t||e},(Array.isArray(n)?n:[n]).map((e,t)=>"+"===e?(0,H.createElement)(H.Fragment,{key:t},e):(0,H.createElement)("kbd",{key:t,className:"edit-site-keyboard-shortcut-help-modal__shortcut-key"},e)))}function v0({description:e,keyCombination:t,aliases:n=[],ariaLabel:a}){return(0,H.createElement)(H.Fragment,null,(0,H.createElement)("div",{className:"edit-site-keyboard-shortcut-help-modal__shortcut-description"},e),(0,H.createElement)("div",{className:"edit-site-keyboard-shortcut-help-modal__shortcut-term"},(0,H.createElement)(h0,{keyCombination:t,forceAriaLabel:a}),n.map((e,t)=>(0,H.createElement)(h0,{keyCombination:e,forceAriaLabel:a,key:t}))))}function E0({name:a}){var{keyCombination:e,description:t,aliases:n}=(0,G.useSelect)(e=>{var{getShortcutKeyCombination:e,getShortcutDescription:t,getShortcutAliases:n}=e(Q.store);return{keyCombination:e(a),aliases:n(a),description:t(a)}},[a]);return e?(0,H.createElement)(v0,{keyCombination:e,description:t,aliases:n}):null}const y0="edit-site/keyboard-shortcut-help",f0=({shortcuts:e})=>(0,H.createElement)("ul",{className:"edit-site-keyboard-shortcut-help-modal__shortcut-list",role:"list"},e.map((e,t)=>(0,H.createElement)("li",{className:"edit-site-keyboard-shortcut-help-modal__shortcut",key:t},"string"==typeof e?(0,H.createElement)(E0,{name:e}):(0,H.createElement)(v0,{...e})))),b0=({title:e,shortcuts:t,className:n})=>(0,H.createElement)("section",{className:j()("edit-site-keyboard-shortcut-help-modal__section",n)},!!e&&(0,H.createElement)("h2",{className:"edit-site-keyboard-shortcut-help-modal__section-title"},e),(0,H.createElement)(f0,{shortcuts:t})),w0=({title:e,categoryName:t,additionalShortcuts:n=[]})=>{var a=(0,G.useSelect)(e=>e(Q.store).getCategoryShortcuts(t),[t]);return(0,H.createElement)(b0,{title:e,shortcuts:a.concat(n)})};function S0(){const e=(0,G.useSelect)(e=>e(D).isModalActive(y0)),{closeModal:t,openModal:n}=(0,G.useDispatch)(D);var a=()=>e?t():n(y0);return(0,Q.useShortcut)("core/edit-site/keyboard-shortcuts",a),e?(0,H.createElement)(W.Modal,{className:"edit-site-keyboard-shortcut-help-modal",title:(0,$.__)("\u952e\u76d8\u5feb\u6377\u952e"),onRequestClose:a},(0,H.createElement)(b0,{className:"edit-site-keyboard-shortcut-help-modal__main-shortcuts",shortcuts:["core/edit-site/keyboard-shortcuts"]}),(0,H.createElement)(w0,{title:(0,$.__)("\u5168\u5c40\u5feb\u6377\u952e"),categoryName:"global"}),(0,H.createElement)(w0,{title:(0,$.__)("\u9009\u5b9a\u5feb\u6377\u952e"),categoryName:"selection"}),(0,H.createElement)(w0,{title:(0,$.__)("\u533a\u5757\u5feb\u6377\u952e"),categoryName:"block",additionalShortcuts:[{keyCombination:{character:"/"},description:(0,$.__)("\u5728\u6dfb\u52a0\u65b0\u6bb5\u843d\u540e\u4fee\u6539\u533a\u5757\u7c7b\u578b\u3002"),ariaLabel:(0,$.__)("\u6b63\u659c\u6760")}]}),(0,H.createElement)(b0,{title:(0,$.__)("\u6587\u5b57\u5185\u5bb9\u683c\u5f0f\u5316"),shortcuts:g0})):null}function x0(e){const{featureName:t,onToggle:n=()=>{},...a}=e;e=(0,G.useSelect)(e=>!!e(Z.store).get("core/edit-site",t),[t]);const r=(0,G.useDispatch)(Z.store)["toggle"];return(0,H.createElement)(Be,{onChange:()=>{n(),r("core/edit-site",t)},isChecked:e,...a})}const k0="edit-site/preferences";function C0(){const e=(0,G.useSelect)(e=>e(D).isModalActive(k0)),{closeModal:t,openModal:n}=(0,G.useDispatch)(D);const a=(0,G.useRegistry)(),{closeGeneralSidebar:r,setIsListViewOpened:i,setIsInserterOpened:s}=(0,G.useDispatch)(K),o=(0,G.useDispatch)(Z.store)["set"],l=()=>{a.batch(()=>{o("core/edit-site","fixedToolbar",!1),s(!1),i(!1),r()})};var c=(0,H.useMemo)(()=>[{name:"general",tabLabel:(0,$.__)("\u5e38\u89c4"),content:(0,H.createElement)(Pe,{title:(0,$.__)("\u5916\u89c2"),description:(0,$.__)("\u81ea\u5b9a\u4e49\u4e0e\u533a\u5757\u7f16\u8f91\u5668\u754c\u9762\u548c\u7f16\u8f91\u6d41\u7a0b\u76f8\u5173\u7684\u9009\u9879\u3002")},(0,H.createElement)(x0,{featureName:"distractionFree",onToggle:l,help:(0,$.__)("\u901a\u8fc7\u9690\u85cf\u5de5\u5177\u680f\u548c\u5176\u4ed6\u5143\u7d20\u6765\u96c6\u4e2d\u7cbe\u529b\u5199\u4f5c\uff0c\u51cf\u5c11\u89c6\u89c9\u5e72\u6270\u3002"),label:(0,$.__)("\u4e13\u6ce8")}),(0,H.createElement)(x0,{featureName:"focusMode",help:(0,$.__)("\u9ad8\u4eae\u663e\u793a\u5f53\u524d\u533a\u5757\u5e76\u6de1\u5316\u5176\u4ed6\u5185\u5bb9\u3002"),label:(0,$.__)("\u63a2\u7167\u706f\u6a21\u5f0f")}),(0,H.createElement)(x0,{featureName:"showIconLabels",label:(0,$.__)("\u663e\u793a\u6309\u94ae\u6587\u5b57\u6807\u7b7e"),help:(0,$.__)("\u5728\u6309\u94ae\u4e0a\u663e\u793a\u6587\u5b57\u800c\u975e\u56fe\u6807")}),(0,H.createElement)(x0,{featureName:"showListViewByDefault",help:(0,$.__)("\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6253\u5f00\u533a\u5757\u5217\u8868\u89c6\u56fe\u7684\u4fa7\u8fb9\u680f\u3002"),label:(0,$.__)("\u59cb\u7ec8\u6253\u5f00\u5217\u8868\u89c6\u56fe")}),(0,H.createElement)(x0,{featureName:"showBlockBreadcrumbs",help:(0,$.__)("\u5728\u7f16\u8f91\u5668\u7684\u5e95\u90e8\u663e\u793a\u533a\u5757\u7684\u9762\u5305\u5c51\u3002"),label:(0,$.__)("\u663e\u793a\u533a\u5757\u9762\u5305\u5c51")}))},{name:"blocks",tabLabel:(0,$.__)("\u533a\u5757"),content:(0,H.createElement)(Pe,{title:(0,$.__)("\u533a\u5757\u4ea4\u4e92"),description:(0,$.__)("\u81ea\u5b9a\u4e49\u60a8\u4e0e\u533a\u5757\u5e93\u548c\u7f16\u8f91\u753b\u5e03\u4e2d\u7684\u533a\u5757\u7684\u4ea4\u4e92\u65b9\u5f0f\u3002")},(0,H.createElement)(x0,{featureName:"keepCaretInsideBlock",help:(0,$.__)("\u963b\u6b62\u6587\u5b57\u5149\u6807\u79bb\u5f00\u533a\u5757\u4ee5\u8f85\u52a9\u5c4f\u5e55\u9605\u8bfb\u5668\u3002"),label:(0,$.__)("\u5728\u533a\u5757\u5185\u5305\u542b\u6587\u672c\u5149\u6807")}))}]);return e?(0,H.createElement)(ke,{closeModal:()=>e?t():n(k0)},(0,H.createElement)(Me,{sections:c})):null}const{Fill:T0,Slot:N0}=(0,W.createSlotFill)("EditSiteToolsMoreMenuGroup");T0.Slot=({fillProps:e})=>(0,H.createElement)(N0,{fillProps:e},e=>e&&0<e.length);var I0=T0,d=Tm(8981),M0=Tm.n(d),P0=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M18 11.3l-1-1.1-4 4V3h-1.5v11.3L7 10.2l-1 1.1 6.2 5.8 5.8-5.8zm.5 3.7v3.5h-13V15H4v5h16v-5h-1.5z"}));function B0(){const r=(0,G.useDispatch)(Y.store)["createErrorNotice"];return(0,H.createElement)(W.MenuItem,{role:"menuitem",icon:P0,onClick:async function(){try{var n=await It()({path:"/gc-block-editor/v1/export",parse:!1,headers:{Accept:"application/zip"}}),e=await n.blob(),t=n.headers.get("content-disposition").match(/=(.+)\.zip/),a=t[1]||"edit-site-export";M0()(e,a+".zip","application/zip")}catch(e){let t={};try{t=await e.json()}catch(e){}n=t.message&&"unknown_error"!==t.code?t.message:(0,$.__)("\u521b\u5efa\u524d\u7aef\u5bfc\u51fa\u6570\u636e\u65f6\u51fa\u9519\u3002");r(n,{type:"snackbar"})}},info:(0,$.__)("\u4e0b\u8f7d\u5305\u542b\u5df2\u66f4\u65b0\u6a21\u7248\u548c\u6837\u5f0f\u7684\u4e3b\u9898\u3002")},(0,$._x)("\u5bfc\u51fa","site exporter menu item"))}function R0(){const e=(0,G.useDispatch)(Y.store)["createNotice"];var t=(0,G.useSelect)(a=>()=>{var{getEditedPostId:e,getEditedPostType:t}=a(K),n=a(U.store)["getEditedEntityRecord"],n=n("postType",t(),e());if(n){if("function"==typeof n.content)return n.content(n);if(n.blocks)return(0,b.__unstableSerializeAndClean)(n.blocks);if(n.content)return n.content}return""},[]);t=(0,q.useCopyToClipboard)(t,function(){e("info",(0,$.__)("\u5df2\u590d\u5236\u6240\u6709\u5185\u5bb9\u3002"),{isDismissible:!0,type:"snackbar"})});return(0,H.createElement)(W.MenuItem,{ref:t},(0,$.__)("\u590d\u5236\u5168\u90e8\u533a\u5757"))}const L0=[{value:"visual",label:(0,$.__)("\u53ef\u89c6\u5316\u7f16\u8f91\u5668")},{value:"text",label:(0,$.__)("\u4ee3\u7801\u7f16\u8f91\u5668")}];function D0(){const{shortcut:t,mode:n}=(0,G.useSelect)(e=>({shortcut:e(Q.store).getShortcutRepresentation("core/edit-site/toggle-mode"),isRichEditingEnabled:e(K).getSettings().richEditingEnabled,isCodeEditingEnabled:e(K).getSettings().codeEditingEnabled,mode:e(K).getEditorMode()}),[]);var e=(0,G.useDispatch)(K)["switchEditorMode"],a=L0.map(e=>e.value!==n?{...e,shortcut:t}:e);return(0,H.createElement)(W.MenuGroup,{label:(0,$.__)("\u7f16\u8f91")},(0,H.createElement)(W.MenuItemsChoice,{choices:a,value:n,onSelect:e}))}function A0({showIconLabels:e}){const t=(0,G.useRegistry)(),n=(0,G.useSelect)(e=>e(Z.store).get("core/edit-site","distractionFree"),[]),{setIsInserterOpened:a,setIsListViewOpened:r,closeGeneralSidebar:i}=(0,G.useDispatch)(K),s=(0,G.useDispatch)(D)["openModal"],o=(0,G.useDispatch)(Z.store)["set"],l=()=>{t.batch(()=>{o("core/edit-site","fixedToolbar",!1),a(!1),r(!1),i()})};return(0,H.createElement)(H.Fragment,null,(0,H.createElement)(xe,{toggleProps:{showTooltip:!e,...e&&{variant:"tertiary"}}},({onClose:e})=>(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.MenuGroup,{label:(0,$._x)("\u89c6\u56fe","noun")},(0,H.createElement)(Z.PreferenceToggleMenuItem,{scope:"core/edit-site",name:"fixedToolbar",disabled:n,label:(0,$.__)("\u9876\u90e8\u5de5\u5177\u680f"),info:(0,$.__)("\u5728\u4e00\u4e2a\u4f4d\u7f6e\u8bbf\u95ee\u6240\u6709\u7684\u533a\u5757\u548c\u6587\u6863\u5de5\u5177"),messageActivated:(0,$.__)("\u9876\u90e8\u5de5\u5177\u680f\u5df2\u542f\u7528"),messageDeactivated:(0,$.__)("\u9876\u90e8\u5de5\u5177\u680f\u5df2\u7981\u7528")}),(0,H.createElement)(Z.PreferenceToggleMenuItem,{scope:"core/edit-site",name:"focusMode",label:(0,$.__)("\u63a2\u7167\u706f\u6a21\u5f0f"),info:(0,$.__)("\u96c6\u4e2d\u6ce8\u610f\u529b\u5728\u4e00\u4e2a\u533a\u5757\u4e0a"),messageActivated:(0,$.__)("\u63a2\u7167\u706f\u6a21\u5f0f\u5df2\u542f\u7528"),messageDeactivated:(0,$.__)("\u63a2\u7167\u706f\u6a21\u5f0f\u5df2\u7981\u7528")}),(0,H.createElement)(Z.PreferenceToggleMenuItem,{scope:"core/edit-site",name:"distractionFree",onToggle:l,label:(0,$.__)("\u4e13\u6ce8"),info:(0,$.__)("\u5e73\u9759\u5730\u5199\u4f5c"),messageActivated:(0,$.__)("\u4e13\u6ce8\u5199\u4f5c\u6a21\u5f0f\u5df2\u5f00\u542f"),messageDeactivated:(0,$.__)("\u4e13\u6ce8\u5199\u4f5c\u6a21\u5f0f\u5df2\u5173\u95ed"),shortcut:h.displayShortcut.primaryShift("\\")})),(0,H.createElement)(D0,null),(0,H.createElement)(pe.Slot,{name:"core/edit-site/plugin-more-menu",label:(0,$.__)("\u63d2\u4ef6"),as:W.MenuGroup,fillProps:{onClick:e}}),(0,H.createElement)(W.MenuGroup,{label:(0,$.__)("\u5de5\u5177")},(0,H.createElement)(B0,null),(0,H.createElement)(W.MenuItem,{onClick:()=>s(y0),shortcut:h.displayShortcut.access("h")},(0,$.__)("\u952e\u76d8\u5feb\u6377\u952e")),(0,H.createElement)(R0,null),(0,H.createElement)(W.MenuItem,{icon:_0,role:"menuitem",href:(0,$.__)("https://www.gechiui.com/support/site-editor/"),target:"_blank",rel:"noopener noreferrer"},(0,$.__)("\u5e2e\u52a9"),(0,H.createElement)(W.VisuallyHidden,{as:"span"},(0,$.__)("\uff08\u5728\u65b0\u7a97\u53e3\u4e2d\u6253\u5f00\uff09"))),(0,H.createElement)(I0.Slot,{fillProps:{onClose:e}})),(0,H.createElement)(W.MenuGroup,null,(0,H.createElement)(W.MenuItem,{onClick:()=>s(k0)},(0,$.__)("\u504f\u597d\u8bbe\u7f6e"))))),(0,H.createElement)(S0,null),(0,H.createElement)(C0,null))}var F0=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})),V0=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"}));var z0=(0,H.forwardRef)(function(e,t){var n=(0,G.useSelect)(e=>e(U.store).hasUndo(),[]),a=(0,G.useDispatch)(U.store)["undo"];return(0,H.createElement)(W.Button,{...e,ref:t,icon:(0,$.isRTL)()?V0:F0,label:(0,$.__)("\u64a4\u9500"),shortcut:h.displayShortcut.primary("z"),"aria-disabled":!n,onClick:n?a:void 0})});var O0=(0,H.forwardRef)(function(e,t){var n=(0,h.isAppleOS)()?h.displayShortcut.primaryShift("z"):h.displayShortcut.primary("y"),a=(0,G.useSelect)(e=>e(U.store).hasRedo(),[]),r=(0,G.useDispatch)(U.store)["redo"];return(0,H.createElement)(W.Button,{...e,ref:t,icon:(0,$.isRTL)()?F0:V0,label:(0,$.__)("\u91cd\u505a"),shortcut:n,"aria-disabled":!a,onClick:a?r:void 0})});function H0(){return(0,G.useSelect)(e=>e(K).isPage())?(0,H.createElement)(G0,null):(0,H.createElement)(U0,null)}function G0(){const{hasPageContentFocus:e,hasResolved:t,isFound:n,title:a}=(0,G.useSelect)(e=>{var{hasPageContentFocus:t,getEditedPostContext:n}=e(K),{getEditedEntityRecord:e,hasFinishedResolution:a}=e(U.store),n=n(),n=["postType",n.postType,n.postId],e=e(...n);return{hasPageContentFocus:t(),hasResolved:a("getEditedEntityRecord",n),isFound:!!e,title:e?.title}},[]),r=(0,G.useDispatch)(K)["setHasPageContentFocus"],[i,s]=(0,H.useState)(!1),o=(0,H.useRef)(!1);return(0,H.useEffect)(()=>{o.current&&!e&&s(!0),o.current=e},[e]),t?n?e?(0,H.createElement)(j0,{className:j()("is-page",{"is-animated":i}),icon:$n},a):(0,H.createElement)(U0,{className:"is-animated",onBack:()=>r(!0)}):(0,H.createElement)("div",{className:"edit-site-document-actions"},(0,$.__)("\u627e\u4e0d\u5230\u6587\u6863")):null}function U0({className:e,onBack:t}){var{isLoaded:n,record:a,getTitle:r,icon:i}=Lr();if(!n)return null;if(!a)return(0,H.createElement)("div",{className:"edit-site-document-actions"},(0,$.__)("\u627e\u4e0d\u5230\u6587\u6863"));n=function(e){let t="";switch(e){case"gc_navigation":t="navigation menu";break;case"gc_template_part":t="template part";break;default:t="template"}return t}(a.type);let s=i;return"gc_navigation"===a.type?s=jn:"gc_block"===a.type&&(s=qn),(0,H.createElement)(j0,{className:e,icon:s,onBack:t},(0,H.createElement)(W.VisuallyHidden,{as:"span"},(0,$.sprintf)((0,$.__)("\u7f16\u8f91%s\uff1a"),n)),r())}function j0({className:e,icon:t,children:n,onBack:a}){const r=(0,G.useDispatch)(J.store)["open"];return(0,H.createElement)("div",{className:j()("edit-site-document-actions",e)},a&&(0,H.createElement)(W.Button,{className:"edit-site-document-actions__back",icon:(0,$.isRTL)()?Qn:Kn,onClick:e=>{e.stopPropagation(),a()}},(0,$.__)("\u8fd4\u56de")),(0,H.createElement)(W.Button,{className:"edit-site-document-actions__command",onClick:()=>r()},(0,H.createElement)(W.__experimentalHStack,{className:"edit-site-document-actions__title",spacing:1,justify:"center"},(0,H.createElement)(I.BlockIcon,{icon:t}),(0,H.createElement)(W.__experimentalText,{size:"body",as:"h1"},n)),(0,H.createElement)("span",{className:"edit-site-document-actions__shortcut"},h.displayShortcut.primary("k"))))}const W0=X(I.privateApis)["useShouldContextualToolbarShow"],$0=e=>{e.preventDefault()};function Z0(){const e=(0,H.useRef)(),{deviceType:t,templateType:n,isInserterOpen:a,isListViewOpen:r,listViewShortcut:i,isVisualMode:s,isDistractionFree:o,blockEditorMode:l,homeUrl:c,showIconLabels:u,editorCanvasView:m}=(0,G.useSelect)(e=>{var{__experimentalGetPreviewDeviceType:t,getEditedPostType:n,isInserterOpened:a,isListViewOpened:r,getEditorMode:i}=e(K),s=e(Q.store)["getShortcutRepresentation"],o=e(I.store)["__unstableGetEditorMode"],n=n(),l=e(U.store)["getUnstableBase"];return{deviceType:t(),templateType:n,isInserterOpen:a(),isListViewOpen:r(),listViewShortcut:s("core/edit-site/toggle-list-view"),isVisualMode:"visual"===i(),blockEditorMode:o(),homeUrl:l()?.home,showIconLabels:e(Z.store).get("core/edit-site","showIconLabels"),editorCanvasView:X(e(K)).getEditorCanvasContainerView(),isDistractionFree:e(Z.store).get("core/edit-site","distractionFree")}},[]);var d=(0,G.useSelect)(Z.store)["get"],d=d(K.name,"fixedToolbar");const{__experimentalSetPreviewDeviceType:p,setIsInserterOpened:_,setIsListViewOpened:g}=(0,G.useDispatch)(K),h=(0,G.useDispatch)(I.store)["__unstableSetEditorMode"];var v=(0,q.useReducedMotion)(),E=(0,q.useViewportMatch)("medium"),y=(0,H.useCallback)(()=>{a?(e.current.focus(),_(!1)):_(!0)},[a,_]),f=(0,H.useCallback)(()=>g(!r),[g,r]),{shouldShowContextualToolbar:b,canFocusHiddenToolbar:w,fixedToolbarCanBeFocused:S}=W0(),b=b||w||S,w=!(0,W.__experimentalUseSlotFills)(Ta)?.length,S="gc_template_part"===n||"gc_navigation"===n,x=(0,$._x)("Toggle block inserter","Generic label for block inserter button"),k=a?(0,$.__)("\u5173\u95ed"):(0,$.__)("\u6dfb\u52a0"),C=window?.__experimentalEnableZoomedOutView&&s;const T="zoom-out"===l;var N={isDistractionFree:{y:"-50px"},isDistractionFreeHovering:{y:0},view:{y:0},edit:{y:0}},v={type:"tween",duration:v?0:.2,ease:"easeOut"};return(0,H.createElement)("div",{className:j()("edit-site-header-edit-mode",{"show-icon-labels":u})},w&&(0,H.createElement)(I.NavigableToolbar,{as:W.__unstableMotion.div,className:"edit-site-header-edit-mode__start","aria-label":(0,$.__)("\u6587\u6863\u5de5\u5177"),shouldUseKeyboardFocusShortcut:!b,variants:N,transition:v},(0,H.createElement)("div",{className:"edit-site-header-edit-mode__toolbar"},!o&&(0,H.createElement)(W.ToolbarItem,{ref:e,as:W.Button,className:"edit-site-header-edit-mode__inserter-toggle",variant:"primary",isPressed:a,onMouseDown:$0,onClick:y,disabled:!s,icon:sr,label:u?k:x,showTooltip:!u}),E&&(0,H.createElement)(H.Fragment,null,!d&&(0,H.createElement)(W.ToolbarItem,{as:I.ToolSelector,showTooltip:!u,variant:u?"tertiary":void 0,disabled:!s}),(0,H.createElement)(W.ToolbarItem,{as:z0,showTooltip:!u,variant:u?"tertiary":void 0}),(0,H.createElement)(W.ToolbarItem,{as:O0,showTooltip:!u,variant:u?"tertiary":void 0}),!o&&(0,H.createElement)(W.ToolbarItem,{as:W.Button,className:"edit-site-header-edit-mode__list-view-toggle",disabled:!s||T,icon:d0,isPressed:r,label:(0,$.__)("\u5217\u8868\u89c6\u56fe"),onClick:f,shortcut:i,showTooltip:!u,variant:u?"tertiary":void 0}),C&&!o&&!d&&(0,H.createElement)(W.ToolbarItem,{as:W.Button,className:"edit-site-header-edit-mode__zoom-out-view-toggle",icon:p0,isPressed:T,label:(0,$.__)("\u7f29\u5c0f\u89c6\u56fe"),onClick:()=>{p("desktop"),h(T?"edit":"zoom-out")}})))),!o&&(0,H.createElement)("div",{className:"edit-site-header-edit-mode__center"},w?(0,H.createElement)(H0,null):Ca(m)),(0,H.createElement)("div",{className:"edit-site-header-edit-mode__end"},(0,H.createElement)(W.__unstableMotion.div,{className:"edit-site-header-edit-mode__actions",variants:N,transition:v},!S&&w&&(0,H.createElement)("div",{className:j()("edit-site-header-edit-mode__preview-options",{"is-zoomed-out":T})},(0,H.createElement)(I.__experimentalPreviewOptions,{deviceType:t,setDeviceType:p,label:(0,$.__)("\u67e5\u770b")},(0,H.createElement)(W.MenuGroup,null,(0,H.createElement)(W.MenuItem,{href:c,target:"_blank",icon:_0},(0,$.__)("\u67e5\u770b\u524d\u7aef"),(0,H.createElement)(W.VisuallyHidden,{as:"span"},(0,$.__)("\uff08\u5728\u65b0\u7a97\u53e3\u4e2d\u6253\u5f00\uff09")))))),(0,H.createElement)(us,null),!o&&(0,H.createElement)(ve.Slot,{scope:"core/edit-site"}),(0,H.createElement)(A0,{showIconLabels:u}))))}var q0=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M14.033 1.195a2.387 2.387 0 0 1-.87 3.235l-6.98 4.04a.602.602 0 0 0-.3.522v6.342a.6.6 0 0 0 .3.521l5.524 3.199a.585.585 0 0 0 .586 0l5.527-3.199a.603.603 0 0 0 .299-.52V11.39l-4.969 2.838a2.326 2.326 0 0 1-3.19-.9 2.388 2.388 0 0 1 .89-3.23l7.108-4.062C20.123 4.8 22.8 6.384 22.8 8.901v6.914a4.524 4.524 0 0 1-2.245 3.919l-6.345 3.672a4.407 4.407 0 0 1-4.422 0l-6.344-3.672A4.524 4.524 0 0 1 1.2 15.816V8.51a4.524 4.524 0 0 1 2.245-3.918l7.393-4.28a2.326 2.326 0 0 1 3.195.883z"}));function Y0({className:e}){var{isRequestingSite:t,siteIconUrl:n}=(0,G.useSelect)(e=>{e=e(U.store).getEntityRecord,e=e("root","__unstableBase",void 0);return{isRequestingSite:!e,siteIconUrl:e?.site_icon_url}},[]);return t&&!n?(0,H.createElement)("div",{className:"edit-site-site-icon__image"}):(t=n?(0,H.createElement)("img",{className:"edit-site-site-icon__image",alt:(0,$.__)("\u7cfb\u7edf\u56fe\u6807"),src:n}):(0,H.createElement)(W.Icon,{className:"edit-site-site-icon__icon",size:"48px",icon:q0}),(0,H.createElement)("div",{className:j()(e,"edit-site-site-icon")},t))}var X0=(0,H.forwardRef)(({isTransparent:e,...t},n)=>{const{canvasMode:a,dashboardLink:r,homeUrl:i}=(0,G.useSelect)(e=>{var{getCanvasMode:t,getSettings:n}=X(e(K)),e=e(U.store)["getUnstableBase"];return{canvasMode:t(),dashboardLink:n().__experimentalDashboardLink||"index.php",homeUrl:e()?.home}},[]),s=(0,G.useDispatch)(J.store)["open"];var o=(0,q.useReducedMotion)();const{setCanvasMode:l,__experimentalSetPreviewDeviceType:c}=X((0,G.useDispatch)(K)),u=(0,G.useDispatch)(I.store)["clearSelectedBlock"];var m="view"===a?{href:r,label:(0,$.__)("\u8f6c\u5230\u4eea\u8868\u677f")}:{href:r,role:"button",label:(0,$.__)("\u6253\u5f00\u5bfc\u822a"),onClick:e=>{e.preventDefault(),"edit"===a&&(u(),c("desktop"),l("view"))}},d=(0,G.useSelect)(e=>e(U.store).getEntityRecord("root","site")?.title,[]);return(0,H.createElement)(W.__unstableMotion.div,{ref:n,...t,className:j()("edit-site-site-hub",t.className),initial:!1,transition:{type:"tween",duration:o?0:.3,ease:"easeOut"}},(0,H.createElement)(W.__experimentalHStack,{justify:"space-between",alignment:"center",className:"edit-site-site-hub__container"},(0,H.createElement)(W.__experimentalHStack,{justify:"flex-start",className:"edit-site-site-hub__text-content",spacing:"0"},(0,H.createElement)(W.__unstableMotion.div,{className:j()("edit-site-site-hub__view-mode-toggle-container",{"has-transparent-background":e}),layout:!0,transition:{type:"tween",duration:o?0:.3,ease:"easeOut"}},(0,H.createElement)(W.Button,{...m,className:"edit-site-layout__view-mode-toggle"},(0,H.createElement)(W.__unstableMotion.div,{initial:!1,animate:{scale:"view"===a?.5:1},whileHover:{scale:"view"===a?.5:.96},transition:{type:"tween",duration:o?0:.3,ease:"easeOut"}},(0,H.createElement)(Y0,{className:"edit-site-layout__view-mode-toggle-icon"})))),(0,H.createElement)(W.__unstableAnimatePresence,null,(0,H.createElement)(W.__unstableMotion.div,{layout:"edit"===a,animate:{opacity:"view"===a?1:0},exit:{opacity:0},className:j()("edit-site-site-hub__site-title",{"is-transparent":e}),transition:{type:"tween",duration:o?0:.2,ease:"easeOut",delay:"view"===a?.1:0}},(0,M.decodeEntities)(d))),"view"===a&&(0,H.createElement)(W.Button,{href:i,target:"_blank",label:(0,$.__)("\u67e5\u770b\u524d\u7aef\uff08\u5728\u65b0\u9009\u9879\u5361\u4e2d\u6253\u5f00\uff09"),"aria-label":(0,$.__)("\u67e5\u770b\u524d\u7aef\uff08\u5728\u65b0\u9009\u9879\u5361\u4e2d\u6253\u5f00\uff09"),icon:_0,className:"edit-site-site-hub__site-view-link"})),"view"===a&&(0,H.createElement)(W.Button,{className:j()("edit-site-site-hub_toggle-command-center",{"is-transparent":e}),icon:tr,onClick:()=>s(),label:(0,$.__)("\u6253\u5f00\u547d\u4ee4\u9762\u677f")})))});const K0={position:void 0,userSelect:void 0,cursor:void 0,width:void 0,height:void 0,top:void 0,right:void 0,bottom:void 0,left:void 0},Q0=320,J0=1300,eu=9/19.5,tu={width:"100%",height:"100%"};function nu(e,t){var n,a=1-Math.max(0,Math.min(1,(e-Q0)/(J0-Q0)));return t=t,n=eu,e/(t+(n-t)*a)}var au=function e({isFullWidth:t,isOversized:s,setIsOversized:o,isReady:n,children:a,defaultSize:l,innerContentStyle:r}){const[i,c]=(0,H.useState)(tu),[u,m]=(0,H.useState)(),[d,p]=(0,H.useState)(!1),[_,g]=(0,H.useState)(!1),[h,v]=(0,H.useState)(1);var E=(0,G.useSelect)(e=>X(e(K)).getCanvasMode(),[]);const y=X((0,G.useDispatch)(K)).setCanvasMode;var f={type:"tween",duration:d?0:.5};const b=(0,H.useRef)(null);var w=(0,q.useInstanceId)(e,"edit-site-resizable-frame-handle-help");const S=l.width/l.height;var x={default:{flexGrow:0,height:i.height},fullWidth:{flexGrow:1,height:i.height}},k=d?"active":_?"visible":"hidden";return(0,H.createElement)(W.ResizableBox,{as:W.__unstableMotion.div,ref:b,initial:!1,variants:x,animate:t?"fullWidth":"default",onAnimationComplete:e=>{"fullWidth"===e&&c({width:"100%",height:"100%"})},transition:f,size:i,enable:{top:!1,right:!1,bottom:!1,left:n,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},resizeRatio:h,handleClasses:void 0,handleStyles:{left:K0,right:K0},minWidth:Q0,maxWidth:t?"100%":"150%",maxHeight:"100%",onFocus:()=>g(!0),onBlur:()=>g(!1),onMouseOver:()=>g(!0),onMouseOut:()=>g(!1),handleComponent:{left:"view"===E&&(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.Tooltip,{text:(0,$.__)("\u62d6\u52a8\u8c03\u6574\u5927\u5c0f")},(0,H.createElement)(W.__unstableMotion.button,{key:"handle",role:"separator","aria-orientation":"vertical",className:j()("edit-site-resizable-frame__handle",{"is-resizing":d}),variants:{hidden:{opacity:0,left:0},visible:{opacity:1,left:-16},active:{opacity:1,left:-16,scaleY:1.3}},animate:k,"aria-label":(0,$.__)("\u62d6\u52a8\u8c03\u6574\u5927\u5c0f"),"aria-describedby":w,"aria-valuenow":b.current?.resizable?.offsetWidth||void 0,"aria-valuemin":Q0,"aria-valuemax":l.width,onKeyDown:e=>{["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e=20*(e.shiftKey?5:1)*("ArrowLeft"===e.key?1:-1),e=Math.min(Math.max(Q0,b.current.resizable.offsetWidth+e),l.width),c({width:e,height:nu(e,S)}))},initial:"hidden",exit:"hidden",whileFocus:"active",whileHover:"active"})),(0,H.createElement)("div",{hidden:!0,id:w},(0,$.__)("\u4f7f\u7528\u5de6\u53f3\u7bad\u5934\u952e\u53ef\u4ee5\u8c03\u6574\u753b\u5e03\u7684\u5927\u5c0f\u3002\u6309\u4f4fshift\u952e\u53ef\u4ee5\u4ee5\u8f83\u5927\u7684\u589e\u91cf\u8c03\u6574\u5927\u5c0f\u3002")))},onResizeStart:(e,t,n)=>{m(n.offsetWidth),p(!0)},onResize:(e,t,n,a)=>{var r=a.width/h,r=Math.abs(r),i=a.width<0?r:(l.width-u)/2,i=Math.min(r,i),r=1-(i=0===r?0:i/r),r=(v(r+2*i),u+a.width);o(r>l.width),c({height:s?"100%":nu(r,S)})},onResizeStop:(e,t,n)=>{p(!1),s&&(o(!1),200<n.ownerDocument.documentElement.offsetWidth-n.offsetWidth?c(tu):y("edit"))},className:j()("edit-site-resizable-frame__inner",{"is-resizing":d})},(0,H.createElement)(W.__unstableMotion.div,{className:"edit-site-resizable-frame__inner-content",animate:{borderRadius:t?0:8},transition:f,style:r},a))};const{useLocation:ru,useHistory:iu}=X(n.privateApis);const{useHistory:su,useLocation:ou}=X(n.privateApis);const lu=X(N.privateApis)["EntitiesSavedStatesExtensible"],cu=({onClose:e})=>{var t=(0,N.useEntitiesSavedStatesIsDirty)();let n;n=t.isDirty?(0,$.__)("\u6fc0\u6d3b\u5e76\u4fdd\u5b58"):(0,$.__)("\u542f\u7528");var a=(0,G.useSelect)(U.store)["getTheme"],a=a(bt()),a=(0,H.createElement)("p",null,(0,$.sprintf)("Saving your changes will change your active theme to  %1$s.",a?.name?.rendered));const r=function(){const a=su(),r=ou();return async()=>{if(p()){var e="themes.php?action=activate&stylesheet="+bt()+"&_gcnonce="+window.GC_BLOCK_THEME_ACTIVATE_NONCE;await window.fetch(e);const{gc_theme_preview:t,...n}=r.params;a.replace(n)}}}();return(0,H.createElement)(lu,{...t,additionalPrompt:a,close:e,onSave:async e=>(await r(),e),saveEnabled:!0,saveLabel:n})},uu=({onClose:e})=>p()?(0,H.createElement)(cu,{onClose:e}):(0,H.createElement)(N.EntitiesSavedStates,{close:e});function mu(){var{isSaveViewOpen:e,canvasMode:t}=(0,G.useSelect)(e=>{var{isSaveViewOpened:e,getCanvasMode:t}=X(e(K));return{isSaveViewOpen:e(),canvasMode:t()}},[]);const n=(0,G.useDispatch)(K)["setIsSaveViewOpened"];var a=()=>n(!1);return"view"===t?e?(0,H.createElement)(W.Modal,{className:"edit-site-save-panel__modal",onRequestClose:a,__experimentalHideHeader:!0,contentLabel:(0,$.__)("\u4fdd\u5b58\u524d\u7aef\u3001\u5185\u5bb9\u548c\u6a21\u677f\u66f4\u6539")},(0,H.createElement)(uu,{onClose:a})):null:(0,H.createElement)(fe,{className:j()("edit-site-layout__actions",{"is-entity-save-view-open":e}),ariaLabel:(0,$.__)("\u4fdd\u5b58\u9762\u677f")},e?(0,H.createElement)(uu,{onClose:a}):(0,H.createElement)("div",{className:"edit-site-editor__toggle-save-panel"},(0,H.createElement)(W.Button,{variant:"secondary",className:"edit-site-editor__toggle-save-panel-button",onClick:()=>n(!0),"aria-expanded":!1},(0,$.__)("\u6253\u5f00\u4fdd\u5b58\u9762\u677f"))))}var du=function(){const t=(0,G.useDispatch)(Q.store)["registerShortcut"];return(0,H.useEffect)(()=>{t({name:"core/edit-site/save",category:"global",description:(0,$.__)("\u4fdd\u5b58\u60a8\u7684\u66f4\u6539\u3002"),keyCombination:{modifier:"primary",character:"s"}}),t({name:"core/edit-site/undo",category:"global",description:(0,$.__)("\u64a4\u9500\u60a8\u7684\u4e0a\u4e00\u4e2a\u66f4\u6539\u3002"),keyCombination:{modifier:"primary",character:"z"}}),t({name:"core/edit-site/redo",category:"global",description:(0,$.__)("\u91cd\u505a\u60a8\u64a4\u9500\u7684\u64cd\u4f5c\u3002"),keyCombination:{modifier:"primaryShift",character:"z"},aliases:(0,h.isAppleOS)()?[]:[{modifier:"primary",character:"y"}]}),t({name:"core/edit-site/toggle-list-view",category:"global",description:(0,$.__)("\u6253\u5f00\u533a\u5757\u5217\u8868\u89c6\u56fe\u3002"),keyCombination:{modifier:"access",character:"o"}}),t({name:"core/edit-site/toggle-block-settings-sidebar",category:"global",description:(0,$.__)("\u663e\u793a\u6216\u9690\u85cf\u8bbe\u7f6e\u8fb9\u680f\u3002"),keyCombination:{modifier:"primaryShift",character:","}}),t({name:"core/edit-site/keyboard-shortcuts",category:"main",description:(0,$.__)("\u663e\u793a\u8fd9\u4e9b\u952e\u76d8\u5feb\u6377\u952e\u3002"),keyCombination:{modifier:"access",character:"h"}}),t({name:"core/edit-site/next-region",category:"global",description:(0,$.__)("\u5bfc\u822a\u81f3\u7f16\u8f91\u5668\u7684\u4e0b\u4e00\u4e2a\u529f\u80fd\u533a\u57df\u3002"),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),t({name:"core/edit-site/previous-region",category:"global",description:(0,$.__)("\u5bfc\u822a\u81f3\u7f16\u8f91\u5668\u7684\u4e0a\u4e00\u4e2a\u529f\u80fd\u533a\u57df\u3002"),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"},{modifier:"ctrlShift",character:"~"}]}),t({name:"core/edit-site/toggle-mode",category:"global",description:(0,$.__)("\u5728\u53ef\u89c6\u5316\u7f16\u8f91\u5668\u548c\u4ee3\u7801\u7f16\u8f91\u5668\u95f4\u5207\u6362\u3002"),keyCombination:{modifier:"secondary",character:"m"}}),t({name:"core/edit-site/transform-heading-to-paragraph",category:"block-library",description:(0,$.__)("\u5c06\u6807\u9898\u8f6c\u6362\u4e3a\u6bb5\u843d\u3002"),keyCombination:{modifier:"access",character:"0"}}),[1,2,3,4,5,6].forEach(e=>{t({name:"core/edit-site/transform-paragraph-to-heading-"+e,category:"block-library",description:(0,$.__)("\u5c06\u6bb5\u843d\u8f6c\u6362\u4e3a\u6807\u9898\u3002"),keyCombination:{modifier:"access",character:""+e}})}),t({name:"core/edit-site/toggle-distraction-free",category:"global",description:(0,$.__)("\u5207\u6362\u4e13\u6ce8\u6a21\u5f0f\u3002"),keyCombination:{modifier:"primaryShift",character:"\\"}})},[t]),null};var pu=function(){const{__experimentalGetDirtyEntityRecords:n,isSavingEntityRecord:a}=(0,G.useSelect)(U.store),r=(0,G.useDispatch)(K)["setIsSaveViewOpened"];return(0,Q.useShortcut)("core/edit-site/save",e=>{e.preventDefault();var e=n(),t=!!e.length;!e.some(e=>a(e.kind,e.name,e.key))&&t&&r(!0)}),null},_u=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"}));const gu=X(I.privateApis)["useGlobalStylesReset"],{useHistory:hu,useLocation:vu}=X(n.privateApis);function Eu(){const[e,t]=gu();return{isLoading:!1,commands:(0,H.useMemo)(()=>e?[{name:"core/edit-site/reset-global-styles",label:(0,$.__)("\u5c06\u6837\u5f0f\u91cd\u7f6e\u4e3a\u9ed8\u8ba4\u503c"),icon:_u,callback:({close:e})=>{e(),t()}}]:[],[e,t])}}function yu(){const{openGeneralSidebar:t,setEditorCanvasContainerView:n,setCanvasMode:a}=X((0,G.useDispatch)(K));var e=vu()["params"];const r=!m0(e,(0,q.useViewportMatch)("medium","<")),i=hu(),s=(0,G.useSelect)(e=>{var{getEntityRecord:e,__experimentalGetCurrentGlobalStylesId:t}=e(U.store),t=t();return{canEditCSS:null!==(e=!!(t?e("root","globalStyles",t):void 0)?._links?.["gc:action-edit-css"])&&e}},[])["canEditCSS"],o=X((0,G.useSelect)(K))["getCanvasMode"];return{isLoading:!1,commands:(0,H.useMemo)(()=>s?[{name:"core/edit-site/open-styles-css",label:(0,$.__)("\u6253\u5f00CSS"),icon:Wn,callback:({close:e})=>{e(),r||i.push({path:"/gc_global_styles",canvas:"edit"}),r&&"edit"!==o()&&a("edit"),t("edit-site/global-styles"),n("global-styles-css")}}]:[],[i,t,n,s,r,o,a])}}var fu=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})),bu=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})),wu=(0,H.createElement)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,H.createElement)(t.Path,{d:"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z"})),Su=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,H.createElement)(t.Path,{d:"M18,0 L2,0 C0.9,0 0.01,0.9 0.01,2 L0,12 C0,13.1 0.9,14 2,14 L18,14 C19.1,14 20,13.1 20,12 L20,2 C20,0.9 19.1,0 18,0 Z M18,12 L2,12 L2,2 L18,2 L18,12 Z M9,3 L11,3 L11,5 L9,5 L9,3 Z M9,6 L11,6 L11,8 L9,8 L9,6 Z M6,3 L8,3 L8,5 L6,5 L6,3 Z M6,6 L8,6 L8,8 L6,8 L6,6 Z M3,6 L5,6 L5,8 L3,8 L3,6 Z M3,3 L5,3 L5,5 L3,5 L3,3 Z M6,9 L14,9 L14,11 L6,11 L6,9 Z M12,6 L14,6 L14,8 L12,8 L12,6 Z M12,3 L14,3 L14,5 L12,5 L12,3 Z M15,6 L17,6 L17,8 L15,8 L15,6 Z M15,3 L17,3 L17,5 L15,5 L15,3 Z M10,20 L14,16 L6,16 L10,20 Z"}));const xu=X(n.privateApis)["useHistory"];function ku(){var{isPage:e,canvasMode:t,hasPageContentFocus:n}=(0,G.useSelect)(e=>({isPage:e(K).isPage(),canvasMode:X(e(K)).getCanvasMode(),hasPageContentFocus:e(K).hasPageContentFocus()}),[]);const a=(0,G.useDispatch)(K)["setHasPageContentFocus"];return e&&"edit"===t?((e=[]).push(n?{name:"core/switch-to-template-focus",label:(0,$.__)("\u7f16\u8f91\u6a21\u677f"),icon:Zn,callback:({close:e})=>{a(!1),e()}}:{name:"core/switch-to-page-focus",label:(0,$.__)("\u8fd4\u56de\u9875\u9762"),icon:$n,callback:({close:e})=>{a(!0),e()}}),{isLoading:!1,commands:e}):{isLoading:!1,commands:[]}}function Cu(){const{isLoaded:e,record:t}=Lr(),{removeTemplate:n,revertTemplate:a}=(0,G.useDispatch)(K),r=xu();var i=(0,G.useSelect)(e=>e(K).hasPageContentFocus(),[]);if(!e)return{isLoading:!0,commands:[]};var s=[];if(Bt(t)&&!i&&(o="gc_template"===t.type?(0,$.__)("\u91cd\u7f6e\u6a21\u677f"):(0,$.__)("\u91cd\u7f6e\u6a21\u677f\u90e8\u5206"),s.push({name:"core/reset-template",label:o,icon:Jn,callback:({close:e})=>{a(t),e()}})),Hr(t)&&!i){var o="gc_template"===t.type?(0,$.__)("\u5220\u9664\u6a21\u677f "):(0,$.__)("\u5220\u9664\u6a21\u677f\u90e8\u5206");const l="gc_template"===t.type?"/gc_template":"/gc_template_part/all";s.push({name:"core/remove-template",label:o,icon:_u,callback:({close:e})=>{n(t),r.push({path:l}),e()}})}return{isLoading:!e,commands:s}}function Tu(){const{openGeneralSidebar:t,closeGeneralSidebar:n,setIsInserterOpened:a,setIsListViewOpened:r,switchEditorMode:i}=(0,G.useDispatch)(K),{canvasMode:e,editorMode:s,activeSidebar:o}=(0,G.useSelect)(e=>({canvasMode:X(e(K)).getCanvasMode(),editorMode:e(K).getEditorMode(),activeSidebar:e(D).getActiveComplementaryArea(K.name)}),[]),l=(0,G.useDispatch)(D)["openModal"],c=(0,G.useSelect)(Z.store)["get"],{set:u,toggle:m}=(0,G.useDispatch)(Z.store),d=(0,G.useDispatch)(Y.store)["createInfoNotice"];var p;return"edit"!==e?{isLoading:!1,commands:[]}:((p=[]).push({name:"core/open-settings-sidebar",label:(0,$.__)("\u5207\u6362\u8bbe\u7f6e\u4fa7\u8fb9\u680f"),icon:(0,$.isRTL)()?Is:Ms,callback:({close:e})=>{e(),"edit-site/template"===o?n():t("edit-site/template")}}),p.push({name:"core/open-block-inspector",label:(0,$.__)("\u5207\u6362\u5757\u68c0\u67e5\u5668"),icon:fu,callback:({close:e})=>{e(),"edit-site/block-inspector"===o?n():t("edit-site/block-inspector")}}),p.push({name:"core/toggle-spotlight-mode",label:(0,$.__)("\u5207\u6362\u805a\u5149\u706f\u6a21\u5f0f"),icon:bu,callback:({close:e})=>{m("core/edit-site","focusMode"),e()}}),p.push({name:"core/toggle-distraction-free",label:(0,$.__)("\u5207\u6362\u4e13\u6ce8\u6a21\u5f0f"),icon:bu,callback:({close:e})=>{u("core/edit-site","fixedToolbar",!1),a(!1),r(!1),n(),m("core/edit-site","distractionFree"),d(c("core/edit-site","distractionFree")?(0,$.__)("\u5df2\u6253\u5f00\u4e13\u6ce8\u6a21\u5f0f\u3002"):(0,$.__)("\u4e13\u6ce8\u6a21\u5f0f\u5df2\u5173\u95ed\u3002"),{id:"core/edit-site/distraction-free-mode/notice",type:"snackbar"}),e()}}),p.push({name:"core/toggle-top-toolbar",label:(0,$.__)("\u5207\u6362\u9876\u90e8\u5de5\u5177\u680f"),icon:bu,callback:({close:e})=>{m("core/edit-site","fixedToolbar"),e()}}),p.push({name:"core/toggle-code-editor",label:(0,$.__)("\u5207\u6362\u4ee3\u7801\u7f16\u8f91\u5668"),icon:wu,callback:({close:e})=>{i("visual"===s?"text":"visual"),e()}}),p.push({name:"core/open-preferences",label:(0,$.__)("\u6253\u5f00\u7f16\u8f91\u5668\u9996\u9009\u9879"),icon:bu,callback:()=>{l(k0)}}),p.push({name:"core/open-shortcut-help",label:(0,$.__)("\u6253\u5f00\u952e\u76d8\u5feb\u6377\u952e"),icon:Su,callback:()=>{l(y0)}}),{isLoading:!1,commands:p})}function Nu({title:e,subTitle:t,actions:n}){return(0,H.createElement)(W.__experimentalHStack,{as:"header",alignment:"left",className:"edit-site-page-header"},(0,H.createElement)(W.FlexBlock,{className:"edit-site-page-header__page-title"},(0,H.createElement)(W.__experimentalHeading,{as:"h2",level:4,className:"edit-site-page-header__title"},e),t&&(0,H.createElement)(W.__experimentalText,{as:"p",className:"edit-site-page-header__sub-title"},t)),(0,H.createElement)(W.FlexItem,{className:"edit-site-page-header__actions"},n))}function Iu({title:e,subTitle:t,actions:n,children:a,className:r,hideTitleFromUI:i=!1}){r=j()("edit-site-page",r);return(0,H.createElement)(fe,{className:r,ariaLabel:e},!i&&e&&(0,H.createElement)(Nu,{title:e,subTitle:t,actions:n}),(0,H.createElement)("div",{className:"edit-site-page-content"},a,(0,H.createElement)(N.EditorSnackbars,null)))}function Mu({categoryId:t,type:e,titleId:n,descriptionId:a}){var r=fi()["patternCategories"],i=(0,G.useSelect)(e=>e(N.store).__experimentalGetDefaultTemplatePartAreas(),[]);let s,o;return t===ci&&e===li?(s=(0,$.__)("\u6211\u7684\u533a\u5757\u6837\u677f"),o=""):e===oi?(i=i.find(e=>e.area===t),s=i?.label,o=i?.description):e===si&&(i=r.find(e=>e.name===t),s=i?.label,o=i?.description),s?(0,H.createElement)(W.__experimentalVStack,{className:"edit-site-patterns__section-header"},(0,H.createElement)(W.__experimentalHeading,{as:"h2",level:4,id:n},s),o?(0,H.createElement)(W.__experimentalText,{variant:"muted",as:"p",id:a},o):null):null}var Pu=(0,H.createElement)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,H.createElement)(t.Path,{d:"M11 13h2v-2h-2v2zm-6 0h2v-2H5v2zm12-2v2h2v-2h-2z"}));function Bu({item:e,onClose:n}){const[a,r]=(0,H.useState)(()=>e.title),[t,i]=(0,H.useState)(!1),{editEntityRecord:s,saveEditedEntityRecord:o}=(0,G.useDispatch)(U.store),{createSuccessNotice:l,createErrorNotice:c}=(0,G.useDispatch)(Y.store);return e.type!==oi||e.isCustom?(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.MenuItem,{onClick:()=>{i(!0),r(e.title)}},(0,$.__)("\u91cd\u547d\u540d")),t&&(0,H.createElement)(W.Modal,{title:(0,$.__)("\u91cd\u547d\u540d"),onRequestClose:()=>{i(!1),n()},overlayClassName:"edit-site-list__rename_modal"},(0,H.createElement)("form",{onSubmit:async function(t){t.preventDefault();try{await s("postType",e.type,e.id,{title:a}),r(""),i(!1),n(),await o("postType",e.type,e.id,{throwOnError:!0}),l((0,$.__)("\u5b9e\u4f53\u5df2\u7ecf\u91cd\u65b0\u547d\u540d\u3002"),{type:"snackbar"})}catch(e){t=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u91cd\u547d\u540d\u5b9e\u4f53\u65f6\u51fa\u9519\u3002");c(t,{type:"snackbar"})}}},(0,H.createElement)(W.__experimentalVStack,{spacing:"5"},(0,H.createElement)(W.TextControl,{__nextHasNoMarginBottom:!0,label:(0,$.__)("\u540d\u79f0"),value:a,onChange:r,required:!0}),(0,H.createElement)(W.__experimentalHStack,{justify:"right"},(0,H.createElement)(W.Button,{variant:"tertiary",onClick:()=>{i(!1),n()}},(0,$.__)("\u53d6\u6d88")),(0,H.createElement)(W.Button,{variant:"primary",type:"submit"},(0,$.__)("\u4fdd\u5b58"))))))):null}const Ru=X(n.privateApis)["useHistory"];function Lu({categoryId:s,item:l,label:e=(0,$.__)("\u521b\u5efa\u526f\u672c"),onClose:c}){const u=(0,G.useDispatch)(U.store)["saveEntityRecord"],{createErrorNotice:m,createSuccessNotice:d}=(0,G.useDispatch)(Y.store),p=Ru(),o=pi();var t=l.type===oi?async function(){try{var t=(0,$.sprintf)((0,$.__)("%s (Copy)"),l.title),e=_i(t,o),n=gi(e),{area:a,content:r}=l.templatePart;const i=await u("postType","gc_template_part",{slug:n,title:e,content:r,area:a},{throwOnError:!0});d((0,$.sprintf)((0,$.__)("\u201c%s\u201d\u5df2\u521b\u5efa\u3002"),e),{type:"snackbar",id:"edit-site-patterns-success",actions:[{label:(0,$.__)("\u7f16\u8f91"),onClick:()=>p.push({postType:oi,postId:i?.id,categoryType:oi,categoryId:s})}]}),c()}catch(e){t=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u521b\u5efa\u6837\u677f\u7ec4\u4ef6\u65f6\u51fa\u9519\u3002");m(t,{type:"snackbar",id:"edit-site-patterns-error"}),c()}}:async function(){try{var e=l.type===si,t=(0,$.sprintf)((0,$.__)("%s (Copy)"),l.title),n=await u("postType","gc_block",{content:(e?l:l.reusableBlock).content,meta:(r=l).type===si?{gc_pattern_sync_status:x.unsynced}:(s=(i=r.reusableBlock.gc_pattern_sync_status)===x.unsynced,{...r.reusableBlock.meta,gc_pattern_sync_status:s?i:void 0}),status:"publish",title:t},{throwOnError:!0}),a=e?(0,$.__)("\u67e5\u770b\u6211\u7684\u56fe\u6848"):(0,$.__)("\u7f16\u8f91");const o=e?{categoryType:li,categoryId:ci,path:"/patterns"}:{categoryType:li,categoryId:ci,postType:li,postId:n?.id};d((0,$.sprintf)((0,$.__)("\u201c%s\u201d\u5df2\u6dfb\u52a0\u5230\u6211\u7684\u56fe\u6848\u4e2d\u3002"),t),{type:"snackbar",id:"edit-site-patterns-success",actions:[{label:a,onClick:()=>p.push(o)}]}),c()}catch(e){r=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u521b\u5efa\u6837\u677f\u65f6\u51fa\u9519\u3002");m(r,{type:"snackbar",id:"edit-site-patterns-error"}),c()}var r,i,s};return(0,H.createElement)(W.MenuItem,{onClick:t},e)}const Du={header:Wr,footer:$r,uncategorized:uc};var Au=(0,H.memo)(function({categoryId:t,item:n,...e}){const a=(0,H.useId)(),[r,i]=(0,H.useState)(!1),s=(0,G.useDispatch)(K)["removeTemplate"],o=(0,G.useDispatch)(lc.store)["__experimentalDeleteReusableBlock"],{createErrorNotice:l,createSuccessNotice:c}=(0,G.useDispatch)(Y.store);var u=n.type===li;const m=n.type===si,d=n.type===oi;var p=w({postType:n.type,postId:u?n.id:n.name,categoryId:t,categoryType:n.type})["onClick"],_=!n.blocks?.length,g=j()("edit-site-patterns__pattern",{"is-placeholder":_}),h=j()("edit-site-patterns__preview",{"is-inactive":m});const v=u||d&&n.isCustom,E=d&&n.templatePart.has_theme_file;var u=[],y=(v?u.push((0,$.__)("\u6309Enter\u952e\u8fdb\u884c\u7f16\u8f91\uff0c\u6216\u6309Delete\u952e\u5220\u9664\u56fe\u6848\u3002")):n.description&&u.push(n.description),m&&u.push((0,$.__)("\u65e0\u6cd5\u7f16\u8f91\u4e3b\u9898\u6837\u677f\u3002")),Du[t]||(n.syncStatus===x.full?qn:void 0)),f=E?(0,$.__)("\u6e05\u9664"):(0,$.__)("\u5220\u9664"),b=E?(0,$.__)("\u662f\u5426\u786e\u5b9e\u8981\u6e05\u9664\u8fd9\u4e9b\u81ea\u5b9a\u4e49\u9879\uff1f"):(0,$.sprintf)((0,$.__)("\u60a8\u786e\u5b9a\u8981\u5220\u9664%s\uff1f"),n.title);return(0,H.createElement)("li",{className:g},(0,H.createElement)("button",{className:h,id:"edit-site-patterns-"+n.name,...e,onClick:n.type!==si?p:void 0,"aria-disabled":n.type!==si?"false":"true","aria-label":n.title,"aria-describedby":u.length?u.map((e,t)=>a+"-"+t).join(" "):void 0},_&&(0,$.__)("\u7a7a\u56fe\u6848"),!_&&(0,H.createElement)(I.BlockPreview,{blocks:n.blocks})),u.map((e,t)=>(0,H.createElement)("div",{key:t,hidden:!0,id:a+"-"+t},e)),(0,H.createElement)(W.__experimentalHStack,{className:"edit-site-patterns__footer",justify:"space-between"},(0,H.createElement)(W.__experimentalHStack,{alignment:"center",justify:"left",spacing:3,className:"edit-site-patterns__pattern-title"},y&&!m&&(0,H.createElement)(W.Tooltip,{position:"top center",text:(0,$.__)("\u7f16\u8f91\u6b64\u533a\u5757\u6837\u677f\u4e5f\u4f1a\u5728\u4f7f\u7528\u5b83\u7684\u4efb\u4f55\u4f4d\u7f6e\u8fdb\u884c\u66f4\u65b0")},(0,H.createElement)("span",null,(0,H.createElement)(Ce,{className:"edit-site-patterns__pattern-icon",icon:y}))),(0,H.createElement)(W.Flex,{as:"span",gap:0,justify:"left"},n.type===si?n.title:(0,H.createElement)(W.__experimentalHeading,{level:5},(0,H.createElement)(W.Button,{variant:"link",onClick:p,tabIndex:"-1"},n.title)),n.type===si&&(0,H.createElement)(W.Tooltip,{position:"top center",text:(0,$.__)("\u65e0\u6cd5\u7f16\u8f91\u4e3b\u9898\u6837\u677f\u3002")},(0,H.createElement)("span",{className:"edit-site-patterns__pattern-lock-icon"},(0,H.createElement)(Ce,{icon:ni,size:24}))))),(0,H.createElement)(W.DropdownMenu,{icon:Pu,label:(0,$.__)("\u64cd\u4f5c"),className:"edit-site-patterns__dropdown",popoverProps:{placement:"bottom-end"},toggleProps:{className:"edit-site-patterns__button",isSmall:!0,describedBy:(0,$.sprintf)((0,$.__)("%s\u533a\u5757\u6837\u677f\u7684\u64cd\u4f5c\u83dc\u5355"),n.title)}},({onClose:e})=>(0,H.createElement)(W.MenuGroup,null,v&&!E&&(0,H.createElement)(Bu,{item:n,onClose:e}),(0,H.createElement)(Lu,{categoryId:t,item:n,onClose:e,label:m?(0,$.__)("\u590d\u5236\u5230\u6211\u7684\u533a\u5757\u6837\u677f"):(0,$.__)("\u521b\u5efa\u526f\u672c")}),v&&(0,H.createElement)(W.MenuItem,{onClick:()=>i(!0)},E?(0,$.__)("\u6e05\u9664\u81ea\u5b9a\u4e49\u9009\u9879"):(0,$.__)("\u5220\u9664"))))),r&&(0,H.createElement)(W.__experimentalConfirmDialog,{confirmButtonText:f,onConfirm:()=>d?s(n):(async()=>{try{await o(n.id),c((0,$.sprintf)((0,$.__)("\u201c%s\u201d\u5df2\u5220\u9664\u3002"),n.title),{type:"snackbar",id:"edit-site-patterns-success"})}catch(e){var t=e.message&&"unknown_error"!==e.code?e.message:(0,$.__)("\u5220\u9664\u56fe\u6848\u65f6\u51fa\u9519\u3002");l(t,{type:"snackbar",id:"edit-site-patterns-error"})}})(),onCancel:()=>i(!1)},b))});function Fu({currentPage:e,numPages:t,changePage:n,totalItems:a}){return(0,H.createElement)(W.__experimentalHStack,{expanded:!1,spacing:3,className:"edit-site-patterns__grid-pagination"},(0,H.createElement)(W.__experimentalText,{variant:"muted"},(0,$.sprintf)((0,$._n)("%s\u4e2a\u9879\u76ee","%s items",a),a)),(0,H.createElement)(W.__experimentalHStack,{expanded:!1,spacing:1},(0,H.createElement)(W.Button,{variant:"tertiary",onClick:()=>n(1),disabled:1===e,"aria-label":(0,$.__)("\u9996\u9875")},"\xab"),(0,H.createElement)(W.Button,{variant:"tertiary",onClick:()=>n(e-1),disabled:1===e,"aria-label":(0,$.__)("\u4e0a\u4e00\u9875")},"\u2039")),(0,H.createElement)(W.__experimentalText,{variant:"muted"},(0,$.sprintf)((0,$._x)("\u7b2c%1$s\u9875\uff0c\u5171%2$s\u9875","paging"),e,t)),(0,H.createElement)(W.__experimentalHStack,{expanded:!1,spacing:1},(0,H.createElement)(W.Button,{variant:"tertiary",onClick:()=>n(e+1),disabled:e===t,"aria-label":(0,$.__)("\u4e0b\u4e00\u9875")},"\u203a"),(0,H.createElement)(W.Button,{variant:"tertiary",onClick:()=>n(t),disabled:e===t,"aria-label":(0,$.__)("\u5c3e\u9875")},"\xbb")))}function Vu({categoryId:t,items:e,currentPage:n,setCurrentPage:a,...r}){var i=(0,H.useRef)(),s=e.length;const o=n-1;var l=(0,H.useMemo)(()=>e.slice(20*o,20*o+20),[o,e]),c=(0,q.useAsyncList)(l,{step:10});return l?.length?(l=Math.ceil(e.length/20),(0,H.createElement)(H.Fragment,null,(0,H.createElement)("ul",{role:"listbox",className:"edit-site-patterns__grid",...r,ref:i},c.map(e=>(0,H.createElement)(Au,{key:e.name,item:e,categoryId:t}))),1<l&&(0,H.createElement)(Fu,{currentPage:n,numPages:l,changePage:e=>{document.querySelector(".edit-site-patterns")?.scrollTo(0,0),a(e)},totalItems:s}))):null}function zu(){return(0,H.createElement)("div",{className:"edit-site-patterns__no-results"},(0,$.__)("\u627e\u4e0d\u5230\u6837\u677f\u3002"))}var rr=Tm(4793),Ou=Tm.n(rr);function Hu(e){return e.toLowerCase()}var Gu=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Uu=/[^A-Z0-9]+/gi;function ju(e,t,n){return t instanceof RegExp?e.replace(t,n):t.reduce(function(e,t){return e.replace(t,n)},e)}function Wu(e=""){return function(e,t){for(var n=(t=void 0===t?{}:t).splitRegexp,a=void 0===(a=t.stripRegexp)?Uu:a,r=void 0===(r=t.transform)?Hu:r,t=void 0===(t=t.delimiter)?" ":t,i=ju(ju(e,void 0===n?Gu:n,"$1\0$2"),a,"\0"),s=0,o=i.length;"\0"===i.charAt(s);)s++;for(;"\0"===i.charAt(o-1);)o--;return i.slice(s,o).split("\0").map(r).join(t)}(e,{splitRegexp:[/([\p{Ll}\p{Lo}\p{N}])([\p{Lu}\p{Lt}])/gu,/([\p{Lu}\p{Lt}])([\p{Lu}\p{Lt}][\p{Ll}\p{Lo}])/gu],stripRegexp:/(\p{C}|\p{P}|\p{S})+/giu}).split(" ").filter(Boolean)}function $u(e=""){return e=(e=(e=Ou()(e)).replace(/^\//,"")).toLowerCase()}const Zu=(e="")=>Wu($u(e)),qu=(e=[],t="",n={})=>{var a=Zu(t),r=!a.length;const i={...n,onlyFilterByCategory:r},s=r?0:1;n=e.map(e=>[e,function(e,t,n){var{categoryId:n,getName:a=e=>e.name||"",getTitle:r=e=>e.title,getDescription:i=e=>e.description||"",getKeywords:s=e=>e.keywords||[],hasCategory:o=()=>!1,onlyFilterByCategory:l}=n;let c=o(e,n)?1:0;return c&&!l&&(o=a(e),n=r(e),l=i(e),a=s(e),r=$u(t),i=$u(n),r===i?c+=30:i.startsWith(r)?c+=20:(s=[o,n,l,...a].join(" "),0===((e,n)=>e.filter(t=>!Zu(n).some(e=>e.includes(t))))(Wu(r),s).length&&(c+=10))),c}(e,t,i)]).filter(([,e])=>e>s);return 0===a.length?n.map(([e])=>e):(n.sort(([,e],[,t])=>t-e),n.map(([e])=>e))};const Yu=[],Xu=(e,t)=>e&&t?e+"//"+t:null,Ku=e=>({blocks:(0,b.parse)(e.content.raw),categories:[e.area],description:e.description||"",isCustom:"custom"===e.source,keywords:e.keywords||[],id:Xu(e.theme,e.slug),name:Xu(e.theme,e.slug),title:(0,M.decodeEntities)(e.title.rendered),type:e.type,templatePart:e}),Qu=e=>({blocks:(0,b.parse)(e.content.raw),categories:e.gc_pattern,id:e.id,name:e.slug,syncStatus:e.gc_pattern_sync_status||x.full,title:e.title.raw,type:e.type,reusableBlock:e});var Ju=(e,d,{search:p="",syncStatus:_})=>(0,G.useSelect)(t=>{if(e===oi){var[n,{categoryId:a,search:r=""}]=[t,{categoryId:d,search:p}];var{getEntityRecords:i,getIsResolving:s}=n(U.store),n=n(N.store)["__experimentalGetDefaultTemplatePartAreas"],o={per_page:-1},i=(null!=(i=i("postType",oi,o))?i:Yu).map(e=>Ku(e));const m=(n()||[]).map(e=>e.area);n=s("getEntityRecords",["postType","gc_template_part",o]);return{patterns:qu(i,r,{categoryId:a,hasCategory:(e,t)=>"uncategorized"!==t?e.templatePart.area===t:e.templatePart.area===t||!m.includes(e.templatePart.area)}),isResolving:n}}if(e===si){var[s,{categoryId:o,search:i=""}]=[t,{categoryId:d,search:p}];r=X(s(K))["getSettings"],r=r(),a=null!=(a=r.__experimentalAdditionalBlockPatterns)?a:r.__experimentalBlockPatterns,r=s(U.store).getBlockPatterns();let e=[...a||[],...r||[]].filter(e=>!ui.includes(e.source)).filter(mi).filter(e=>!1!==e.inserter).map(e=>({...e,keywords:e.keywords||[],type:"pattern",blocks:(0,b.parse)(e.content)}));return{patterns:e=o?qu(e,i,{categoryId:o,hasCategory:(e,t)=>e.categories?.includes(t)}):qu(e,i,{hasCategory:e=>!e.hasOwnProperty("categories")}),isResolving:!1}}if(e!==li)return{patterns:Yu,isResolving:!1};{var[n,{search:t="",syncStatus:l}]=[t,{search:p,syncStatus:_}];var{getEntityRecords:n,getIsResolving:c}=n(U.store),u={per_page:-1},n=n("postType",li,u);let e=n?n.map(e=>Qu(e)):Yu;n=c("getEntityRecords",["postType",li,u]);return l&&(e=e.filter(e=>e.syncStatus===l)),{patterns:e=qu(e,t,{hasCategory:()=>!0}),isResolving:n}}},[d,e,p,_]);const{useLocation:em,useHistory:tm}=X(n.privateApis),nm={all:(0,$.__)("\u5168\u90e8"),[x.full]:(0,$.__)("\u5df2\u540c\u6b65"),[x.unsynced]:(0,$.__)("\u6807\u51c6")},am={all:"",[x.full]:(0,$.__)("\u5728\u6574\u4e2a\u524d\u7aef\u4e2d\u4fdd\u6301\u540c\u6b65\u7684\u533a\u5757\u6837\u677f\u3002"),[x.unsynced]:(0,$.__)("\u53ef\u4ee5\u5728\u4e0d\u5f71\u54cd\u524d\u7aef\u7684\u60c5\u51b5\u4e0b\u81ea\u7531\u66f4\u6539\u7684\u533a\u5757\u6837\u677f\u3002")};function rm({categoryId:e,type:t}){const[n,a]=(0,H.useState)(1),r=em(),i=tm();var s=(0,q.useViewportMatch)("medium","<");const[o,l,c]=or("");var u=(0,H.useDeferredValue)(c);const[m,d]=(0,H.useState)("all");var p=(0,H.useDeferredValue)(m),_=t===si&&"uncategorized"===e,{patterns:_,isResolving:u}=Ju(t,_?"":e,{search:u,syncStatus:"all"===p?void 0:p});var p=(0,H.useId)(),g=p+"-title",p=p+"-description",h=_.length,v=nm[m],E=am[m];return(0,H.createElement)(W.__experimentalVStack,{spacing:6},(0,H.createElement)(Mu,{categoryId:e,type:t,titleId:g,descriptionId:p}),(0,H.createElement)(W.Flex,{alignment:"stretch",wrap:!0},s&&(0,H.createElement)(y,{icon:(0,$.isRTL)()?Ne:Te,label:(0,$.__)("\u8fd4\u56de"),onClick:()=>{"/patterns"===r.state?.backPath?i.back():i.push({path:"/patterns"})}}),(0,H.createElement)(W.FlexBlock,{className:"edit-site-patterns__search-block"},(0,H.createElement)(W.SearchControl,{className:"edit-site-patterns__search",onChange:e=>{return e=e,a(1),void l(e)},placeholder:(0,$.__)("\u641c\u7d22\u533a\u5757\u6837\u677f"),label:(0,$.__)("\u641c\u7d22\u533a\u5757\u6837\u677f"),value:o,__nextHasNoMarginBottom:!0})),e===ci&&(0,H.createElement)(W.__experimentalToggleGroupControl,{className:"edit-site-patterns__sync-status-filter",hideLabelFromVision:!0,label:(0,$.__)("\u6309\u540c\u6b65\u72b6\u6001\u7b5b\u9009"),value:m,isBlock:!0,onChange:e=>{return e=e,a(1),void d(e)},__nextHasNoMarginBottom:!0},Object.entries(nm).map(([e,t])=>(0,H.createElement)(W.__experimentalToggleGroupControlOption,{className:"edit-site-patterns__sync-status-filter-option",key:e,value:e,label:t})))),"all"!==m&&(0,H.createElement)(W.__experimentalVStack,{className:"edit-site-patterns__section-header"},(0,H.createElement)(W.__experimentalHeading,{as:"h3",level:5,id:g},v),E?(0,H.createElement)(W.__experimentalText,{variant:"muted",as:"p",id:p},E):null),h&&(0,H.createElement)(Vu,{categoryId:e,items:_,"aria-labelledby":g,"aria-describedby":p,currentPage:n,setCurrentPage:a}),!u&&!h&&(0,H.createElement)(zu,null))}const im=X(I.privateApis)["ExperimentalBlockEditorProvider"];function sm(){var{categoryType:e,categoryId:t}=(0,u.getQueryArgs)(window.location.href),e=e||ii,t=t||ri,n=function(){var e;const n=(0,G.useSelect)(e=>{e=X(e(K)).getSettings;return e()},[]),t=null!=(e=n.__experimentalAdditionalBlockPatterns)?e:n.__experimentalBlockPatterns,a=(0,G.useSelect)(e=>e(U.store).getBlockPatterns(),[]),r=(0,H.useMemo)(()=>[...t||[],...a||[]].filter(mi),[t,a]);return(0,H.useMemo)(()=>{const{__experimentalAdditionalBlockPatterns:e,...t}=n;return{...t,__experimentalBlockPatterns:r,__unstableIsPreviewMode:!0}},[n,r])}();return(0,H.createElement)(im,{settings:n},(0,H.createElement)(Iu,{className:"edit-site-patterns",title:(0,$.__)("\u533a\u5757\u6837\u677f\u5185\u5bb9"),hideTitleFromUI:!0},(0,H.createElement)(rm,{key:e+"-"+t,type:e,categoryId:t})))}function om({data:e,columns:t}){return(0,H.createElement)("div",{className:"edit-site-table-wrapper"},(0,H.createElement)("table",{className:"edit-site-table"},(0,H.createElement)("thead",null,(0,H.createElement)("tr",null,t.map(e=>(0,H.createElement)("th",{key:e.header},e.header)))),(0,H.createElement)("tbody",null,e.map((n,e)=>(0,H.createElement)("tr",{key:e},t.map((e,t)=>(0,H.createElement)("td",{style:{maxWidth:e.maxWidth||void 0},key:t},e.cell(n))))))))}const lm=X(n.privateApis)["useHistory"];function cm(){var{canCreate:e,postType:t}=(0,G.useSelect)(e=>{var t=e(K).getSettings()["supportsTemplatePartsMode"];return{canCreate:!t,postType:e(U.store).getPostType("gc_template_part")}},[]);const[n,a]=(0,H.useState)(!1),r=lm();return e&&t?(0,H.createElement)(H.Fragment,null,(0,H.createElement)(W.Button,{variant:"primary",onClick:()=>a(!0)},t.labels.add_new_item),n&&(0,H.createElement)(hi,{closeModal:()=>a(!1),blocks:[],onCreate:e=>{a(!1),r.push({postId:e.id,postType:"gc_template_part",canvas:"edit"})},onError:()=>a(!1)})):null}function um(){var e=(0,U.useEntityRecords)("postType","gc_template_part",{per_page:-1})["records"],t=[{header:(0,$.__)("\u6a21\u7248\u7ec4\u4ef6"),cell:e=>(0,H.createElement)(W.__experimentalVStack,null,(0,H.createElement)(W.__experimentalHeading,{as:"h3",level:5},(0,H.createElement)(St,{params:{postId:e.id,postType:e.type},state:{backPath:"/gc_template_part/all"}},(0,M.decodeEntities)(e.title?.rendered||e.slug)))),maxWidth:400},{header:(0,$.__)("\u6dfb\u52a0\u8005"),cell:e=>(0,H.createElement)(Or,{postType:e.type,postId:e.id})},{header:(0,H.createElement)(W.VisuallyHidden,null,(0,$.__)("\u64cd\u4f5c")),cell:e=>(0,H.createElement)(Ur,{postType:e.type,postId:e.id})}];return(0,H.createElement)(Iu,{title:(0,$.__)("\u6a21\u7248\u7ec4\u4ef6"),actions:(0,H.createElement)(cm,null)},e&&(0,H.createElement)(om,{data:e,columns:t}))}function mm(){var e=(0,U.useEntityRecords)("postType","gc_template",{per_page:-1})["records"],t=(0,G.useSelect)(e=>{var t=e(K).getSettings()["supportsTemplatePartsMode"];return{postType:e(U.store).getPostType("gc_template"),canCreate:!t}})["canCreate"],n=[{header:(0,$.__)("\u6a21\u677f"),cell:e=>(0,H.createElement)(W.__experimentalVStack,null,(0,H.createElement)(W.__experimentalHeading,{as:"h3",level:5},(0,H.createElement)(St,{params:{postId:e.id,postType:e.type,canvas:"edit"}},(0,M.decodeEntities)(e.title?.rendered||e.slug))),e.description&&(0,H.createElement)(W.__experimentalText,{variant:"muted"},(0,M.decodeEntities)(e.description))),maxWidth:400},{header:(0,$.__)("\u6dfb\u52a0\u8005"),cell:e=>(0,H.createElement)(Or,{postType:e.type,postId:e.id})},{header:(0,H.createElement)(W.VisuallyHidden,null,(0,$.__)("\u64cd\u4f5c")),cell:e=>(0,H.createElement)(Ur,{postType:e.type,postId:e.id})}];return(0,H.createElement)(Iu,{title:(0,$.__)("\u6a21\u677f"),actions:t&&(0,H.createElement)(Pr,{templateType:"gc_template",showIcon:!1,toggleProps:{variant:"primary"}})},e&&(0,H.createElement)(om,{data:e,columns:n}))}const dm=X(n.privateApis)["useLocation"];function pm(){var{path:e}=dm()["params"];return"/gc_template/all"===e?(0,H.createElement)(mm,null):"/gc_template_part/all"===e?(0,H.createElement)(um,null):"/patterns"===e?(0,H.createElement)(sm,null):null}const _m=X(c.privateApis)["useCommands"],gm=X(J.privateApis)["useCommandContext"],hm=X(n.privateApis)["useLocation"],vm=X(I.privateApis)["useGlobalStyle"],Em=.5;function ym(){Ci();{const E=iu(),y=ru()["params"],f=(0,G.useSelect)(e=>X(e(K)).getCanvasMode(),[]),b=X((0,G.useDispatch)(K))["setCanvasMode"],w=(0,H.useRef)(f),S=y["canvas"],x=(0,H.useRef)(S),k=(0,H.useRef)(y);(0,H.useEffect)(()=>{k.current=y},[y]),(0,H.useEffect)(()=>{"init"!==(w.current=f)&&("edit"===f&&x.current!==f&&E.push({...k.current,canvas:"edit"}),"view"===f)&&void 0!==x.current&&E.push({...k.current,canvas:void 0})},[f,E]),(0,H.useEffect)(()=>{"edit"!==(x.current=S)&&"view"!==w.current?b("view"):"edit"===S&&"edit"!==w.current&&b("edit")},[S,b])}_m(),(0,J.useCommandLoader)({name:"core/edit-site/page-content-focus",hook:ku,context:"site-editor-edit"}),(0,J.useCommandLoader)({name:"core/edit-site/manipulate-document",hook:Cu}),(0,J.useCommandLoader)({name:"core/edit-site/edit-ui",hook:Tu});{const{openGeneralSidebar:C,setEditorCanvasContainerView:T,setCanvasMode:N}=X((0,G.useDispatch)(K));var e;const I=!m0(e=vu()["params"],(0,q.useViewportMatch)("medium","<")),M=X((0,G.useSelect)(K))["getCanvasMode"],P=(0,G.useDispatch)(Z.store)["set"],B=(0,G.useDispatch)(Y.store)["createInfoNotice"],R=hu(),{homeUrl:L,isDistractionFree:D}=(0,G.useSelect)(e=>{var t=e(U.store)["getUnstableBase"];return{homeUrl:t()?.home,isDistractionFree:e(Z.store).get(K.name,"distractionFree")}},[]);(0,J.useCommand)({name:"core/edit-site/open-global-styles-revisions",label:(0,$.__)("\u6253\u5f00\u6837\u5f0f\u4fee\u8ba2"),icon:Jn,callback:({close:e})=>{e(),I||R.push({path:"/gc_global_styles",canvas:"edit"}),I&&"edit"!==M()&&N("edit"),C("edit-site/global-styles"),T("global-styles-revisions")}}),(0,J.useCommand)({name:"core/edit-site/open-styles",label:(0,$.__)("\u6253\u5f00\u6837\u5f0f"),callback:({close:e})=>{e(),I||R.push({path:"/gc_global_styles",canvas:"edit"}),I&&"edit"!==M()&&N("edit"),D&&(P(K.name,"distractionFree",!1),B((0,$.__)("\u4e13\u6ce8\u6a21\u5f0f\u5df2\u5173\u95ed\u3002"),{type:"snackbar"})),C("edit-site/global-styles")},icon:Wn}),(0,J.useCommand)({name:"core/edit-site/view-site",label:(0,$.__)("\u67e5\u770b\u524d\u7aef"),callback:({close:e})=>{e(),window.open(L,"_blank")},icon:_0}),(0,J.useCommandLoader)({name:"core/edit-site/reset-global-styles",hook:Eu}),(0,J.useCommandLoader)({name:"core/edit-site/open-styles-css",hook:yu})}var e=(0,H.useRef)(),t=hm()["params"],n=(0,q.useViewportMatch)("medium","<"),t=m0(t,n),a=!t,{isDistractionFree:r,hasFixedToolbar:i,canvasMode:s,previousShortcut:o,nextShortcut:l}=(0,G.useSelect)(e=>{var t=e(Q.store)["getAllShortcutKeyCombinations"],n=X(e(K))["getCanvasMode"];return{canvasMode:n(),previousShortcut:t("core/edit-site/previous-region"),nextShortcut:t("core/edit-site/next-region"),hasFixedToolbar:e(Z.store).get("core/edit-site","fixedToolbar"),isDistractionFree:e(Z.store).get("core/edit-site","distractionFree")}},[]),c="edit"===s,o=(0,W.__unstableUseNavigateRegions)({previous:o,next:l}),l=(0,q.useReducedMotion)(),u=n&&!t||!n&&("view"===s||!a),A=n&&a&&c||!n||!a,F=n&&t||a&&c,[V,m]=(0,q.useResizeObserver)(),[z]=(0,q.useResizeObserver)(),[d]=(0,H.useState)(!1),p=function(){var e=Lr()["isLoaded"];const[t,n]=(0,H.useState)(!1),a=(0,G.useSelect)(e=>{e=e(U.store).hasResolvingSelectors();return!t&&!e},[t]);return(0,H.useEffect)(()=>{let e;return t||(e=setTimeout(()=>{n(!0)},1e4)),()=>{clearTimeout(e)}},[t]),(0,H.useEffect)(()=>{if(a){const e=setTimeout(()=>{n(!0)},1e3);return()=>{clearTimeout(e)}}},[a]),!t||!e}(),[_,O]=(0,H.useState)(!1);let g;g="view"===s?"view":r?"isDistractionFree":s;var h="edit"===s&&a?"site-editor-edit":"site-editor",[h]=(gm(h),vm("color.background")),[v]=vm("color.gradient");return"init"===s?null:(0,H.createElement)(H.Fragment,null,(0,H.createElement)(J.CommandMenu,null),(0,H.createElement)(du,null),(0,H.createElement)(pu,null),z,(0,H.createElement)("div",{...o,ref:o.ref,className:j()("edit-site-layout",o.className,{"is-distraction-free":r&&c,"is-full-canvas":F,"is-edit-mode":c,"has-fixed-toolbar":i})},(0,H.createElement)(W.__unstableMotion.div,{className:"edit-site-layout__header-container",variants:{isDistractionFree:{opacity:0,transition:{type:"tween",delay:.8,delayChildren:.8}},isDistractionFreeHovering:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}},view:{opacity:1},edit:{opacity:1}},whileHover:r?"isDistractionFreeHovering":void 0,animate:g},(0,H.createElement)(X0,{as:W.__unstableMotion.div,variants:{isDistractionFree:{x:"-100%"},isDistractionFreeHovering:{x:0},view:{x:0},edit:{x:0}},ref:e,isTransparent:_,className:"edit-site-layout__hub"}),(0,H.createElement)(W.__unstableAnimatePresence,{initial:!1},a&&c&&(0,H.createElement)(fe,{key:"header",className:"edit-site-layout__header",ariaLabel:(0,$.__)("\u7f16\u8f91\u9876\u680f"),as:W.__unstableMotion.div,variants:{isDistractionFree:{opacity:0,y:0},isDistractionFreeHovering:{opacity:1,y:0},view:{opacity:1,y:"-100%"},edit:{opacity:1,y:0}},exit:{y:"-100%"},initial:{opacity:r?1:0,y:r?0:"-100%"},transition:{type:"tween",duration:l?0:.2,ease:"easeOut"}},(0,H.createElement)(Z0,null)))),(0,H.createElement)("div",{className:"edit-site-layout__content"},(0,H.createElement)(fe,{ariaLabel:(0,$.__)("\u5bfc\u822a"),className:"edit-site-layout__sidebar-region"},(0,H.createElement)(W.__unstableMotion.div,{inert:u?void 0:"inert",animate:{opacity:u?1:0},transition:{type:"tween",duration:l||n?0:Em,ease:"easeOut"},className:"edit-site-layout__sidebar"},(0,H.createElement)(Ns,null))),(0,H.createElement)(mu,null),A&&(0,H.createElement)(H.Fragment,null,t&&(0,H.createElement)(pm,null),a&&(0,H.createElement)("div",{className:j()("edit-site-layout__canvas-container",{"is-resizing":d})},V,!!m.width&&(0,H.createElement)(W.__unstableMotion.div,{whileHover:a&&"view"===s?{scale:1.005,transition:{duration:l||d?0:.5,ease:"easeOut"}}:{},initial:!1,layout:"position",className:j()("edit-site-layout__canvas",{"is-right-aligned":_}),transition:{type:"tween",duration:l||d?0:Em,ease:"easeOut"}},(0,H.createElement)(u0,null,(0,H.createElement)(au,{isReady:!p,isFullWidth:c,defaultSize:{width:m.width-24,height:m.height},isOversized:_,setIsOversized:O,innerContentStyle:{background:null!=v?v:h}},(0,H.createElement)(o0,{isLoading:p})))))))))}const fm=X(n.privateApis)["RouterProvider"];function bm(){const t=(0,G.useDispatch)(Y.store)["createErrorNotice"];return(0,H.createElement)(Q.ShortcutProvider,{style:{height:"100%"}},(0,H.createElement)(W.SlotFillProvider,null,(0,H.createElement)(ua,null,(0,H.createElement)(W.Popover.Slot,null),(0,H.createElement)(N.UnsavedChangesWarning,null),(0,H.createElement)(fm,null,(0,H.createElement)(ym,null),(0,H.createElement)(le.PluginArea,{onError:function(e){t((0,$.sprintf)((0,$.__)("\u63d2\u4ef6\u201c%s\u201d\u9047\u5230\u4e86\u4e00\u4e2a\u9519\u8bef\uff0c\u4e14\u65e0\u6cd5\u88ab\u6e32\u67d3\u3002"),e))}})))))}function wm({className:e,...t}){var n=(0,G.useSelect)(e=>e(K).getSettings().showIconLabels,[]);return(0,H.createElement)(ye,{panelClassName:e,className:"edit-site-sidebar-edit-mode",scope:"core/edit-site",showIconLabels:n,...t})}function Sm(e){return(0,H.createElement)(ge,{__unstableExplicitMenuItem:!0,scope:"core/edit-site",...e})}var xm=(0,q.compose)((0,le.withPluginContext)((e,t)=>{var n;return{as:null!=(n=t.as)?n:W.MenuItem,icon:t.icon||e.icon,name:"core/edit-site/plugin-more-menu"}}))(pe);function km(e,n){var e=document.getElementById(e),e=(0,H.createRoot)(e),t=(n.__experimentalFetchLinkSuggestions=(e,t)=>(0,U.__experimentalFetchLinkSuggestions)(e,t,n),n.__experimentalFetchRichUrlData=U.__experimentalFetchUrlData,(0,G.dispatch)(b.store).__experimentalReapplyBlockTypeFilters(),(0,f.__experimentalGetCoreBlocks)().filter(({name:e})=>"core/freeform"!==e));return(0,f.registerCoreBlocks)(t),(0,G.dispatch)(b.store).setFreeformFallbackBlockName("core/html"),(0,qe.registerLegacyWidgetBlock)({inserter:!1}),(0,qe.registerWidgetGroupBlock)({inserter:!1}),(0,G.dispatch)(Z.store).setDefaults("core/edit-site",{editorMode:"visual",fixedToolbar:!1,focusMode:!1,distractionFree:!1,keepCaretInsideBlock:!1,showListViewByDefault:!1,showBlockBreadcrumbs:!0}),(0,G.dispatch)(D).setDefaultComplementaryArea("core/edit-site","edit-site/template"),(0,G.dispatch)(K).updateSettings(n),(0,G.dispatch)(N.store).updateEditorSettings({defaultTemplateTypes:n.defaultTemplateTypes,defaultTemplatePartAreas:n.defaultTemplatePartAreas}),window.addEventListener("dragover",e=>e.preventDefault(),!1),window.addEventListener("drop",e=>e.preventDefault(),!1),e.render((0,H.createElement)(bm,null)),e}function Cm(){r()("gc.editSite.reinitializeEditor",{since:"6.2",version:"6.3"})}}(),(window.gc=window.gc||{}).editSite=Nm}();