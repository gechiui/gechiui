/*! This file is auto-generated */
!function(){var n={4403:function(e,t){var n;!function(){"use strict";var l={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a,r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n))n.length&&(a=s.apply(null,n))&&e.push(a);else if("object"==r)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var o in n)l.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(" ")}e.exports?e.exports=s.default=s:void 0!==(n=function(){return s}.apply(t,[]))&&(e.exports=n)}()}},a={};function kr(e){var t=a[e];return void 0!==t||(t=a[e]={exports:{}},n[e](t,t.exports,kr)),t.exports}kr.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return kr.d(t,{a:t}),t},kr.d=function(e,t){for(var n in t)kr.o(t,n)&&!kr.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},kr.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},kr.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var Cr={};!function(){"use strict";kr.r(Cr),kr.d(Cr,{PluginBlockSettingsMenuItem:function(){return fr},PluginDocumentSettingPanel:function(){return Za},PluginMoreMenuItem:function(){return yr},PluginPostPublishPanel:function(){return Ya},PluginPostStatusInfo:function(){return Ea},PluginPrePublishPanel:function(){return er},PluginSidebar:function(){return qa},PluginSidebarMoreMenuItem:function(){return Sr},__experimentalFullscreenModeClose:function(){return Pn},__experimentalMainDashboardButton:function(){return Un},initializeEditor:function(){return wr},reinitializeEditor:function(){return Pr},store:function(){return q}});var e={},t=(kr.r(e),kr.d(e,{closeModal:function(){return ne},disableComplementaryArea:function(){return k},enableComplementaryArea:function(){return P},openModal:function(){return te},pinItem:function(){return C},setDefaultComplementaryArea:function(){return w},setFeatureDefaults:function(){return ee},setFeatureValue:function(){return J},toggleFeature:function(){return $},unpinItem:function(){return T}}),{}),n=(kr.r(t),kr.d(t,{getActiveComplementaryArea:function(){return ae},isComplementaryAreaLoading:function(){return re},isFeatureActive:function(){return le},isItemPinned:function(){return oe},isModalActive:function(){return se}}),{}),a=(kr.r(n),kr.d(n,{__experimentalSetPreviewDeviceType:function(){return ut},__unstableCreateTemplate:function(){return Et},__unstableSwitchToTemplateMode:function(){return _t},closeGeneralSidebar:function(){return je},closeModal:function(){return Ke},closePublishSidebar:function(){return Xe},hideBlockTypes:function(){return lt},initializeMetaBoxes:function(){return bt},metaBoxUpdatesFailure:function(){return dt},metaBoxUpdatesSuccess:function(){return ct},openGeneralSidebar:function(){return qe},openModal:function(){return We},openPublishSidebar:function(){return Qe},removeEditorPanel:function(){return et},requestMetaBoxUpdates:function(){return it},setAvailableMetaBoxesPerLocation:function(){return st},setIsEditingTemplate:function(){return gt},setIsInserterOpened:function(){return mt},setIsListViewOpened:function(){return pt},showBlockTypes:function(){return ot},switchEditorMode:function(){return nt},toggleEditorPanelEnabled:function(){return $e},toggleEditorPanelOpened:function(){return Je},toggleFeature:function(){return tt},togglePinnedPluginItem:function(){return at},togglePublishSidebar:function(){return Ye},updatePreferredStyleVariations:function(){return rt}}),{}),D=(kr.r(a),kr.d(a,{__experimentalGetInsertionPoint:function(){return Kt},__experimentalGetPreviewDeviceType:function(){return jt},areMetaBoxesInitialized:function(){return Yt},getActiveGeneralSidebarName:function(){return xt},getActiveMetaBoxLocations:function(){return Ft},getAllMetaBoxes:function(){return zt},getEditedPostTemplate:function(){return $t},getEditorMode:function(){return kt},getHiddenBlockTypes:function(){return It},getMetaBoxesPerLocation:function(){return Gt},getPreference:function(){return Bt},getPreferences:function(){return Mt},hasMetaBoxes:function(){return Zt},isEditingTemplate:function(){return Xt},isEditorPanelEnabled:function(){return At},isEditorPanelOpened:function(){return Dt},isEditorPanelRemoved:function(){return Nt},isEditorSidebarOpened:function(){return Ct},isFeatureActive:function(){return Ot},isInserterOpened:function(){return Wt},isListViewOpened:function(){return Qt},isMetaBoxLocationActive:function(){return Ut},isMetaBoxLocationVisible:function(){return Ht},isModalActive:function(){return Vt},isPluginItemPinned:function(){return Rt},isPluginSidebarOpened:function(){return Tt},isPublishSidebarOpened:function(){return Lt},isSavingMetaBoxes:function(){return qt}}),window.gc.element),I=window.gc.blocks,_=window.gc.blockLibrary,r=window.gc.deprecated,o=kr.n(r),V=window.gc.data,l=window.gc.hooks,x=window.gc.preferences,h=window.gc.widgets,b=window.gc.mediaUtils,O=((0,l.addFilter)("editor.MediaUpload","core/edit-post/replace-media-upload",()=>b.MediaUpload),window.gc.components),L=window.gc.blockEditor,R=window.gc.i18n,N=window.gc.compose;const v=(0,N.compose)((0,V.withSelect)((e,t)=>{return(0,I.hasBlockSupport)(t.name,"multiple",!0)?{}:{originalBlockClientId:(e=e(L.store).getBlocks().find(({name:e})=>t.name===e))&&e.clientId!==t.clientId&&e.clientId}}),(0,V.withDispatch)((e,{originalBlockClientId:t})=>({selectFirst:()=>e(L.store).selectBlock(t)})));r=(0,N.createHigherOrderComponent)(r=>v(({originalBlockClientId:e,selectFirst:t,...n})=>{if(!e)return(0,D.createElement)(r,{...n});e=(0,I.getBlockType)(n.name);const a=function(e){e=(0,I.findTransform)((0,I.getBlockTransforms)("to",e),({type:e,blocks:t})=>"block"===e&&1===t.length);return e?(0,I.getBlockType)(e.blocks[0]):null}(n.name);return[(0,D.createElement)("div",{key:"invalid-preview",style:{minHeight:"60px"}},(0,D.createElement)(r,{key:"block-edit",...n})),(0,D.createElement)(L.Warning,{key:"multiple-use-warning",actions:[(0,D.createElement)(O.Button,{key:"find-original",variant:"secondary",onClick:t},(0,R.__)("\u67e5\u627e\u539f\u4ef6")),(0,D.createElement)(O.Button,{key:"remove",variant:"secondary",onClick:()=>n.onReplace([])},(0,R.__)("\u79fb\u9664")),a&&(0,D.createElement)(O.Button,{key:"transform",variant:"secondary",onClick:()=>n.onReplace((0,I.createBlock)(a.name,n.attributes))},(0,R.__)("\u8f6c\u6362\u81f3\uff1a")," ",a.title)]},(0,D.createElement)("strong",null,e?.title,": "),(0,R.__)("\u6b64\u533a\u5757\u53ea\u80fd\u88ab\u4f7f\u7528\u4e00\u6b21\u3002"))]}),"withMultipleValidation");(0,l.addFilter)("editor.BlockEdit","core/edit-post/validate-multiple-use/with-multiple-validation",r);var A=window.gc.coreData,F=window.gc.editor,r=window.gc.primitives,f=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"})),M=window.gc.plugins,c=window.gc.url,B=window.gc.notices;function y(){const e=(0,V.useDispatch)(B.store)["createNotice"];var t=(0,V.useSelect)(e=>()=>e(F.store).getEditedPostAttribute("content"),[]);t=(0,N.useCopyToClipboard)(t,function(){e("info",(0,R.__)("\u5df2\u590d\u5236\u6240\u6709\u5185\u5bb9\u3002"),{isDismissible:!0,type:"snackbar"})});return(0,D.createElement)(O.MenuItem,{ref:t},(0,R.__)("\u590d\u5236\u5168\u90e8\u533a\u5757"))}var m=window.gc.keycodes,s=kr(4403),H=kr.n(s),K=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),Q=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})),X=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),Y=window.gc.viewport,S=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));const w=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),P=(n,a)=>({registry:e,dispatch:t})=>{a&&(e.select(x.store).get(n,"isComplementaryAreaVisible")||e.dispatch(x.store).set(n,"isComplementaryAreaVisible",!0),t({type:"ENABLE_COMPLEMENTARY_AREA",scope:n,area:a}))},k=t=>({registry:e})=>{e.select(x.store).get(t,"isComplementaryAreaVisible")&&e.dispatch(x.store).set(t,"isComplementaryAreaVisible",!1)},C=(n,a)=>({registry:e})=>{var t;a&&!0!==(t=e.select(x.store).get(n,"pinnedItems"))?.[a]&&e.dispatch(x.store).set(n,"pinnedItems",{...t,[a]:!0})},T=(n,a)=>({registry:e})=>{var t;a&&(t=e.select(x.store).get(n,"pinnedItems"),e.dispatch(x.store).set(n,"pinnedItems",{...t,[a]:!1}))};function $(t,n){return function({registry:e}){o()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),e.dispatch(x.store).toggle(t,n)}}function J(t,n,a){return function({registry:e}){o()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),e.dispatch(x.store).set(t,n,!!a)}}function ee(t,n){return function({registry:e}){o()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),e.dispatch(x.store).setDefaults(t,n)}}function te(e){return{type:"OPEN_MODAL",name:e}}function ne(){return{type:"CLOSE_MODAL"}}const ae=(0,V.createRegistrySelector)(a=>(e,t)=>{var n=a(x.store).get(t,"isComplementaryAreaVisible");if(void 0!==n)return!1===n?null:e?.complementaryAreas?.[t]}),re=(0,V.createRegistrySelector)(a=>(e,t)=>{var n=a(x.store).get(t,"isComplementaryAreaVisible"),e=e?.complementaryAreas?.[t];return n&&void 0===e}),oe=(0,V.createRegistrySelector)(a=>(e,t,n)=>{return null==(t=a(x.store).get(t,"pinnedItems")?.[n])||t}),le=(0,V.createRegistrySelector)(a=>(e,t,n)=>(o()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!a(x.store).get(t,n)));function se(e,t){return e.activeModal===t}s=(0,V.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":var{scope:n,area:a}=t;return e[n]?e:{...e,[n]:a};case"ENABLE_COMPLEMENTARY_AREA":var{scope:n,area:a}=t;return{...e,[n]:a}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}});const U=(0,V.createReduxStore)("core/interface",{reducer:s,actions:e,selectors:t});(0,V.register)(U);s=(0,M.withPluginContext)((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||e.name+"/"+t.name}));var ie=s(function({as:e=O.Button,scope:t,identifier:n,icon:a,selectedIcon:r,name:o,...l}){const s=(0,V.useSelect)(e=>e(U).getActiveComplementaryArea(t)===n,[n]),{enableComplementaryArea:i,disableComplementaryArea:c}=(0,V.useDispatch)(U);return(0,D.createElement)(e,{icon:r&&s?r:a,onClick:()=>{s?c(t):i(t,n)},...l})}),ce=({smallScreenTitle:e,children:t,className:n,toggleButtonProps:a})=>{a=(0,D.createElement)(ie,{icon:S,...a});return(0,D.createElement)(D.Fragment,null,(0,D.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},e&&(0,D.createElement)("span",{className:"interface-complementary-area-header__small-title"},e),a),(0,D.createElement)("div",{className:H()("components-panel__header","interface-complementary-area-header",n),tabIndex:-1},t,a))};const de=()=>{};function ue({name:e,as:n=O.Button,onClick:a,...r}){return(0,D.createElement)(O.Fill,{name:e},({onClick:t})=>(0,D.createElement)(n,{onClick:a||t?(...e)=>{(a||de)(...e),(t||de)(...e)}:void 0,...r}))}ue.Slot=function({name:e,as:t=O.ButtonGroup,fillProps:n={},bubblesVirtually:a,...r}){return(0,D.createElement)(O.Slot,{name:e,bubblesVirtually:a,fillProps:n},e=>{if(!D.Children.toArray(e).length)return null;const n=[];D.Children.forEach(e,({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&n.push(t)});e=D.Children.map(e,e=>!e.props.__unstableExplicitMenuItem&&n.includes(e.props.__unstableTarget)?null:e);return(0,D.createElement)(t,{...r},e)})};var me=ue;const pe=({__unstableExplicitMenuItem:e,__unstableTarget:t,...n})=>(0,D.createElement)(O.MenuItem,{...n});function ge({scope:t,target:n,__unstableExplicitMenuItem:a,...e}){return(0,D.createElement)(ie,{as:e=>(0,D.createElement)(me,{__unstableExplicitMenuItem:a,__unstableTarget:t+"/"+n,as:pe,name:t+"/plugin-more-menu",...e}),role:"menuitemcheckbox",selectedIcon:K,name:n,scope:t,...e})}function _e({scope:e,...t}){return(0,D.createElement)(O.Fill,{name:"PinnedItems/"+e,...t})}_e.Slot=function({scope:e,className:t,...n}){return(0,D.createElement)(O.Slot,{name:"PinnedItems/"+e,...n},e=>0<e?.length&&(0,D.createElement)("div",{className:H()(t,"interface-pinned-items")},e))};var Ee=_e;function he({scope:e,children:t,className:n}){return(0,D.createElement)(O.Fill,{name:"ComplementaryArea/"+e},(0,D.createElement)("div",{className:n},t))}var e=s(function({children:e,className:t,closeLabel:n=(0,R.__)("\u5173\u95ed\u63d2\u4ef6"),identifier:r,header:a,headerClassName:o,icon:l,isPinnable:s=!0,panelClassName:i,scope:c,name:d,smallScreenTitle:u,title:m,toggleShortcut:p,isActiveByDefault:g,showIconLabels:_=!1}){const{isLoading:E,isActive:h,isPinned:b,activeArea:v,isSmall:f,isLarge:y}=(0,V.useSelect)(e=>{var{getActiveComplementaryArea:t,isComplementaryAreaLoading:n,isItemPinned:a}=e(U),t=t(c);return{isLoading:n(c),isActive:t===r,isPinned:a(c,r),activeArea:t,isSmall:e(Y.store).isViewportMatch("< medium"),isLarge:e(Y.store).isViewportMatch("large")}},[r,c]);{var S=c,w=r,P=v,k=h,C=f;const I=(0,D.useRef)(!1),L=(0,D.useRef)(!1),{enableComplementaryArea:N,disableComplementaryArea:A}=(0,V.useDispatch)(U);(0,D.useEffect)(()=>{k&&C&&!I.current?(A(S),L.current=!0):L.current&&!C&&I.current?(L.current=!1,N(S,w)):L.current&&P&&P!==w&&(L.current=!1),C!==I.current&&(I.current=C)},[k,C,S,w,P])}const{enableComplementaryArea:T,disableComplementaryArea:x,pinItem:M,unpinItem:B}=(0,V.useDispatch)(U);return(0,D.useEffect)(()=>{g&&void 0===v&&!f?T(c,r):void 0===v&&f&&x(c,r)},[v,g,c,r,f]),(0,D.createElement)(D.Fragment,null,s&&(0,D.createElement)(Ee,{scope:c},b&&(0,D.createElement)(ie,{scope:c,identifier:r,isPressed:h&&(!_||y),"aria-expanded":h,"aria-disabled":E,label:m,icon:_?K:l,showTooltip:!_,variant:_?"tertiary":void 0})),d&&s&&(0,D.createElement)(ge,{target:d,scope:c,icon:l},m),h&&(0,D.createElement)(he,{className:H()("interface-complementary-area",t),scope:c},(0,D.createElement)(ce,{className:o,closeLabel:n,onClose:()=>x(c),smallScreenTitle:u,toggleButtonProps:{label:n,shortcut:p,scope:c,identifier:r}},a||(0,D.createElement)(D.Fragment,null,(0,D.createElement)("strong",null,m),s&&(0,D.createElement)(O.Button,{className:"interface-complementary-area__pin-unpin-item",icon:b?Q:X,label:b?(0,R.__)("\u4ece\u5de5\u5177\u680f\u79fb\u9664"):(0,R.__)("\u56fa\u5b9a\u81f3\u5de5\u5177\u680f"),onClick:()=>(b?B:M)(c,r),isPressed:b,"aria-expanded":b}))),(0,D.createElement)(O.Panel,{className:i},e)))}),be=(e.Slot=function({scope:e,...t}){return(0,D.createElement)(O.Slot,{name:"ComplementaryArea/"+e,...t})},e),ve=({isActive:e})=>((0,D.useEffect)(()=>{let e=!1;return document.body.classList.contains("sticky-menu")&&(e=!0,document.body.classList.remove("sticky-menu")),()=>{e&&document.body.classList.add("sticky-menu")}},[]),(0,D.useEffect)(()=>(e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode"),()=>{e&&document.body.classList.remove("is-fullscreen-mode")}),[e]),null);function E({children:e,className:t,ariaLabel:n,as:a="div",...r}){return(0,D.createElement)(a,{className:H()("interface-navigable-region",t),"aria-label":n,role:"region",tabIndex:"-1",...r},e)}const fe={hidden:{opacity:0},hover:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}},distractionFreeInactive:{opacity:1,transition:{delay:0}}};var ye=(0,D.forwardRef)(function({isDistractionFree:e,footer:t,header:n,editorNotices:a,sidebar:r,secondarySidebar:o,notices:l,content:s,actions:i,labels:c,className:d,enableRegionNavigation:u=!0,shortcuts:m},p){var g,m=(0,O.__unstableUseNavigateRegions)(m);g="interface-interface-skeleton__html-container",(0,D.useEffect)(()=>{const e=document&&document.querySelector(`html:not(.${g})`);if(e)return e.classList.toggle(g),()=>{e.classList.toggle(g)}},[g]);var _={..._={header:(0,R.__)("\u9875\u7709"),body:(0,R.__)("\u5185\u5bb9"),secondarySidebar:(0,R.__)("\u533a\u5757\u5e93"),sidebar:(0,R.__)("\u8bbe\u7f6e"),actions:(0,R.__)("\u53d1\u5e03"),footer:(0,R.__)("\u9875\u811a")},...c};return(0,D.createElement)("div",{...u?m:{},ref:(0,N.useMergeRefs)([p,u?m.ref:void 0]),className:H()(d,"interface-interface-skeleton",m.className,!!t&&"has-footer")},(0,D.createElement)("div",{className:"interface-interface-skeleton__editor"},!!n&&(0,D.createElement)(E,{as:O.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":_.header,initial:e?"hidden":"distractionFreeInactive",whileHover:e?"hover":"distractionFreeInactive",animate:e?"hidden":"distractionFreeInactive",variants:fe,transition:e?{type:"tween",delay:.8}:void 0},n),e&&(0,D.createElement)("div",{className:"interface-interface-skeleton__header"},a),(0,D.createElement)("div",{className:"interface-interface-skeleton__body"},!!o&&(0,D.createElement)(E,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:_.secondarySidebar},o),!!l&&(0,D.createElement)("div",{className:"interface-interface-skeleton__notices"},l),(0,D.createElement)(E,{className:"interface-interface-skeleton__content",ariaLabel:_.body},s),!!r&&(0,D.createElement)(E,{className:"interface-interface-skeleton__sidebar",ariaLabel:_.sidebar},r),!!i&&(0,D.createElement)(E,{className:"interface-interface-skeleton__actions",ariaLabel:_.actions},i))),!!t&&(0,D.createElement)(E,{className:"interface-interface-skeleton__footer",ariaLabel:_.footer},t))}),Se=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function we({as:e=O.DropdownMenu,className:t,label:n=(0,R.__)("\u9009\u9879"),popoverProps:a,toggleProps:r,children:o}){return(0,D.createElement)(e,{className:H()("interface-more-menu-dropdown",t),icon:Se,label:n,popoverProps:{placement:"bottom-end",...a,className:H()("interface-more-menu-dropdown__content",a?.className)},toggleProps:{tooltipPosition:"bottom",...r}},e=>o(e))}function Pe({closeModal:e,children:t}){return(0,D.createElement)(O.Modal,{className:"interface-preferences-modal",title:(0,R.__)("\u504f\u597d\u8bbe\u7f6e"),onRequestClose:e},t)}var ke=function({icon:e,size:t=24,...n}){return(0,D.cloneElement)(e,{width:t,height:t,...n})},Ce=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),Te=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"}));const xe="preferences-menu";function Me({sections:t}){var e=(0,N.useViewportMatch)("medium"),[n,a]=(0,D.useState)(xe);const{tabs:r,sectionsContentMap:o}=(0,D.useMemo)(()=>{let e={tabs:[],sectionsContentMap:{}};return e=t.length?t.reduce((e,{name:t,tabLabel:n,content:a})=>(e.tabs.push({name:t,title:n}),e.sectionsContentMap[t]=a,e),{tabs:[],sectionsContentMap:{}}):e},[t]);var l=(0,D.useCallback)(e=>o[e.name]||null,[o]);let s;return s=e?(0,D.createElement)(O.TabPanel,{className:"interface-preferences__tabs",tabs:r,initialTabName:n!==xe?n:void 0,onSelect:a,orientation:"vertical"},l):(0,D.createElement)(O.__experimentalNavigatorProvider,{initialPath:"/",className:"interface-preferences__provider"},(0,D.createElement)(O.__experimentalNavigatorScreen,{path:"/"},(0,D.createElement)(O.Card,{isBorderless:!0,size:"small"},(0,D.createElement)(O.CardBody,null,(0,D.createElement)(O.__experimentalItemGroup,null,r.map(e=>(0,D.createElement)(O.__experimentalNavigatorButton,{key:e.name,path:e.name,as:O.__experimentalItem,isAction:!0},(0,D.createElement)(O.__experimentalHStack,{justify:"space-between"},(0,D.createElement)(O.FlexItem,null,(0,D.createElement)(O.__experimentalTruncate,null,e.title)),(0,D.createElement)(O.FlexItem,null,(0,D.createElement)(ke,{icon:(0,R.isRTL)()?Ce:Te}))))))))),t.length&&t.map(e=>(0,D.createElement)(O.__experimentalNavigatorScreen,{key:e.name+"-menu",path:e.name},(0,D.createElement)(O.Card,{isBorderless:!0,size:"large"},(0,D.createElement)(O.CardHeader,{isBorderless:!1,justify:"left",size:"small",gap:"6"},(0,D.createElement)(O.__experimentalNavigatorBackButton,{icon:(0,R.isRTL)()?Te:Ce,"aria-label":(0,R.__)("\u5bfc\u822a\u81f3\u4e0a\u4e00\u89c6\u56fe")}),(0,D.createElement)(O.__experimentalText,{size:"16"},e.tabLabel)),(0,D.createElement)(O.CardBody,null,e.content)))))}var d=({description:e,title:t,children:n})=>(0,D.createElement)("fieldset",{className:"interface-preferences-modal__section"},(0,D.createElement)("legend",{className:"interface-preferences-modal__section-legend"},(0,D.createElement)("h2",{className:"interface-preferences-modal__section-title"},t),e&&(0,D.createElement)("p",{className:"interface-preferences-modal__section-description"},e)),n);function i({help:e,label:t,isChecked:n,onChange:a,children:r}){return(0,D.createElement)("div",{className:"interface-preferences-modal__option"},(0,D.createElement)(O.ToggleControl,{__nextHasNoMarginBottom:!0,help:e,label:t,checked:n,onChange:a}),r)}var G=window.gc.keyboardShortcuts;const Be=[{keyCombination:{modifier:"primary",character:"b"},description:(0,R.__)("\u5c06\u9009\u4e2d\u7684\u6587\u5b57\u52a0\u7c97\u3002")},{keyCombination:{modifier:"primary",character:"i"},description:(0,R.__)("\u5c06\u9009\u4e2d\u7684\u6587\u5b57\u8bbe\u4e3a\u659c\u4f53\u3002")},{keyCombination:{modifier:"primary",character:"k"},description:(0,R.__)("\u5c06\u9009\u4e2d\u7684\u6587\u5b57\u8f6c\u6362\u4e3a\u94fe\u63a5\u3002")},{keyCombination:{modifier:"primaryShift",character:"k"},description:(0,R.__)("\u79fb\u9664\u94fe\u63a5\u3002")},{keyCombination:{character:"[["},description:(0,R.__)("\u63d2\u5165\u4e00\u4e2a\u6307\u5411\u6587\u7ae0\u6216\u9875\u9762\u7684\u94fe\u63a5\u3002")},{keyCombination:{modifier:"primary",character:"u"},description:(0,R.__)("\u7ed9\u9009\u4e2d\u7684\u6587\u5b57\u52a0\u4e0b\u5212\u7ebf\u3002")},{keyCombination:{modifier:"access",character:"d"},description:(0,R.__)("\u4e3a\u6240\u9009\u6587\u672c\u6dfb\u52a0\u5220\u9664\u7ebf\u3002")},{keyCombination:{modifier:"access",character:"x"},description:(0,R.__)("\u5c06\u9009\u5b9a\u7684\u6587\u672c\u8bbe\u4e3a\u5185\u8054\u4ee3\u7801\u3002")},{keyCombination:{modifier:"access",character:"0"},description:(0,R.__)("\u5c06\u5f53\u524d\u6807\u9898\u8f6c\u6362\u4e3a\u6bb5\u843d\u3002")},{keyCombination:{modifier:"access",character:"1-6"},description:(0,R.__)("\u5c06\u5f53\u524d\u6bb5\u843d\u6216\u6807\u9898\u8f6c\u6362\u4e3a\u7ea7\u522b\u4e3ah1\u5230h6\u7684\u6807\u9898\u3002")}];function Ie({keyCombination:e,forceAriaLabel:t}){var n=e.modifier?m.displayShortcutList[e.modifier](e.character):e.character,e=e.modifier?m.shortcutAriaLabel[e.modifier](e.character):e.character;return(0,D.createElement)("kbd",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-key-combination","aria-label":t||e},(Array.isArray(n)?n:[n]).map((e,t)=>"+"===e?(0,D.createElement)(D.Fragment,{key:t},e):(0,D.createElement)("kbd",{key:t,className:"edit-post-keyboard-shortcut-help-modal__shortcut-key"},e)))}function Le({description:e,keyCombination:t,aliases:n=[],ariaLabel:a}){return(0,D.createElement)(D.Fragment,null,(0,D.createElement)("div",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-description"},e),(0,D.createElement)("div",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-term"},(0,D.createElement)(Ie,{keyCombination:t,forceAriaLabel:a}),n.map((e,t)=>(0,D.createElement)(Ie,{keyCombination:e,forceAriaLabel:a,key:t}))))}function Ne({name:a}){var{keyCombination:e,description:t,aliases:n}=(0,V.useSelect)(e=>{var{getShortcutKeyCombination:e,getShortcutDescription:t,getShortcutAliases:n}=e(G.store);return{keyCombination:e(a),aliases:n(a),description:t(a)}},[a]);return e?(0,D.createElement)(Le,{keyCombination:e,description:t,aliases:n}):null}const z="edit-post/keyboard-shortcut-help",Ae=({shortcuts:e})=>(0,D.createElement)("ul",{className:"edit-post-keyboard-shortcut-help-modal__shortcut-list",role:"list"},e.map((e,t)=>(0,D.createElement)("li",{className:"edit-post-keyboard-shortcut-help-modal__shortcut",key:t},"string"==typeof e?(0,D.createElement)(Ne,{name:e}):(0,D.createElement)(Le,{...e})))),De=({title:e,shortcuts:t,className:n})=>(0,D.createElement)("section",{className:H()("edit-post-keyboard-shortcut-help-modal__section",n)},!!e&&(0,D.createElement)("h2",{className:"edit-post-keyboard-shortcut-help-modal__section-title"},e),(0,D.createElement)(Ae,{shortcuts:t})),Ve=({title:e,categoryName:t,additionalShortcuts:n=[]})=>{var a=(0,V.useSelect)(e=>e(G.store).getCategoryShortcuts(t),[t]);return(0,D.createElement)(De,{title:e,shortcuts:a.concat(n)})};var Oe=(0,N.compose)([(0,V.withSelect)(e=>({isModalActive:e(U).isModalActive(z)})),(0,V.withDispatch)((e,{isModalActive:t})=>{const{openModal:n,closeModal:a}=e(U);return{toggleModal:()=>t?a():n(z)}})])(function({isModalActive:e,toggleModal:t}){return(0,G.useShortcut)("core/edit-post/keyboard-shortcuts",t),e?(0,D.createElement)(O.Modal,{className:"edit-post-keyboard-shortcut-help-modal",title:(0,R.__)("\u952e\u76d8\u5feb\u6377\u952e"),closeButtonLabel:(0,R.__)("\u5173\u95ed"),onRequestClose:t},(0,D.createElement)(De,{className:"edit-post-keyboard-shortcut-help-modal__main-shortcuts",shortcuts:["core/edit-post/keyboard-shortcuts"]}),(0,D.createElement)(Ve,{title:(0,R.__)("\u5168\u5c40\u5feb\u6377\u952e"),categoryName:"global"}),(0,D.createElement)(Ve,{title:(0,R.__)("\u9009\u5b9a\u5feb\u6377\u952e"),categoryName:"selection"}),(0,D.createElement)(Ve,{title:(0,R.__)("\u533a\u5757\u5feb\u6377\u952e"),categoryName:"block",additionalShortcuts:[{keyCombination:{character:"/"},description:(0,R.__)("\u5728\u6dfb\u52a0\u65b0\u6bb5\u843d\u540e\u4fee\u6539\u533a\u5757\u7c7b\u578b\u3002"),ariaLabel:(0,R.__)("\u6b63\u659c\u6760")}]}),(0,D.createElement)(De,{title:(0,R.__)("\u6587\u5b57\u5185\u5bb9\u683c\u5f0f\u5316"),shortcuts:Be})):null});var Re=(0,V.withDispatch)(e=>{e=e(U).openModal;return{openModal:e}})(function({openModal:e}){return(0,D.createElement)(O.MenuItem,{onClick:()=>{e(z)},shortcut:m.displayShortcut.access("h")},(0,R.__)("\u952e\u76d8\u5feb\u6377\u952e"))});const{Fill:Fe,Slot:He}=(0,O.createSlotFill)("ToolsMoreMenuGroup");Fe.Slot=({fillProps:e})=>(0,D.createElement)(He,{fillProps:e},e=>0<e.length&&(0,D.createElement)(O.MenuGroup,{label:(0,R.__)("\u5de5\u5177")},e));var Ue=Fe;function Ge(){var e=(0,V.useSelect)(e=>{var t=e(A.store)["canUser"],e=e(F.store)["getEditorSettings"],e=e().__unstableIsBlockBasedTheme,n=(0,c.addQueryArgs)("edit.php",{post_type:"gc_block"}),a=(0,c.addQueryArgs)("site-editor.php",{path:"/patterns"});return t("read","templates")&&e?a:n},[]);return(0,D.createElement)(O.MenuItem,{role:"menuitem",href:e},(0,R.__)("\u7ba1\u7406\u6837\u677f"))}(0,M.registerPlugin)("edit-post",{render(){return(0,D.createElement)(D.Fragment,null,(0,D.createElement)(Ue,null,({onClose:e})=>(0,D.createElement)(D.Fragment,null,(0,D.createElement)(Ge,null),(0,D.createElement)(Re,{onSelect:e}),(0,D.createElement)(y,null),(0,D.createElement)(O.MenuItem,{role:"menuitem",icon:f,href:(0,R.__)("https://www.gechiui.com/support/gechiui-block-editor/"),target:"_blank",rel:"noopener noreferrer"},(0,R.__)("\u5e2e\u52a9"),(0,D.createElement)(O.VisuallyHidden,{as:"span"},(0,R.__)("\uff08\u5728\u65b0\u7a97\u53e3\u4e2d\u6253\u5f00\uff09"))))))}});var Z=window.gc.commands,t=window.gc.coreCommands;var s=(0,V.combineReducers)({isSaving:function(e=!1,t){switch(t.type){case"REQUEST_META_BOX_UPDATES":return!0;case"META_BOX_UPDATES_SUCCESS":case"META_BOX_UPDATES_FAILURE":return!1;default:return e}},locations:function(e={},t){if("SET_META_BOXES_PER_LOCATIONS"!==t.type)return e;var n,a,r={...e};for([n,a]of Object.entries(t.metaBoxesPerLocation))r[n]=function(e=[],t){var n=[...e];for(const r of t){var a=n.findIndex(e=>e.id===r.id);-1!==a?n[a]=r:n.push(r)}return n}(r[n],a);return r},initialized:function(e=!1,t){return"META_BOXES_INITIALIZED"===t.type||e}}),e=(0,V.combineReducers)({metaBoxes:s,publishSidebarActive:function(e=!1,t){switch(t.type){case"OPEN_PUBLISH_SIDEBAR":return!0;case"CLOSE_PUBLISH_SIDEBAR":return!1;case"TOGGLE_PUBLISH_SIDEBAR":return!e}return e},removedPanels:function(e=[],t){if("REMOVE_PANEL"===t.type)if(!e.includes(t.panelName))return[...e,t.panelName];return e},deviceType:function(e="Desktop",t){return"SET_PREVIEW_DEVICE_TYPE"===t.type?t.deviceType:e},blockInserterPanel:function(e=!1,t){switch(t.type){case"SET_IS_LIST_VIEW_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return t.value}return e},listViewPanel:function(e=!1,t){switch(t.type){case"SET_IS_INSERTER_OPENED":return!t.value&&e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen}return e},isEditingTemplate:function(e=!1,t){return"SET_IS_EDITING_TEMPLATE"===t.type?t.value:e}}),s=window.gc.apiFetch,ze=kr.n(s),Ze=window.gc.a11y;const qe=t=>({registry:e})=>e.dispatch(U).enableComplementaryArea(q.name,t),je=()=>({registry:e})=>e.dispatch(U).disableComplementaryArea(q.name),We=t=>({registry:e})=>(o()("select( 'core/edit-post' ).openModal( name )",{since:"6.3",alternative:"select( 'core/interface').openModal( name )"}),e.dispatch(U).openModal(t)),Ke=()=>({registry:e})=>(o()("select( 'core/edit-post' ).closeModal()",{since:"6.3",alternative:"select( 'core/interface').closeModal()"}),e.dispatch(U).closeModal());function Qe(){return{type:"OPEN_PUBLISH_SIDEBAR"}}function Xe(){return{type:"CLOSE_PUBLISH_SIDEBAR"}}function Ye(){return{type:"TOGGLE_PUBLISH_SIDEBAR"}}const $e=r=>({registry:e})=>{var t=null!=(t=e.select(x.store).get("core/edit-post","inactivePanels"))?t:[],n=!!t?.includes(r);let a;a=n?t.filter(e=>e!==r):[...t,r],e.dispatch(x.store).set("core/edit-post","inactivePanels",a)},Je=r=>({registry:e})=>{var t=null!=(t=e.select(x.store).get("core/edit-post","openPanels"))?t:[],n=!!t?.includes(r);let a;a=n?t.filter(e=>e!==r):[...t,r],e.dispatch(x.store).set("core/edit-post","openPanels",a)};function et(e){return{type:"REMOVE_PANEL",panelName:e}}const tt=t=>({registry:e})=>e.dispatch(x.store).toggle("core/edit-post",t),nt=t=>({registry:e})=>{e.dispatch(x.store).set("core/edit-post","editorMode",t),"visual"!==t&&e.dispatch(L.store).clearSelectedBlock();e="visual"===t?(0,R.__)("\u5df2\u9009\u62e9\u53ef\u89c6\u5316\u7f16\u8f91\u5668"):(0,R.__)("\u5df2\u9009\u62e9\u4ee3\u7801\u7f16\u8f91\u5668");(0,Ze.speak)(e,"assertive")},at=n=>({registry:e})=>{var t=e.select(U).isItemPinned("core/edit-post",n);e.dispatch(U)[t?"unpinItem":"pinItem"]("core/edit-post",n)},rt=(n,a)=>({registry:e})=>{var t;n&&(t=null!=(t=e.select(x.store).get("core/edit-post","preferredStyleVariations"))?t:{},a?e.dispatch(x.store).set("core/edit-post","preferredStyleVariations",{...t,[n]:a}):(delete(t={...t})[n],e.dispatch(x.store).set("core/edit-post","preferredStyleVariations",t)))},ot=n=>({registry:e})=>{var t=(null!=(t=e.select(x.store).get("core/edit-post","hiddenBlockTypes"))?t:[]).filter(e=>!(Array.isArray(n)?n:[n]).includes(e));e.dispatch(x.store).set("core/edit-post","hiddenBlockTypes",t)},lt=n=>({registry:e})=>{var t=null!=(t=e.select(x.store).get("core/edit-post","hiddenBlockTypes"))?t:[],t=new Set([...t,...Array.isArray(n)?n:[n]]);e.dispatch(x.store).set("core/edit-post","hiddenBlockTypes",[...t])};function st(e){return{type:"SET_META_BOXES_PER_LOCATIONS",metaBoxesPerLocation:e}}const it=()=>async({registry:e,select:t,dispatch:n})=>{n({type:"REQUEST_META_BOX_UPDATES"}),window.tinyMCE&&window.tinyMCE.triggerSave();e=e.select(F.store).getCurrentPost(),e=[!!e.comment_status&&["comment_status",e.comment_status],!!e.ping_status&&["ping_status",e.ping_status],!!e.sticky&&["sticky",e.sticky],!!e.author&&["post_author",e.author]].filter(Boolean);const a=[new window.FormData(document.querySelector(".metabox-base-form")),...t.getActiveMetaBoxLocations().map(e=>{return new window.FormData((e=e,document.querySelector(`.edit-post-meta-boxes-area.is-${e} .metabox-location-`+e)||document.querySelector("#metaboxes .metabox-location-"+e)))})].reduce((e,t)=>{for(var[n,a]of t)e.append(n,a);return e},new window.FormData);e.forEach(([e,t])=>a.append(e,t));try{await ze()({url:window._gcMetaBoxUrl,method:"POST",body:a,parse:!1}),n.metaBoxUpdatesSuccess()}catch{n.metaBoxUpdatesFailure()}};function ct(){return{type:"META_BOX_UPDATES_SUCCESS"}}function dt(){return{type:"META_BOX_UPDATES_FAILURE"}}function ut(e){return{type:"SET_PREVIEW_DEVICE_TYPE",deviceType:e}}function mt(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function pt(e){return{type:"SET_IS_LIST_VIEW_OPENED",isOpen:e}}function gt(e){return{type:"SET_IS_EDITING_TEMPLATE",value:e}}const _t=(n=!1)=>({registry:e,dispatch:t})=>{t(gt(!0));t=n?(0,R.__)("\u81ea\u5b9a\u4e49\u6a21\u677f\u5df2\u521b\u5efa\u3002\u4f60\u73b0\u5728\u5904\u4e8e\u6a21\u677f\u6a21\u5f0f\u3002"):(0,R.__)("\u7f16\u8f91\u6a21\u677f\u3002\u6b64\u5904\u6240\u505a\u7684\u66f4\u6539\u5c06\u5f71\u54cd\u4f7f\u7528\u8be5\u6a21\u677f\u7684\u6240\u6709\u6587\u7ae0\u548c\u9875\u9762\u3002");e.dispatch(B.store).createSuccessNotice(t,{type:"snackbar"})},Et=a=>async({registry:e})=>{var t=await e.dispatch(A.store).saveEntityRecord("postType","gc_template",a),n=e.select(F.store).getCurrentPost();e.dispatch(A.store).editEntityRecord("postType",n.type,n.id,{template:t.slug})};let ht=!1;const bt=()=>({registry:o,select:l,dispatch:s})=>{var e=o.select(F.store).__unstableIsEditorReady();if(e&&!ht){e=o.select(F.store).getCurrentPostType();window.postboxes.page!==e&&window.postboxes.add_postbox_toggles(e),ht=!0;let a=o.select(F.store).isSavingPost(),r=o.select(F.store).isAutosavingPost();o.subscribe(async()=>{var e=o.select(F.store).isSavingPost(),t=o.select(F.store).isAutosavingPost(),n=a&&!r&&!e&&l.hasMetaBoxes();a=e,r=t,n&&await s.requestMetaBoxUpdates()}),s({type:"META_BOXES_INITIALIZED"})}};var vt={};function ft(e){return[e]}function yt(e,t,n){var a;if(e.length===t.length){for(a=n;a<e.length;a++)if(e[a]!==t[a])return;return 1}}function St(l,e){var i,s=e||ft;function t(){i=new WeakMap}function n(){for(var e,t,n,a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];for((e=function(e){for(var t,n,a,r,o=i,l=!0,s=0;s<e.length;s++){if(t=e[s],!(a=t)||"object"!=typeof a){l=!1;break}o=o.has(t)?o.get(t):(a=new WeakMap,o.set(t,a),a)}return o.has(vt)||((n=r={clear:function(){r.head=null}}).isUniqueByDependants=l,o.set(vt,n)),o.get(vt)}(n=s.apply(null,r))).isUniqueByDependants||(e.lastDependants&&!yt(n,e.lastDependants,0)&&e.clear(),e.lastDependants=n),t=e.head;t;){if(yt(t.args,r,1))return t!==e.head&&(t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.next=e.head,t.prev=null,e.head.prev=t,e.head=t),t.val;t=t.next}return t={val:l.apply(null,r)},r[0]=null,t.args=r,e.head&&((e.head.prev=t).next=e.head),(e.head=t).val}return n.getDependants=s,(n.clear=t)(),n}const wt=[],Pt={},kt=(0,V.createRegistrySelector)(t=>()=>{var e;return null!=(e=t(x.store).get("core/edit-post","editorMode"))?e:"visual"}),Ct=(0,V.createRegistrySelector)(t=>()=>{var e=t(U).getActiveComplementaryArea("core/edit-post");return["edit-post/document","edit-post/block"].includes(e)}),Tt=(0,V.createRegistrySelector)(t=>()=>{var e=t(U).getActiveComplementaryArea("core/edit-post");return!!e&&!["edit-post/document","edit-post/block"].includes(e)}),xt=(0,V.createRegistrySelector)(e=>()=>e(U).getActiveComplementaryArea("core/edit-post"));const Mt=(0,V.createRegistrySelector)(a=>()=>{o()("select( 'core/edit-post' ).getPreferences",{since:"6.0",alternative:"select( 'core/preferences' ).get"});var e=["hiddenBlockTypes","editorMode","preferredStyleVariations"].reduce((e,t)=>{var n=a(x.store).get("core/edit-post",t);return{...e,[t]:n}},{}),t=function(e,t){e=e?.reduce((e,t)=>({...e,[t]:{enabled:!1}}),{});return null!=(t=null!=(t=t?.reduce((e,t)=>{var n=e?.[t];return{...e,[t]:{...n,opened:!0}}},null!=e?e:{}))?t:e)?t:Pt}(a(x.store).get("core/edit-post","inactivePanels"),a(x.store).get("core/edit-post","openPanels"));return{...e,panels:t}});function Bt(e,t,n){o()("select( 'core/edit-post' ).getPreference",{since:"6.0",alternative:"select( 'core/preferences' ).get"});e=Mt(e)[t];return void 0===e?n:e}const It=(0,V.createRegistrySelector)(t=>()=>{var e;return null!=(e=t(x.store).get("core/edit-post","hiddenBlockTypes"))?e:wt});function Lt(e){return e.publishSidebarActive}function Nt(e,t){return e.removedPanels.includes(t)}const At=(0,V.createRegistrySelector)(a=>(e,t)=>{var n=a(x.store).get("core/edit-post","inactivePanels");return!Nt(e,t)&&!n?.includes(t)}),Dt=(0,V.createRegistrySelector)(n=>(e,t)=>{return!!n(x.store).get("core/edit-post","openPanels")?.includes(t)}),Vt=(0,V.createRegistrySelector)(n=>(e,t)=>(o()("select( 'core/edit-post' ).isModalActive",{since:"6.3",alternative:"select( 'core/interface' ).isModalActive"}),!!n(U).isModalActive(t))),Ot=(0,V.createRegistrySelector)(n=>(e,t)=>!!n(x.store).get("core/edit-post",t)),Rt=(0,V.createRegistrySelector)(n=>(e,t)=>n(U).isItemPinned("core/edit-post",t)),Ft=St(t=>Object.keys(t.metaBoxes.locations).filter(e=>Ut(t,e)),e=>[e.metaBoxes.locations]);function Ht(t,e){return Ut(t,e)&&Gt(t,e)?.some(({id:e})=>At(t,"meta-box-"+e))}function Ut(e,t){e=Gt(e,t);return!!e&&0!==e.length}function Gt(e,t){return e.metaBoxes.locations[t]}const zt=St(e=>Object.values(e.metaBoxes.locations).flat(),e=>[e.metaBoxes.locations]);function Zt(e){return 0<Ft(e).length}function qt(e){return e.metaBoxes.isSaving}function jt(e){return e.deviceType}function Wt(e){return!!e.blockInserterPanel}function Kt(e){var{rootClientId:e,insertionIndex:t,filterValue:n}=e.blockInserterPanel;return{rootClientId:e,insertionIndex:t,filterValue:n}}function Qt(e){return e.listViewPanel}function Xt(e){return e.isEditingTemplate}function Yt(e){return e.metaBoxes.initialized}const $t=(0,V.createRegistrySelector)(n=>()=>{const t=n(F.store).getEditedPostAttribute("template");var e;return t?(e=n(A.store).getEntityRecords("postType","gc_template",{per_page:-1})?.find(e=>e.slug===t))&&n(A.store).getEditedEntityRecord("postType","gc_template",e.id):(e=n(F.store).getCurrentPost()).link?n(A.store).__experimentalGetTemplateForLink(e.link):null}),Jt="core/edit-post",q=(0,V.createReduxStore)(Jt,{reducer:e,actions:n,selectors:a});function en(){var e=(0,V.useSelect)(e=>e(F.store).getEditorSettings().richEditingEnabled,[]);const t=(0,V.useDispatch)(q)["switchEditorMode"];return(0,D.createElement)("div",{className:"edit-post-text-editor"},(0,D.createElement)(F.TextEditorGlobalKeyboardShortcuts,null),e&&(0,D.createElement)("div",{className:"edit-post-text-editor__toolbar"},(0,D.createElement)("h2",null,(0,R.__)("\u6b63\u5728\u7f16\u8f91\u4ee3\u7801")),(0,D.createElement)(O.Button,{variant:"tertiary",onClick:()=>t("visual"),shortcut:m.displayShortcut.secondary("m")},(0,R.__)("\u9000\u51fa\u4ee3\u7801\u7f16\u8f91\u5668"))),(0,D.createElement)("div",{className:"edit-post-text-editor__body"},(0,D.createElement)(F.PostTitle,null),(0,D.createElement)(F.PostTextEditor,null)))}(0,V.register)(q);s=(0,window.gc.privateApis.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I know using unstable features means my plugin or theme will inevitably break on the next GeChiUI release.","@gechiui/edit-post").unlock;const{LayoutStyle:j,useLayoutClasses:tn,useLayoutStyles:nn}=s(L.privateApis),an=!1;function rn({children:e,contentRef:t,shouldIframe:n,styles:a,style:r}){var o=(0,L.__unstableUseMouseMoveTypingReset)();return n?(0,D.createElement)(L.__unstableIframe,{ref:o,contentRef:t,style:{width:"100%",height:"100%",display:"block"},name:"editor-canvas"},(0,D.createElement)(L.__unstableEditorStyles,{styles:a}),e):(0,D.createElement)(D.Fragment,null,(0,D.createElement)(L.__unstableEditorStyles,{styles:a}),(0,D.createElement)(L.WritingFlow,{ref:t,className:"editor-styles-wrapper",style:{flex:"1",...r},tabIndex:-1},e))}function on(t){for(let e=0;e<t.length;e++){if("core/post-content"===t[e].name)return t[e].attributes;if(t[e].innerBlocks.length){var n=on(t[e].innerBlocks);if(n)return n}}}function ln({styles:e}){const{deviceType:t,isTemplateMode:n,postContentAttributes:a,editedPostTemplate:r={},wrapperBlockName:o,wrapperUniqueId:l,isBlockBasedTheme:s,hasV3BlocksOnly:i}=(0,V.useSelect)(e=>{var{isEditingTemplate:t,getEditedPostTemplate:n,__experimentalGetPreviewDeviceType:a}=e(q),{getCurrentPostId:r,getCurrentPostType:o,getEditorSettings:l}=e(F.store),s=e(I.store)["getBlockTypes"],t=t();let i;"gc_block"===o()?i="core/block":t||(i="core/post-content");var o=l(),c=o.supportsTemplateMode,e=e(A.store).canUser("create","templates");return{deviceType:a(),isTemplateMode:t,postContentAttributes:l().postContentAttributes,editedPostTemplate:c&&e?n():void 0,wrapperBlockName:i,wrapperUniqueId:r(),isBlockBasedTheme:o.__unstableIsBlockBasedTheme,hasV3BlocksOnly:s().every(e=>3<=e.apiVersion)}},[]),c=(0,V.useSelect)(F.store)["isCleanNewPost"];var d=(0,V.useSelect)(e=>e(q).hasMetaBoxes(),[]);const{hasRootPaddingAwareAlignments:u,isFocusMode:m,themeHasDisabledLayoutStyles:p,themeSupportsLayout:g}=(0,V.useSelect)(e=>{e=e(L.store).getSettings();return{themeHasDisabledLayoutStyles:e.disableLayoutStyles,themeSupportsLayout:e.supportsLayout,isFocusMode:e.focusMode,hasRootPaddingAwareAlignments:e.__experimentalFeatures?.useRootPaddingAwareAlignments}},[]);var _={height:"100%",width:"100%",margin:0,display:"flex",flexFlow:"column",background:"white"},E={..._,borderRadius:"2px 2px 0 0",border:"1px solid #ddd",borderBottom:0},h=(0,L.__experimentalUseResizeCanvas)(t,n);const b=(0,L.useSetting)("layout");var v="is-"+t.toLowerCase()+"-preview";let f=n?E:_;h&&(f=h);let y;d||h||n||(y="40vh");var E=(0,D.useRef)(),h=(0,N.useMergeRefs)([E,(0,L.__unstableUseClipboardHandler)(),(0,L.__unstableUseTypewriter)(),(0,L.__unstableUseTypingObserver)(),(0,L.__unstableUseBlockSelectionClearer)()]),S=(0,L.__unstableUseBlockSelectionClearer)(),w=(0,D.useMemo)(()=>!n&&g?{...b,type:"constrained"}:{type:"default"},[n,g,b]),P=(0,D.useMemo)(()=>{var e;return r?.content||r?.blocks?r?.blocks?on(r?.blocks):(e="string"==typeof r?.content?r?.content:"",on((0,I.parse)(e))||{}):a},[r?.content,r?.blocks,a]);const{layout:k={},align:C=""}=P||{};var T=tn(P,"core/post-content"),T=H()({"is-layout-flow":!g},g&&T,C&&"align"+C),P=nn(P,"core/post-content",".block-editor-block-list__layout.is-root-container"),x=(0,D.useMemo)(()=>k&&("constrained"===k?.type||k?.inherit||k?.contentSize||k?.wideSize)?{...b,...k,type:"constrained"}:{...b,...k,type:"default"},[k?.type,k?.inherit,k?.contentSize,k?.wideSize,b]),M=a?x:w;const B=(0,D.useRef)();(0,D.useEffect)(()=>{c()&&B?.current?.focus()},[c]),e=(0,D.useMemo)(()=>[...e,{css:".edit-post-visual-editor__post-title-wrapper{margin-top:4rem}"+(y?`body{padding-bottom:${y}}`:"")}],[e]);return(0,D.createElement)(L.BlockTools,{__unstableContentRef:E,className:H()("edit-post-visual-editor",{"is-template-mode":n})},(0,D.createElement)(F.VisualEditorGlobalKeyboardShortcuts,null),(0,D.createElement)(O.__unstableMotion.div,{className:"edit-post-visual-editor__content-area",animate:{padding:n?"48px 48px 0":0},ref:S},(0,D.createElement)(O.__unstableMotion.div,{animate:f,initial:_,className:v},(0,D.createElement)(rn,{shouldIframe:(i||an&&s)&&!d||n||"Tablet"===t||"Mobile"===t,contentRef:h,styles:e},g&&!p&&!n&&(0,D.createElement)(D.Fragment,null,(0,D.createElement)(j,{selector:".edit-post-visual-editor__post-title-wrapper",layout:w}),(0,D.createElement)(j,{selector:".block-editor-block-list__layout.is-root-container",layout:M}),C&&(0,D.createElement)(j,{css:`.is-root-container.alignwide { max-width: var(--gc--style--global--wide-size); margin-left: auto; margin-right: auto;}
		.is-root-container.alignwide:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: var(--gc--style--global--wide-size);}
		.is-root-container.alignfull { max-width: none; margin-left: auto; margin-right: auto;}
		.is-root-container.alignfull:where(.is-layout-flow) > :not(.alignleft):not(.alignright) { max-width: none;}`}),P&&(0,D.createElement)(j,{layout:x,css:P})),!n&&(0,D.createElement)("div",{className:H()("edit-post-visual-editor__post-title-wrapper",{"is-focus-mode":m,"has-global-padding":u}),contentEditable:!1},(0,D.createElement)(F.PostTitle,{ref:B})),(0,D.createElement)(L.__experimentalRecursionProvider,{blockName:o,uniqueId:l},(0,D.createElement)(L.BlockList,{className:n?"gc-site-blocks":T+" gc-block-post-content",layout:M}))))))}function sn(){const t=(0,V.useSelect)(L.store)["getBlockSelectionStart"],{getEditorMode:e,isEditorSidebarOpened:n,isListViewOpened:a,isFeatureActive:r}=(0,V.useSelect)(q);var o=(0,V.useSelect)(e=>{var{richEditingEnabled:e,codeEditingEnabled:t}=e(F.store).getEditorSettings();return!e||!t},[]);const l=(0,V.useDispatch)(B.store)["createInfoNotice"],{switchEditorMode:s,openGeneralSidebar:i,closeGeneralSidebar:c,toggleFeature:d,setIsListViewOpened:u,setIsInserterOpened:m}=(0,V.useDispatch)(q),p=(0,V.useDispatch)(G.store)["registerShortcut"],g=(0,V.useDispatch)(x.store)["set"],_=(0,V.useDispatch)(L.store)["replaceBlocks"],{getBlockName:E,getSelectedBlockClientId:h,getBlockAttributes:b}=(0,V.useSelect)(L.store),v=(e,t)=>{e.preventDefault();var n,a,r,e=0===t?"core/paragraph":"core/heading",o=h();null===o||"core/paragraph"!==(a=E(o))&&"core/heading"!==a||(n=b(o),a="core/paragraph"===a?"align":"textAlign",r="core/paragraph"==e?"align":"textAlign",_(o,(0,I.createBlock)(e,{level:t,content:n.content,[r]:n[a]})))};return(0,D.useEffect)(()=>{p({name:"core/edit-post/toggle-mode",category:"global",description:(0,R.__)("\u5728\u53ef\u89c6\u5316\u7f16\u8f91\u5668\u548c\u4ee3\u7801\u7f16\u8f91\u5668\u95f4\u5207\u6362\u3002"),keyCombination:{modifier:"secondary",character:"m"}}),p({name:"core/edit-post/toggle-distraction-free",category:"global",description:(0,R.__)("\u5207\u6362\u4e13\u6ce8\u6a21\u5f0f\u3002"),keyCombination:{modifier:"primaryShift",character:"\\"}}),p({name:"core/edit-post/toggle-fullscreen",category:"global",description:(0,R.__)("\u5207\u6362\u5168\u5c4f\u6a21\u5f0f"),keyCombination:{modifier:"secondary",character:"f"}}),p({name:"core/edit-post/toggle-list-view",category:"global",description:(0,R.__)("\u6253\u5f00\u533a\u5757\u5217\u8868\u89c6\u56fe\u3002"),keyCombination:{modifier:"access",character:"o"}}),p({name:"core/edit-post/toggle-sidebar",category:"global",description:(0,R.__)("\u663e\u793a\u6216\u9690\u85cf\u8bbe\u7f6e\u8fb9\u680f\u3002"),keyCombination:{modifier:"primaryShift",character:","}}),p({name:"core/edit-post/next-region",category:"global",description:(0,R.__)("\u5bfc\u822a\u81f3\u7f16\u8f91\u5668\u7684\u4e0b\u4e00\u4e2a\u529f\u80fd\u533a\u57df\u3002"),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),p({name:"core/edit-post/previous-region",category:"global",description:(0,R.__)("\u5bfc\u822a\u81f3\u7f16\u8f91\u5668\u7684\u4e0a\u4e00\u4e2a\u529f\u80fd\u533a\u57df\u3002"),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"},{modifier:"ctrlShift",character:"~"}]}),p({name:"core/edit-post/keyboard-shortcuts",category:"main",description:(0,R.__)("\u663e\u793a\u8fd9\u4e9b\u952e\u76d8\u5feb\u6377\u952e\u3002"),keyCombination:{modifier:"access",character:"h"}}),p({name:"core/edit-post/transform-heading-to-paragraph",category:"block-library",description:(0,R.__)("\u5c06\u6807\u9898\u8f6c\u6362\u4e3a\u6bb5\u843d\u3002"),keyCombination:{modifier:"access",character:"0"}}),[1,2,3,4,5,6].forEach(e=>{p({name:"core/edit-post/transform-paragraph-to-heading-"+e,category:"block-library",description:(0,R.__)("\u5c06\u6bb5\u843d\u8f6c\u6362\u4e3a\u6807\u9898\u3002"),keyCombination:{modifier:"access",character:""+e}})})},[]),(0,G.useShortcut)("core/edit-post/toggle-mode",()=>{s("visual"===e()?"text":"visual")},{isDisabled:o}),(0,G.useShortcut)("core/edit-post/toggle-fullscreen",()=>{d("fullscreenMode")}),(0,G.useShortcut)("core/edit-post/toggle-distraction-free",()=>{g("core/edit-post","fixedToolbar",!1),m(!1),u(!1),c(),d("distractionFree"),l(r("distractionFree")?(0,R.__)("\u5df2\u6253\u5f00\u4e13\u6ce8\u6a21\u5f0f\u3002"):(0,R.__)("\u4e13\u6ce8\u6a21\u5f0f\u5df2\u5173\u95ed\u3002"),{id:"core/edit-post/distraction-free-mode/notice",type:"snackbar"})}),(0,G.useShortcut)("core/edit-post/toggle-sidebar",e=>{e.preventDefault(),n()?c():(e=t()?"edit-post/block":"edit-post/document",i(e))}),(0,G.useShortcut)("core/edit-post/toggle-list-view",()=>{a()||u(!0)}),(0,G.useShortcut)("core/edit-post/transform-heading-to-paragraph",e=>v(e,0)),[1,2,3,4,5,6].forEach(t=>{(0,G.useShortcut)("core/edit-post/transform-paragraph-to-heading-"+t,e=>v(e,t))}),null}function cn({willEnable:e}){const[t,n]=(0,D.useState)(!1);return(0,D.createElement)(D.Fragment,null,(0,D.createElement)("p",{className:"edit-post-preferences-modal__custom-fields-confirmation-message"},(0,R.__)("\u6b64\u66f4\u6539\u9700\u8981\u5237\u65b0\u672c\u9875\u3002\u8bf7\u5728\u5237\u65b0\u524d\u786e\u4fdd\u60a8\u5df2\u7ecf\u4fdd\u5b58\u4e86\u60a8\u7684\u5185\u5bb9\u3002")),(0,D.createElement)(O.Button,{className:"edit-post-preferences-modal__custom-fields-confirmation-button",variant:"secondary",isBusy:t,disabled:t,onClick:()=>{n(!0),document.getElementById("toggle-custom-fields-form").submit()}},e?(0,R.__)("\u663e\u793a\u5e76\u91cd\u65b0\u52a0\u8f7d\u9875\u9762"):(0,R.__)("\u9690\u85cf\u5e76\u91cd\u65b0\u52a0\u8f7d\u9875\u9762")))}var dn=(0,V.withSelect)(e=>({areCustomFieldsEnabled:!!e(F.store).getEditorSettings().enableCustomFields}))(function({label:e,areCustomFieldsEnabled:t}){var[n,a]=(0,D.useState)(t);return(0,D.createElement)(i,{label:e,isChecked:n,onChange:a},n!==t&&(0,D.createElement)(cn,{willEnable:n}))}),u=(0,N.compose)((0,V.withSelect)((e,{panelName:t})=>{var{isEditorPanelEnabled:e,isEditorPanelRemoved:n}=e(q);return{isRemoved:n(t),isChecked:e(t)}}),(0,N.ifCondition)(({isRemoved:e})=>!e),(0,V.withDispatch)((e,{panelName:t})=>({onChange:()=>e(q).toggleEditorPanelEnabled(t)})))(i);const{Fill:un,Slot:mn}=(0,O.createSlotFill)("EnablePluginDocumentSettingPanelOption");var e=({label:e,panelName:t})=>(0,D.createElement)(un,null,(0,D.createElement)(u,{label:e,panelName:t})),pn=(e.Slot=mn,e),gn=(0,N.compose)((0,V.withSelect)(e=>({isChecked:e(F.store).isPublishSidebarEnabled()})),(0,V.withDispatch)(e=>{const{enablePublishSidebar:t,disablePublishSidebar:n}=e(F.store);return{onChange:e=>(e?t:n)()}}),(0,Y.ifViewportMatches)("medium"))(i),p=(0,N.compose)((0,V.withSelect)((e,{featureName:t})=>{e=e(q).isFeatureActive;return{isChecked:e(t)}}),(0,V.withDispatch)((e,{featureName:t,onToggle:n=()=>{}})=>({onChange:()=>{n(),e(q).toggleFeature(t)}})))(i);var _n=(0,V.withSelect)(e=>{var t=e(F.store)["getEditorSettings"],e=e(q)["getAllMetaBoxes"];return{areCustomFieldsRegistered:void 0!==t().enableCustomFields,metaBoxes:e()}})(function({areCustomFieldsRegistered:e,metaBoxes:t,...n}){return t=t.filter(({id:e})=>"postcustom"!==e),e||0!==t.length?(0,D.createElement)(d,{...n},e&&(0,D.createElement)(dn,{label:(0,R.__)("\u81ea\u5b9a\u4e49\u5b57\u6bb5")}),t.map(({id:e,title:t})=>(0,D.createElement)(u,{key:e,label:t,panelName:"meta-box-"+e}))):null});function En({blockTypes:e,value:n,onItemChange:a}){return(0,D.createElement)("ul",{className:"edit-post-block-manager__checklist"},e.map(t=>(0,D.createElement)("li",{key:t.name,className:"edit-post-block-manager__checklist-item"},(0,D.createElement)(O.CheckboxControl,{__nextHasNoMarginBottom:!0,label:t.title,checked:n.includes(t.name),onChange:(...e)=>a(t.name,...e)}),(0,D.createElement)(L.BlockIcon,{icon:t.icon}))))}function hn({title:e,blockTypes:n}){var t=(0,N.useInstanceId)(hn);const{defaultAllowedBlockTypes:a,hiddenBlockTypes:r}=(0,V.useSelect)(e=>{var t=e(F.store).getEditorSettings,e=e(q).getHiddenBlockTypes;return{defaultAllowedBlockTypes:t().defaultAllowedBlockTypes,hiddenBlockTypes:e()}},[]);var o=(0,D.useMemo)(()=>!0===a?n:n.filter(({name:e})=>a?.includes(e)),[a,n]);const{showBlockTypes:l,hideBlockTypes:s}=(0,V.useDispatch)(q);var i,c,d,u=(0,D.useCallback)((e,t)=>{(t?l:s)(e)},[]),m=(0,D.useCallback)(e=>{var t=n.map(({name:e})=>e);(e?l:s)(t)},[n]);return o.length?(d=!(c=(i=o.map(({name:e})=>e).filter(e=>!r.includes(e))).length===o.length)&&0<i.length,(0,D.createElement)("div",{role:"group","aria-labelledby":t="edit-post-block-manager__category-title-"+t,className:"edit-post-block-manager__category"},(0,D.createElement)(O.CheckboxControl,{__nextHasNoMarginBottom:!0,checked:c,onChange:m,className:"edit-post-block-manager__category-title",indeterminate:d,label:(0,D.createElement)("span",{id:t},e)}),(0,D.createElement)(En,{blockTypes:o,value:i,onItemChange:u}))):null}var bn=(0,N.compose)([(0,V.withSelect)(e=>{var{getBlockTypes:t,getCategories:n,hasBlockSupport:a,isMatchingSearchTerm:r}=e(I.store),e=e(q)["getHiddenBlockTypes"];const o=t();t=e().filter(t=>o.some(e=>e.name===t)),e=Array.isArray(t)&&t.length;return{blockTypes:o,categories:n(),hasBlockSupport:a,isMatchingSearchTerm:r,numberOfHiddenBlocks:e}}),(0,V.withDispatch)(e=>{const t=e(q)["showBlockTypes"];return{enableAllBlockTypes:e=>{e=e.map(({name:e})=>e);t(e)}}})])(function({blockTypes:n,categories:e,hasBlockSupport:t,isMatchingSearchTerm:a,numberOfHiddenBlocks:r,enableAllBlockTypes:o}){const l=(0,N.useDebounce)(Ze.speak,500),[s,i]=(0,D.useState)("");return n=n.filter(e=>t(e,"inserter",!0)&&(!s||a(e,s))&&(!e.parent||e.parent.includes("core/post-content"))),(0,D.useEffect)(()=>{var e;s&&(e=n.length,e=(0,R.sprintf)((0,R._n)("\u627e\u5230%d\u4e2a\u7ed3\u679c\u3002","%d results found.",e),e),l(e))},[n.length,s,l]),(0,D.createElement)("div",{className:"edit-post-block-manager__content"},!!r&&(0,D.createElement)("div",{className:"edit-post-block-manager__disabled-blocks-count"},(0,R.sprintf)((0,R._n)("%d\u4e2a\u533a\u5757\u5df2\u88ab\u9690\u85cf\u3002","%d blocks are hidden.",r),r),(0,D.createElement)(O.Button,{variant:"link",onClick:()=>o(n)},(0,R.__)("\u91cd\u7f6e"))),(0,D.createElement)(O.SearchControl,{__nextHasNoMarginBottom:!0,label:(0,R.__)("\u641c\u7d22\u533a\u5757"),placeholder:(0,R.__)("\u641c\u7d22\u533a\u5757"),value:s,onChange:e=>i(e),className:"edit-post-block-manager__search"}),(0,D.createElement)("div",{tabIndex:"0",role:"region","aria-label":(0,R.__)("\u53ef\u7528\u7684\u533a\u5757\u7c7b\u578b"),className:"edit-post-block-manager__results"},0===n.length&&(0,D.createElement)("p",{className:"edit-post-block-manager__no-results"},(0,R.__)("\u672a\u627e\u5230\u533a\u5757\u3002")),e.map(t=>(0,D.createElement)(hn,{key:t.slug,title:t.title,blockTypes:n.filter(e=>e.category===t.slug)})),(0,D.createElement)(hn,{title:(0,R.__)("\u672a\u5206\u7c7b"),blockTypes:n.filter(({category:e})=>!e)})))});const vn="edit-post/preferences";function fn(){const r=(0,N.useViewportMatch)("medium");var e=(0,V.useDispatch)(U)["closeModal"];const[t,n]=(0,V.useSelect)(e=>{var t=e(F.store)["getEditorSettings"],{getEditorMode:n,isFeatureActive:a}=e(q),e=e(U).isModalActive(vn),n=n(),t=t().richEditingEnabled,a=a("distractionFree");return[e,!a&&r&&t&&"visual"===n,a]},[r]),{closeGeneralSidebar:a,setIsListViewOpened:o,setIsInserterOpened:l}=(0,V.useDispatch)(q),s=(0,V.useDispatch)(x.store)["set"],i=()=>{s("core/edit-post","fixedToolbar",!1),l(!1),o(!1),a()};var c=(0,D.useMemo)(()=>[{name:"general",tabLabel:(0,R.__)("\u5e38\u89c4"),content:(0,D.createElement)(D.Fragment,null,r&&(0,D.createElement)(d,{title:(0,R.__)("\u53d1\u5e03"),description:(0,R.__)("\u66f4\u6539\u4e0e\u53d1\u5e03\u76f8\u5173\u7684\u9009\u9879\u3002")},(0,D.createElement)(gn,{help:(0,R.__)("\u9884\u89c8\u8bbe\u7f6e\uff0c\u5982\u53ef\u89c1\u6027\u548c\u6807\u7b7e\u3002"),label:(0,R.__)("\u5305\u542b\u9884\u53d1\u5e03\u6e05\u5355")})),(0,D.createElement)(d,{title:(0,R.__)("\u5916\u89c2"),description:(0,R.__)("\u81ea\u5b9a\u4e49\u4e0e\u533a\u5757\u7f16\u8f91\u5668\u754c\u9762\u548c\u7f16\u8f91\u6d41\u7a0b\u76f8\u5173\u7684\u9009\u9879\u3002")},(0,D.createElement)(p,{featureName:"distractionFree",onToggle:i,help:(0,R.__)("\u901a\u8fc7\u9690\u85cf\u5de5\u5177\u680f\u548c\u5176\u4ed6\u5143\u7d20\u6765\u96c6\u4e2d\u7cbe\u529b\u5199\u4f5c\uff0c\u51cf\u5c11\u89c6\u89c9\u5e72\u6270\u3002"),label:(0,R.__)("\u4e13\u6ce8")}),(0,D.createElement)(p,{featureName:"focusMode",help:(0,R.__)("\u9ad8\u4eae\u663e\u793a\u5f53\u524d\u533a\u5757\u5e76\u6de1\u5316\u5176\u4ed6\u5185\u5bb9\u3002"),label:(0,R.__)("\u63a2\u7167\u706f\u6a21\u5f0f")}),(0,D.createElement)(p,{featureName:"showIconLabels",label:(0,R.__)("\u663e\u793a\u6309\u94ae\u6587\u5b57\u6807\u7b7e"),help:(0,R.__)("\u5728\u6309\u94ae\u4e0a\u663e\u793a\u6587\u5b57\u800c\u975e\u56fe\u6807")}),(0,D.createElement)(p,{featureName:"showListViewByDefault",help:(0,R.__)("\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6253\u5f00\u533a\u5757\u5217\u8868\u89c6\u56fe\u7684\u4fa7\u8fb9\u680f\u3002"),label:(0,R.__)("\u59cb\u7ec8\u6253\u5f00\u5217\u8868\u89c6\u56fe")}),(0,D.createElement)(p,{featureName:"themeStyles",help:(0,R.__)("\u4f7f\u7f16\u8f91\u5668\u770b\u8d77\u6765\u50cf\u60a8\u7684\u4e3b\u9898\u3002"),label:(0,R.__)("\u4f7f\u7528\u4e3b\u9898\u6837\u5f0f")}),n&&(0,D.createElement)(p,{featureName:"showBlockBreadcrumbs",help:(0,R.__)("\u5728\u7f16\u8f91\u5668\u7684\u5e95\u90e8\u663e\u793a\u533a\u5757\u7684\u9762\u5305\u5c51\u3002"),label:(0,R.__)("\u663e\u793a\u533a\u5757\u9762\u5305\u5c51")})))},{name:"blocks",tabLabel:(0,R.__)("\u533a\u5757"),content:(0,D.createElement)(D.Fragment,null,(0,D.createElement)(d,{title:(0,R.__)("\u533a\u5757\u4ea4\u4e92"),description:(0,R.__)("\u81ea\u5b9a\u4e49\u60a8\u4e0e\u533a\u5757\u5e93\u548c\u7f16\u8f91\u753b\u5e03\u4e2d\u7684\u533a\u5757\u7684\u4ea4\u4e92\u65b9\u5f0f\u3002")},(0,D.createElement)(p,{featureName:"mostUsedBlocks",help:(0,R.__)("\u5c06\u6700\u5e38\u89c1\u7684\u533a\u5757\u653e\u5165\u533a\u5757\u5e93\u4e2d\u3002"),label:(0,R.__)("\u663e\u793a\u4f7f\u7528\u6700\u591a\u7684\u533a\u5757")}),(0,D.createElement)(p,{featureName:"keepCaretInsideBlock",help:(0,R.__)("\u963b\u6b62\u6587\u5b57\u5149\u6807\u79bb\u5f00\u533a\u5757\u4ee5\u8f85\u52a9\u5c4f\u5e55\u9605\u8bfb\u5668\u3002"),label:(0,R.__)("\u5728\u533a\u5757\u5185\u5305\u542b\u6587\u672c\u5149\u6807")})),(0,D.createElement)(d,{title:(0,R.__)("\u53ef\u89c1\u533a\u5757"),description:(0,R.__)("\u7981\u7528\u60a8\u4e0d\u5e0c\u671b\u5728\u63d2\u5165\u5668\u4e2d\u663e\u793a\u7684\u533a\u5757\u3002\u60a8\u53ef\u4ee5\u968f\u65f6\u5c06\u5176\u8fd8\u539f\u3002")},(0,D.createElement)(bn,null)))},{name:"panels",tabLabel:(0,R.__)("\u9762\u677f"),content:(0,D.createElement)(D.Fragment,null,(0,D.createElement)(d,{title:(0,R.__)("\u6587\u6863\u8bbe\u7f6e"),description:(0,R.__)("\u9009\u62e9\u9762\u677f\u6240\u663e\u793a\u7684\u5185\u5bb9\u3002")},(0,D.createElement)(pn.Slot,null),(0,D.createElement)(F.PostTaxonomies,{taxonomyWrapper:(e,t)=>(0,D.createElement)(u,{label:t.labels.menu_name,panelName:"taxonomy-panel-"+t.slug})}),(0,D.createElement)(F.PostFeaturedImageCheck,null,(0,D.createElement)(u,{label:(0,R.__)("\u7279\u8272\u56fe\u7247"),panelName:"featured-image"})),(0,D.createElement)(F.PostExcerptCheck,null,(0,D.createElement)(u,{label:(0,R.__)("\u6458\u8981"),panelName:"post-excerpt"})),(0,D.createElement)(F.PostTypeSupportCheck,{supportKeys:["comments","trackbacks"]},(0,D.createElement)(u,{label:(0,R.__)("\u8ba8\u8bba"),panelName:"discussion-panel"})),(0,D.createElement)(F.PageAttributesCheck,null,(0,D.createElement)(u,{label:(0,R.__)("\u9875\u9762\u5c5e\u6027"),panelName:"page-attributes"}))),(0,D.createElement)(_n,{title:(0,R.__)("\u989d\u5916"),description:(0,R.__)("\u5411\u7f16\u8f91\u5668\u6dfb\u52a0\u989d\u5916\u7684\u533a\u57df\u3002")}))}],[r,n]);return t?(0,D.createElement)(Pe,{closeModal:e},(0,D.createElement)(Me,{sections:c})):null}class yn extends D.Component{constructor(){super(...arguments),this.state={historyId:null}}componentDidUpdate(e){var{postId:t,postStatus:n,postType:a,isSavingPost:r}=this.props,o=this.state["historyId"];"trash"!==n||r?t===e.postId&&t===o||"auto-draft"===n||!t||this.setBrowserURL(t):this.setTrashURL(t,a)}setTrashURL(e,t){window.location.href=(0,c.addQueryArgs)("edit.php",{trashed:1,post_type:t,ids:e})}setBrowserURL(e){window.history.replaceState({id:e},"Post "+e,(0,c.addQueryArgs)("post.php",{post:e,action:"edit"})),this.setState(()=>({historyId:e}))}render(){return null}}var Sn=(0,V.withSelect)(e=>{var{getCurrentPost:e,isSavingPost:t}=e(F.store),e=e();let{id:n,status:a,type:r}=e;var o=["gc_template","gc_template_part"].includes(r);return{postId:n=o?e.gc_id:n,postStatus:a,postType:r,isSavingPost:t()}})(yn),wn=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M14.033 1.195a2.387 2.387 0 0 1-.87 3.235l-6.98 4.04a.602.602 0 0 0-.3.522v6.342a.6.6 0 0 0 .3.521l5.524 3.199a.585.585 0 0 0 .586 0l5.527-3.199a.603.603 0 0 0 .299-.52V11.39l-4.969 2.838a2.326 2.326 0 0 1-3.19-.9 2.388 2.388 0 0 1 .89-3.23l7.108-4.062C20.123 4.8 22.8 6.384 22.8 8.901v6.914a4.524 4.524 0 0 1-2.245 3.919l-6.345 3.672a4.407 4.407 0 0 1-4.422 0l-6.344-3.672A4.524 4.524 0 0 1 1.2 15.816V8.51a4.524 4.524 0 0 1 2.245-3.918l7.393-4.28a2.326 2.326 0 0 1 3.195.883z"}));var Pn=function({showTooltip:e,icon:t,href:n}){var{isActive:a,isRequestingSiteIcon:r,postType:o,siteIconUrl:l}=(0,V.useSelect)(e=>{var t=e(F.store)["getCurrentPostType"],n=e(q)["isFeatureActive"],{getEntityRecord:e,getPostType:a,isResolving:r}=e(A.store),e=e("root","__unstableBase",void 0)||{};return{isActive:n("fullscreenMode"),isRequestingSiteIcon:r("getEntityRecord",["root","__unstableBase",void 0]),postType:a(t()),siteIconUrl:e.site_icon_url}},[]),s=(0,N.useReducedMotion)();if(!a||!o)return null;let i=(0,D.createElement)(O.Icon,{size:"36px",icon:wn});return l&&(i=(0,D.createElement)(O.__unstableMotion.img,{variants:!s&&{expand:{scale:1.25,transition:{type:"tween",duration:"0.3"}}},alt:(0,R.__)("\u7cfb\u7edf\u56fe\u6807"),className:"edit-post-fullscreen-mode-close_site-icon",src:l})),r&&(i=null),t&&(i=(0,D.createElement)(O.Icon,{size:"36px",icon:t})),a=H()({"edit-post-fullscreen-mode-close":!0,"has-icon":l}),(0,D.createElement)(O.__unstableMotion.div,{whileHover:"expand"},(0,D.createElement)(O.Button,{className:a,href:null!=n?n:(0,c.addQueryArgs)("edit.php",{post_type:o.slug}),label:null!=(s=o?.labels?.view_items)?s:(0,R.__)("\u8fd4\u56de"),showTooltip:e},i))},kn=(0,D.createElement)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,D.createElement)(r.Path,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"})),Cn=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"}));const Tn=s(L.privateApis)["useShouldContextualToolbarShow"],xn=e=>{e.preventDefault()};function Mn(){const e=(0,D.useRef)(),{setIsInserterOpened:t,setIsListViewOpened:n}=(0,V.useDispatch)(q);var a=(a=(0,V.useSelect)(x.store)["get"])("core/edit-post","fixedToolbar");const{isInserterEnabled:r,isInserterOpened:o,isTextModeEnabled:l,showIconLabels:s,isListViewOpen:i,listViewShortcut:c}=(0,V.useSelect)(e=>{var{hasInserterItems:t,getBlockRootClientId:n,getBlockSelectionEnd:a}=e(L.store),r=e(F.store)["getEditorSettings"],{getEditorMode:o,isFeatureActive:l,isListViewOpened:s}=e(q),i=e(G.store)["getShortcutRepresentation"];return{isInserterEnabled:"visual"===o()&&r().richEditingEnabled&&t(n(a())),isInserterOpened:e(q).isInserterOpened(),isTextModeEnabled:"text"===o(),showIconLabels:l("showIconLabels"),isListViewOpen:s(),listViewShortcut:i("core/edit-post/toggle-list-view")}},[]);var d=(0,N.useViewportMatch)("medium"),u=(0,N.useViewportMatch)("wide"),{shouldShowContextualToolbar:m,canFocusHiddenToolbar:p,fixedToolbarCanBeFocused:g}=Tn(),m=m||p||g,p=(0,R.__)("\u6587\u6863\u5de5\u5177"),g=(0,D.useCallback)(()=>n(!i),[n,i]),g=(0,D.createElement)(D.Fragment,null,(0,D.createElement)(O.ToolbarItem,{as:O.Button,className:"edit-post-header-toolbar__document-overview-toggle",icon:kn,disabled:l,isPressed:i,label:(0,R.__)("\u6587\u6863\u6982\u8ff0"),onClick:g,shortcut:c,showTooltip:!s,variant:s?"tertiary":void 0})),_=(0,D.useCallback)(()=>{o?(e.current.focus(),t(!1)):t(!0)},[o,t]),E=(0,R._x)("Toggle block inserter","Generic label for block inserter button"),h=o?(0,R.__)("\u5173\u95ed"):(0,R.__)("\u6dfb\u52a0");return(0,D.createElement)(L.NavigableToolbar,{className:"edit-post-header-toolbar","aria-label":p,shouldUseKeyboardFocusShortcut:!m},(0,D.createElement)("div",{className:"edit-post-header-toolbar__left"},(0,D.createElement)(O.ToolbarItem,{ref:e,as:O.Button,className:"edit-post-header-toolbar__inserter-toggle",variant:"primary",isPressed:o,onMouseDown:xn,onClick:_,disabled:!r,icon:Cn,label:s?h:E,showTooltip:!s}),(u||!s)&&(0,D.createElement)(D.Fragment,null,d&&!a&&(0,D.createElement)(O.ToolbarItem,{as:L.ToolSelector,showTooltip:!s,variant:s?"tertiary":void 0,disabled:l}),(0,D.createElement)(O.ToolbarItem,{as:F.EditorHistoryUndo,showTooltip:!s,variant:s?"tertiary":void 0}),(0,D.createElement)(O.ToolbarItem,{as:F.EditorHistoryRedo,showTooltip:!s,variant:s?"tertiary":void 0}),g)))}const Bn=[{value:"visual",label:(0,R.__)("\u53ef\u89c6\u5316\u7f16\u8f91\u5668")},{value:"text",label:(0,R.__)("\u4ee3\u7801\u7f16\u8f91\u5668")}];function In(){const{shortcut:t,isRichEditingEnabled:e,isCodeEditingEnabled:n,isEditingTemplate:a,mode:r}=(0,V.useSelect)(e=>({shortcut:e(G.store).getShortcutRepresentation("core/edit-post/toggle-mode"),isRichEditingEnabled:e(F.store).getEditorSettings().richEditingEnabled,isCodeEditingEnabled:e(F.store).getEditorSettings().codeEditingEnabled,isEditingTemplate:e(q).isEditingTemplate(),mode:e(q).getEditorMode()}),[]);var o,l=(0,V.useDispatch)(q)["switchEditorMode"];return!a&&e&&n?(o=Bn.map(e=>e.value!==r?{...e,shortcut:t}:e),(0,D.createElement)(O.MenuGroup,{label:(0,R.__)("\u7f16\u8f91")},(0,D.createElement)(O.MenuItemsChoice,{choices:o,value:r,onSelect:l}))):null}function Ln(){const e=(0,V.useDispatch)(U)["openModal"];return(0,D.createElement)(O.MenuItem,{onClick:()=>{e(vn)}},(0,R.__)("\u504f\u597d\u8bbe\u7f6e"))}function Nn(){const e=(0,V.useRegistry)();var t=(0,V.useSelect)(e=>e(L.store).getSettings().isDistractionFree,[]);const{setIsInserterOpened:n,setIsListViewOpened:a,closeGeneralSidebar:r}=(0,V.useDispatch)(q),o=(0,V.useDispatch)(x.store)["set"];return(0,N.useViewportMatch)("medium")?(0,D.createElement)(O.MenuGroup,{label:(0,R._x)("\u89c6\u56fe","noun")},(0,D.createElement)(x.PreferenceToggleMenuItem,{scope:"core/edit-post",disabled:t,name:"fixedToolbar",label:(0,R.__)("\u9876\u90e8\u5de5\u5177\u680f"),info:(0,R.__)("\u5728\u4e00\u4e2a\u4f4d\u7f6e\u8bbf\u95ee\u6240\u6709\u7684\u533a\u5757\u548c\u6587\u6863\u5de5\u5177"),messageActivated:(0,R.__)("\u9876\u90e8\u5de5\u5177\u680f\u5df2\u542f\u7528"),messageDeactivated:(0,R.__)("\u9876\u90e8\u5de5\u5177\u680f\u5df2\u7981\u7528")}),(0,D.createElement)(x.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"focusMode",label:(0,R.__)("\u63a2\u7167\u706f\u6a21\u5f0f"),info:(0,R.__)("\u96c6\u4e2d\u6ce8\u610f\u529b\u5728\u4e00\u4e2a\u533a\u5757\u4e0a"),messageActivated:(0,R.__)("\u63a2\u7167\u706f\u6a21\u5f0f\u5df2\u542f\u7528"),messageDeactivated:(0,R.__)("\u63a2\u7167\u706f\u6a21\u5f0f\u5df2\u7981\u7528")}),(0,D.createElement)(x.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"fullscreenMode",label:(0,R.__)("\u5168\u5c4f\u6a21\u5f0f"),info:(0,R.__)("\u663e\u793a\u548c\u9690\u85cf\u7ba1\u7406UI"),messageActivated:(0,R.__)("\u5168\u5c4f\u6a21\u5f0f\u5df2\u542f\u7528"),messageDeactivated:(0,R.__)("\u5168\u5c4f\u6a21\u5f0f\u5df2\u7981\u7528"),shortcut:m.displayShortcut.secondary("f")}),(0,D.createElement)(x.PreferenceToggleMenuItem,{scope:"core/edit-post",name:"distractionFree",onToggle:()=>{e.batch(()=>{o("core/edit-post","fixedToolbar",!1),n(!1),a(!1),r()})},label:(0,R.__)("\u4e13\u6ce8"),info:(0,R.__)("\u5e73\u9759\u5730\u5199\u4f5c"),messageActivated:(0,R.__)("\u4e13\u6ce8\u5199\u4f5c\u6a21\u5f0f\u5df2\u5f00\u542f"),messageDeactivated:(0,R.__)("\u4e13\u6ce8\u5199\u4f5c\u6a21\u5f0f\u5df2\u5173\u95ed"),shortcut:m.displayShortcut.primaryShift("\\")})):null}var An=({showIconLabels:t})=>{const n=(0,N.useViewportMatch)("large");return(0,D.createElement)(we,{toggleProps:{showTooltip:!t,...t&&{variant:"tertiary"}}},({onClose:e})=>(0,D.createElement)(D.Fragment,null,t&&!n&&(0,D.createElement)(Ee.Slot,{className:t&&"show-icon-labels",scope:"core/edit-post"}),(0,D.createElement)(Nn,null),(0,D.createElement)(In,null),(0,D.createElement)(me.Slot,{name:"core/edit-post/plugin-more-menu",label:(0,R.__)("\u63d2\u4ef6"),as:O.MenuGroup,fillProps:{onClick:e}}),(0,D.createElement)(Ue.Slot,{fillProps:{onClose:e}}),(0,D.createElement)(O.MenuGroup,null,(0,D.createElement)(Ln,null))))};var Dn=(0,N.compose)((0,V.withSelect)(e=>{var t;return{hasPublishAction:null!=(t=e(F.store).getCurrentPost()?._links?.["gc:action-publish"])&&t,isBeingScheduled:e(F.store).isEditedPostBeingScheduled(),isPending:e(F.store).isCurrentPostPending(),isPublished:e(F.store).isCurrentPostPublished(),isPublishSidebarEnabled:e(F.store).isPublishSidebarEnabled(),isPublishSidebarOpened:e(q).isPublishSidebarOpened(),isScheduled:e(F.store).isCurrentPostScheduled()}}),(0,V.withDispatch)(e=>{e=e(q).togglePublishSidebar;return{togglePublishSidebar:e}}))(function({forceIsDirty:e,forceIsSaving:t,hasPublishAction:n,isBeingScheduled:a,isPending:r,isPublished:o,isPublishSidebarEnabled:l,isPublishSidebarOpened:s,isScheduled:i,togglePublishSidebar:c,setEntitiesSavedStatesCallback:d}){var u="toggle",m=(0,N.useViewportMatch)("medium","<");let p;return p=!(o||i&&a||r&&!n&&!m)&&(m||l)?u:"button",(0,D.createElement)(F.PostPublishButton,{forceIsDirty:e,forceIsSaving:t,isOpen:s,isToggle:p===u,onToggle:c,setEntitiesSavedStatesCallback:d})});function Vn(){var{hasActiveMetaboxes:e,isPostSaveable:t,isSaving:n,isViewable:a,deviceType:r}=(0,V.useSelect)(e=>{var t=e(F.store)["getEditedPostAttribute"],n=e(A.store)["getPostType"],n=n(t("type"));return{hasActiveMetaboxes:e(q).hasMetaBoxes(),isSaving:e(q).isSavingMetaBoxes(),isPostSaveable:e(F.store).isEditedPostSaveable(),isViewable:null!=(t=n?.viewable)&&t,deviceType:e(q).__experimentalGetPreviewDeviceType()}},[]),o=(0,V.useDispatch)(q)["__experimentalSetPreviewDeviceType"];return(0,D.createElement)(L.__experimentalPreviewOptions,{isEnabled:t,className:"edit-post-post-preview-dropdown",deviceType:r,setDeviceType:o,label:(0,R.__)("\u9884\u89c8")},a&&(0,D.createElement)(O.MenuGroup,null,(0,D.createElement)("div",{className:"edit-post-header-preview__grouping-external"},(0,D.createElement)(F.PostPreviewButton,{className:"edit-post-header-preview__button-external",role:"menuitem",forceIsAutosaveable:e,forcePreviewLink:n?null:void 0,textContent:(0,D.createElement)(D.Fragment,null,(0,R.__)("\u5728\u65b0\u6807\u7b7e\u9875\u4e2d\u9884\u89c8"),(0,D.createElement)(O.Icon,{icon:f}))}))))}function On(){var{permalink:e,isPublished:t,label:n}=(0,V.useSelect)(e=>{var t=e(F.store).getCurrentPostType(),t=e(A.store).getPostType(t);return{permalink:e(F.store).getPermalink(),isPublished:e(F.store).isCurrentPostPublished(),label:t?.labels.view_item}},[]);return t&&e?(0,D.createElement)(O.Button,{icon:f,label:n||(0,R.__)("\u67e5\u770b\u6587\u7ae0"),href:e,target:"_blank"}):null}const Rn="__experimentalMainDashboardButton",{Fill:Fn,Slot:Hn}=(0,O.createSlotFill)(Rn);var n=Fn,Un=(n.Slot=({children:e})=>{var t=(0,O.__experimentalUseSlotFills)(Rn);return Boolean(t&&t.length)?(0,D.createElement)(Hn,{bubblesVirtually:!0}):e},n),Gn=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M10.8622 8.04053L14.2805 12.0286L10.8622 16.0167L9.72327 15.0405L12.3049 12.0286L9.72327 9.01672L10.8622 8.04053Z"})),zn=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"m13.1 16-3.4-4 3.4-4 1.1 1-2.6 3 2.6 3-1.1 1z"})),Zn=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"}));function qn(){var{template:e,isEditing:t}=(0,V.useSelect)(e=>{var{isEditingTemplate:e,getEditedPostTemplate:t}=e(q),e=e();return{template:e?t():null,isEditing:e}},[]);const n=(0,V.useDispatch)(L.store)["clearSelectedBlock"],a=(0,V.useDispatch)(q)["setIsEditingTemplate"],r=(0,V.useDispatch)(Z.store)["open"];if(!t||!e)return null;let o=(0,R.__)("\u9ed8\u8ba4");return e?.title?o=e.title:e&&(o=e.slug),(0,D.createElement)("div",{className:"edit-post-document-actions"},(0,D.createElement)(O.Button,{className:"edit-post-document-actions__back",onClick:()=>{n(),a(!1)},icon:(0,R.isRTL)()?Gn:zn},(0,R.__)("\u8fd4\u56de")),(0,D.createElement)(O.Button,{className:"edit-post-document-actions__command",onClick:()=>r()},(0,D.createElement)(O.__experimentalHStack,{className:"edit-post-document-actions__title",spacing:1,justify:"center"},(0,D.createElement)(L.BlockIcon,{icon:Zn}),(0,D.createElement)(O.__experimentalText,{size:"body",as:"h1"},(0,D.createElement)(O.VisuallyHidden,{as:"span"},(0,R.__)("\u7f16\u8f91\u6a21\u677f\uff1a%s")),o)),(0,D.createElement)("span",{className:"edit-post-document-actions__shortcut"},m.displayShortcut.primary("k"))))}const jn={hidden:{y:"-50px"},hover:{y:0,transition:{type:"tween",delay:.2}}},Wn={hidden:{x:"-100%"},hover:{x:0,transition:{type:"tween",delay:.2}}};function Kn({setEntitiesSavedStatesCallback:e}){var t=(0,N.useViewportMatch)("large"),{hasActiveMetaboxes:n,isPublishSidebarOpened:a,isSaving:r,showIconLabels:o}=(0,V.useSelect)(e=>({hasActiveMetaboxes:e(q).hasMetaBoxes(),isPublishSidebarOpened:e(q).isPublishSidebarOpened(),isSaving:e(q).isSavingMetaBoxes(),showIconLabels:e(q).isFeatureActive("showIconLabels")}),[]);return(0,D.createElement)("div",{className:"edit-post-header"},(0,D.createElement)(Un.Slot,null,(0,D.createElement)(O.__unstableMotion.div,{variants:Wn,transition:{type:"tween",delay:.8}},(0,D.createElement)(Pn,{showTooltip:!0}))),(0,D.createElement)(O.__unstableMotion.div,{variants:jn,transition:{type:"tween",delay:.8},className:"edit-post-header__toolbar"},(0,D.createElement)(Mn,null),(0,D.createElement)("div",{className:"edit-post-header__center"},(0,D.createElement)(qn,null))),(0,D.createElement)(O.__unstableMotion.div,{variants:jn,transition:{type:"tween",delay:.8},className:"edit-post-header__settings"},!a&&(0,D.createElement)(F.PostSavedState,{forceIsDirty:n,forceIsSaving:r,showIconLabels:o}),(0,D.createElement)(Vn,null),(0,D.createElement)(F.PostPreviewButton,{forceIsAutosaveable:n,forcePreviewLink:r?null:void 0}),(0,D.createElement)(On,null),(0,D.createElement)(Dn,{forceIsDirty:n,forceIsSaving:r,setEntitiesSavedStatesCallback:e}),(t||!o)&&(0,D.createElement)(D.Fragment,null,(0,D.createElement)(Ee.Slot,{scope:"core/edit-post"}),(0,D.createElement)(An,{showIconLabels:o})),o&&!t&&(0,D.createElement)(An,{showIconLabels:o})))}var Qn=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"}));function Xn(){var{insertionPoint:e,showMostUsedBlocks:t}=(0,V.useSelect)(e=>{var{isFeatureActive:e,__experimentalGetInsertionPoint:t}=e(q);return{insertionPoint:t(),showMostUsedBlocks:e("mostUsedBlocks")}},[]);const n=(0,V.useDispatch)(q)["setIsInserterOpened"];var a=(0,N.useViewportMatch)("medium","<"),r=a?"div":O.VisuallyHidden,[o,l]=(0,N.__experimentalUseDialog)({onClose:()=>n(!1),focusOnMount:null});const s=(0,D.useRef)();return(0,D.useEffect)(()=>{s.current.focusSearch()},[]),(0,D.createElement)("div",{ref:o,...l,className:"edit-post-editor__inserter-panel"},(0,D.createElement)(r,{className:"edit-post-editor__inserter-panel-header"},(0,D.createElement)(O.Button,{icon:Qn,label:(0,R.__)("\u5173\u95ed\u533a\u5757\u63d2\u5165\u5668"),onClick:()=>n(!1)})),(0,D.createElement)("div",{className:"edit-post-editor__inserter-panel-content"},(0,D.createElement)(L.__experimentalLibrary,{showMostUsedBlocks:t,showInserterHelpPanel:!0,shouldFocusBlock:a,rootClientId:e.rootClientId,__experimentalInsertionIndex:e.insertionIndex,__experimentalFilterValue:e.filterValue,ref:s})))}var Yn=window.gc.dom;function $n(){return(0,D.createElement)(O.SVG,{width:"138",height:"148",viewBox:"0 0 138 148",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,D.createElement)(O.Rect,{width:"138",height:"148",rx:"4",fill:"#F0F6FC"}),(0,D.createElement)(O.Line,{x1:"44",y1:"28",x2:"24",y2:"28",stroke:"#DDDDDD"}),(0,D.createElement)(O.Rect,{x:"48",y:"16",width:"27",height:"23",rx:"4",fill:"#DDDDDD"}),(0,D.createElement)(O.Path,{d:"M54.7585 32V23.2727H56.6037V26.8736H60.3494V23.2727H62.1903V32H60.3494V28.3949H56.6037V32H54.7585ZM67.4574 23.2727V32H65.6122V25.0241H65.5611L63.5625 26.277V24.6406L65.723 23.2727H67.4574Z",fill:"black"}),(0,D.createElement)(O.Line,{x1:"55",y1:"59",x2:"24",y2:"59",stroke:"#DDDDDD"}),(0,D.createElement)(O.Rect,{x:"59",y:"47",width:"29",height:"23",rx:"4",fill:"#DDDDDD"}),(0,D.createElement)(O.Path,{d:"M65.7585 63V54.2727H67.6037V57.8736H71.3494V54.2727H73.1903V63H71.3494V59.3949H67.6037V63H65.7585ZM74.6605 63V61.6705L77.767 58.794C78.0313 58.5384 78.2528 58.3082 78.4318 58.1037C78.6136 57.8991 78.7514 57.6989 78.8452 57.5028C78.9389 57.304 78.9858 57.0895 78.9858 56.8594C78.9858 56.6037 78.9276 56.3835 78.8111 56.1989C78.6946 56.0114 78.5355 55.8679 78.3338 55.7685C78.1321 55.6662 77.9034 55.6151 77.6477 55.6151C77.3807 55.6151 77.1477 55.669 76.9489 55.777C76.75 55.8849 76.5966 56.0398 76.4886 56.2415C76.3807 56.4432 76.3267 56.6832 76.3267 56.9616H74.5753C74.5753 56.3906 74.7045 55.8949 74.9631 55.4744C75.2216 55.054 75.5838 54.7287 76.0497 54.4986C76.5156 54.2685 77.0526 54.1534 77.6605 54.1534C78.2855 54.1534 78.8295 54.2642 79.2926 54.4858C79.7585 54.7045 80.1207 55.0085 80.3793 55.3977C80.6378 55.7869 80.767 56.233 80.767 56.7358C80.767 57.0653 80.7017 57.3906 80.571 57.7116C80.4432 58.0327 80.2145 58.3892 79.8849 58.7812C79.5554 59.1705 79.0909 59.6378 78.4915 60.1832L77.2173 61.4318V61.4915H80.8821V63H74.6605Z",fill:"black"}),(0,D.createElement)(O.Line,{x1:"80",y1:"90",x2:"24",y2:"90",stroke:"#DDDDDD"}),(0,D.createElement)(O.Rect,{x:"84",y:"78",width:"30",height:"23",rx:"4",fill:"#F0B849"}),(0,D.createElement)(O.Path,{d:"M90.7585 94V85.2727H92.6037V88.8736H96.3494V85.2727H98.1903V94H96.3494V90.3949H92.6037V94H90.7585ZM99.5284 92.4659V91.0128L103.172 85.2727H104.425V87.2841H103.683L101.386 90.919V90.9872H106.564V92.4659H99.5284ZM103.717 94V92.0227L103.751 91.3793V85.2727H105.482V94H103.717Z",fill:"black"}),(0,D.createElement)(O.Line,{x1:"66",y1:"121",x2:"24",y2:"121",stroke:"#DDDDDD"}),(0,D.createElement)(O.Rect,{x:"70",y:"109",width:"29",height:"23",rx:"4",fill:"#DDDDDD"}),(0,D.createElement)(O.Path,{d:"M76.7585 125V116.273H78.6037V119.874H82.3494V116.273H84.1903V125H82.3494V121.395H78.6037V125H76.7585ZM88.8864 125.119C88.25 125.119 87.6832 125.01 87.1861 124.791C86.6918 124.57 86.3011 124.266 86.0142 123.879C85.7301 123.49 85.5838 123.041 85.5753 122.533H87.4332C87.4446 122.746 87.5142 122.933 87.642 123.095C87.7727 123.254 87.946 123.378 88.1619 123.466C88.3778 123.554 88.6207 123.598 88.8906 123.598C89.1719 123.598 89.4205 123.548 89.6364 123.449C89.8523 123.349 90.0213 123.212 90.1435 123.036C90.2656 122.859 90.3267 122.656 90.3267 122.426C90.3267 122.193 90.2614 121.987 90.1307 121.808C90.0028 121.626 89.8182 121.484 89.5767 121.382C89.3381 121.28 89.054 121.229 88.7244 121.229H87.9105V119.874H88.7244C89.0028 119.874 89.2486 119.825 89.4616 119.729C89.6776 119.632 89.8452 119.499 89.9645 119.328C90.0838 119.155 90.1435 118.953 90.1435 118.723C90.1435 118.504 90.0909 118.312 89.9858 118.148C89.8835 117.98 89.7386 117.849 89.5511 117.756C89.3665 117.662 89.1506 117.615 88.9034 117.615C88.6534 117.615 88.4247 117.661 88.2173 117.751C88.0099 117.839 87.8438 117.966 87.7188 118.131C87.5938 118.295 87.527 118.489 87.5185 118.71H85.75C85.7585 118.207 85.902 117.764 86.1804 117.381C86.4588 116.997 86.8338 116.697 87.3054 116.482C87.7798 116.263 88.3153 116.153 88.9119 116.153C89.5142 116.153 90.0412 116.263 90.4929 116.482C90.9446 116.7 91.2955 116.996 91.5455 117.368C91.7983 117.737 91.9233 118.152 91.9205 118.612C91.9233 119.101 91.7713 119.509 91.4645 119.835C91.1605 120.162 90.7642 120.369 90.2756 120.457V120.526C90.9176 120.608 91.4063 120.831 91.7415 121.195C92.0795 121.555 92.2472 122.007 92.2443 122.55C92.2472 123.047 92.1037 123.489 91.8139 123.875C91.527 124.261 91.1307 124.565 90.625 124.787C90.1193 125.009 89.5398 125.119 88.8864 125.119Z",fill:"black"}))}function Jn(){var e=(0,V.useSelect)(e=>{e=e(L.store).getGlobalBlockCount;return{headingCount:e("core/heading")}},[])["headingCount"];return(0,D.createElement)(D.Fragment,null,(0,D.createElement)("div",{className:"edit-post-editor__list-view-overview"},(0,D.createElement)("div",null,(0,D.createElement)(O.__experimentalText,null,(0,R.__)("\u5b57\u7b26\u6570\uff1a")),(0,D.createElement)(O.__experimentalText,null,(0,D.createElement)(F.CharacterCount,null))),(0,D.createElement)("div",null,(0,D.createElement)(O.__experimentalText,null,(0,R.__)("\u5b57\u6570\uff1a")),(0,D.createElement)(F.WordCount,null)),(0,D.createElement)("div",null,(0,D.createElement)(O.__experimentalText,null,(0,R.__)("\u9605\u8bfb\u65f6\u957f\uff1a")),(0,D.createElement)(F.TimeToRead,null))),0<e?(0,D.createElement)(F.DocumentOutline,null):(0,D.createElement)("div",{className:"edit-post-editor__list-view-empty-headings"},(0,D.createElement)($n,null),(0,D.createElement)("p",null,(0,R.__)("\u5bfc\u822a\u6587\u6863\u7ed3\u6784\uff0c\u89e3\u51b3\u6807\u9898\u7ea7\u522b\u4e3a\u7a7a\u6216\u4e0d\u6b63\u786e\u7b49\u95ee\u9898\u3002"))))}function ea(){const n=(0,V.useDispatch)(q)["setIsListViewOpened"];var e=(0,N.useFocusOnMount)("firstElement"),t=(0,N.useFocusReturn)(),a=(0,N.useFocusReturn)();const[r,o]=(0,D.useState)(null),[l,s]=(0,D.useState)("list-view"),i=(0,D.useRef)(),c=(0,D.useRef)(),d=(0,D.useRef)(),u=(0,N.useMergeRefs)([a,e,d,o]);return(0,G.useShortcut)("core/edit-post/toggle-list-view",()=>{var e,t;i.current.contains(i.current.ownerDocument.activeElement)?n(!1):(e=l,t=Yn.focus.tabbable.find(c.current)[0],("list-view"===e&&(e=Yn.focus.tabbable.find(d.current)[0],i.current.contains(e))?e:t).focus())}),(0,D.createElement)("div",{className:"edit-post-editor__document-overview-panel",onKeyDown:function(e){e.keyCode!==m.ESCAPE||e.defaultPrevented||(e.preventDefault(),n(!1))},ref:i},(0,D.createElement)(O.Button,{className:"edit-post-editor__document-overview-panel__close-button",ref:t,icon:S,label:(0,R.__)("\u5173\u95ed"),onClick:()=>n(!1)}),(0,D.createElement)(O.TabPanel,{className:"edit-post-editor__document-overview-panel__tab-panel",ref:c,onSelect:e=>s(e),selectOnMove:!1,tabs:[{name:"list-view",title:(0,R._x)("\u5217\u8868\u89c6\u56fe","Post overview"),className:"edit-post-sidebar__panel-tab"},{name:"outline",title:(0,R._x)("\u5927\u7eb2","Post overview"),className:"edit-post-sidebar__panel-tab"}]},e=>{return(0,D.createElement)("div",{className:"edit-post-editor__list-view-container",ref:u},"list-view"===e.name?(0,D.createElement)("div",{className:"edit-post-editor__list-view-panel-content"},(0,D.createElement)(L.__experimentalListView,{dropZoneElement:r})):(0,D.createElement)(Jn,null))}))}var ta=(0,D.createElement)(r.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z"})),na=(0,D.createElement)(r.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"})),aa=({sidebarName:e})=>{const t=(0,V.useDispatch)(q)["openGeneralSidebar"];var n=()=>t("edit-post/document"),{documentLabel:a,isTemplateMode:r}=(0,V.useSelect)(e=>{return{documentLabel:e(F.store).getPostTypeLabel()||(0,R._x)("\u6587\u6863","noun"),isTemplateMode:e(q).isEditingTemplate()}},[]),[o,l]="edit-post/document"===e?[(0,R.sprintf)((0,R.__)("%s\uff08\u5df2\u9009\u4e2d\uff09"),a),"is-active"]:[a,""],[s,i]="edit-post/block"===e?[(0,R.__)("\u533a\u5757\uff08\u5df2\u9009\u4e2d\uff09"),"is-active"]:[(0,R.__)("\u533a\u5757"),""],[e,c]="edit-post/document"===e?[(0,R.__)("\u6a21\u677f\uff08\u5df2\u9009\u4e2d\uff09"),"is-active"]:[(0,R.__)("\u6a21\u677f"),""];return(0,D.createElement)("ul",null,!r&&(0,D.createElement)("li",null,(0,D.createElement)(O.Button,{onClick:n,className:"edit-post-sidebar__panel-tab "+l,"aria-label":o,"data-label":a},a)),r&&(0,D.createElement)("li",null,(0,D.createElement)(O.Button,{onClick:n,className:"edit-post-sidebar__panel-tab "+c,"aria-label":e,"data-label":(0,R.__)("\u6a21\u677f")},(0,R.__)("\u6a21\u677f"))),(0,D.createElement)("li",null,(0,D.createElement)(O.Button,{onClick:()=>t("edit-post/block"),className:"edit-post-sidebar__panel-tab "+i,"aria-label":s,"data-label":(0,R.__)("\u533a\u5757")},(0,R.__)("\u533a\u5757"))))};function ra({isOpen:e,onClick:t}){var n=(0,F.usePostVisibilityLabel)();return(0,D.createElement)(O.Button,{className:"edit-post-post-visibility__toggle",variant:"tertiary","aria-expanded":e,"aria-label":(0,R.sprintf)((0,R.__)("\u9009\u62e9\u53ef\u89c1\u6027\uff1a%s"),n),onClick:t},n)}function oa(){const[e,t]=(0,D.useState)(null),n=(0,D.useMemo)(()=>({anchor:e,placement:"bottom-end"}),[e]);return(0,D.createElement)(F.PostVisibilityCheck,{render:({canEdit:e})=>(0,D.createElement)(O.PanelRow,{ref:t,className:"edit-post-post-visibility"},(0,D.createElement)("span",null,(0,R.__)("\u53ef\u89c1\u6027")),!e&&(0,D.createElement)("span",null,(0,D.createElement)(F.PostVisibilityLabel,null)),e&&(0,D.createElement)(O.Dropdown,{contentClassName:"edit-post-post-visibility__dialog",popoverProps:n,focusOnMount:!0,renderToggle:({isOpen:e,onToggle:t})=>(0,D.createElement)(ra,{isOpen:e,onClick:t}),renderContent:({onClose:e})=>(0,D.createElement)(F.PostVisibility,{onClose:e})}))})}function la(){return(0,D.createElement)(F.PostTrashCheck,null,(0,D.createElement)(F.PostTrash,null))}function sa(){const[e,t]=(0,D.useState)(null);var n=(0,D.useMemo)(()=>({anchor:e,placement:"bottom-end"}),[e]);return(0,D.createElement)(F.PostScheduleCheck,null,(0,D.createElement)(O.PanelRow,{className:"edit-post-post-schedule",ref:t},(0,D.createElement)("span",null,(0,R.__)("\u53d1\u5e03")),(0,D.createElement)(O.Dropdown,{popoverProps:n,contentClassName:"edit-post-post-schedule__dialog",focusOnMount:!0,renderToggle:({isOpen:e,onToggle:t})=>(0,D.createElement)(ia,{isOpen:e,onClick:t}),renderContent:({onClose:e})=>(0,D.createElement)(F.PostSchedule,{onClose:e})})))}function ia({isOpen:e,onClick:t}){var n=(0,F.usePostScheduleLabel)(),a=(0,F.usePostScheduleLabel)({full:!0});return(0,D.createElement)(O.Button,{className:"edit-post-post-schedule__toggle",variant:"tertiary",label:a,showTooltip:!0,"aria-expanded":e,"aria-label":(0,R.sprintf)((0,R.__)("\u66f4\u6539\u65e5\u671f\uff1a%s"),n),onClick:t},n)}function ca(){return(0,D.createElement)(F.PostStickyCheck,null,(0,D.createElement)(O.PanelRow,null,(0,D.createElement)(F.PostSticky,null)))}function da(){return(0,D.createElement)(F.PostAuthorCheck,null,(0,D.createElement)(O.PanelRow,{className:"edit-post-post-author"},(0,D.createElement)(F.PostAuthor,null)))}function ua(){return(0,D.createElement)(F.PostSlugCheck,null,(0,D.createElement)(O.PanelRow,{className:"edit-post-post-slug"},(0,D.createElement)(F.PostSlug,null)))}function ma(){return(0,D.createElement)(F.PostFormatCheck,null,(0,D.createElement)(O.PanelRow,{className:"edit-post-post-format"},(0,D.createElement)(F.PostFormat,null)))}function pa(){return(0,D.createElement)(F.PostPendingStatusCheck,null,(0,D.createElement)(O.PanelRow,null,(0,D.createElement)(F.PostPendingStatus,null)))}const{Fill:ga,Slot:_a}=(0,O.createSlotFill)("PluginPostStatusInfo");var a=({children:e,className:t})=>(0,D.createElement)(ga,null,(0,D.createElement)(O.PanelRow,{className:t},e)),Ea=(a.Slot=_a,a),ha=(0,D.createElement)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,D.createElement)(r.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5 5.5V8H20V5.5H22.5V4H20V1.5H18.5V4H16V5.5H18.5ZM13.9624 4H6C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V10.0391H18.5V18C18.5 18.2761 18.2761 18.5 18 18.5H10L10 10.4917L16.4589 10.5139L16.4641 9.01389L5.5 8.97618V6C5.5 5.72386 5.72386 5.5 6 5.5H13.9624V4ZM5.5 10.4762V18C5.5 18.2761 5.72386 18.5 6 18.5H8.5L8.5 10.4865L5.5 10.4762Z"}));const ba=(0,R.__)("\u81ea\u5b9a\u4e49\u6a21\u677f");function va({onClose:e}){const t=(0,V.useSelect)(e=>e(F.store).getEditorSettings().defaultBlockTemplate,[]),{__unstableCreateTemplate:n,__unstableSwitchToTemplateMode:a}=(0,V.useDispatch)(q),[r,o]=(0,D.useState)(""),[l,s]=(0,D.useState)(!1),i=()=>{o(""),e()};return(0,D.createElement)(O.Modal,{title:(0,R.__)("\u521b\u5efa\u81ea\u5b9a\u4e49\u6a21\u677f"),onRequestClose:i,className:"edit-post-post-template__create-modal"},(0,D.createElement)("form",{className:"edit-post-post-template__create-form",onSubmit:async e=>{e.preventDefault(),l||(s(!0),e=null!==t&&void 0!==t?t:(0,I.serialize)([(0,I.createBlock)("core/group",{tagName:"header",layout:{inherit:!0}},[(0,I.createBlock)("core/site-title"),(0,I.createBlock)("core/site-tagline")]),(0,I.createBlock)("core/separator"),(0,I.createBlock)("core/group",{tagName:"main"},[(0,I.createBlock)("core/group",{layout:{inherit:!0}},[(0,I.createBlock)("core/post-title")]),(0,I.createBlock)("core/post-content",{layout:{inherit:!0}})])]),await n({slug:(0,c.cleanForSlug)(r||ba),content:e,title:r||ba}),s(!1),i(),a(!0))}},(0,D.createElement)(O.__experimentalVStack,{spacing:"3"},(0,D.createElement)(O.TextControl,{__nextHasNoMarginBottom:!0,label:(0,R.__)("\u540d\u79f0"),value:r,onChange:o,placeholder:ba,disabled:l,help:(0,R.__)("\u63cf\u8ff0\u6a21\u677f\uff0c\u4f8b\u5982\uff1a\u201c\u6587\u7ae0\u5e26\u4fa7\u8fb9\u680f\u201c\u3002\u4e00\u4e2a\u81ea\u5b9a\u4e49\u6a21\u677f\u53ef\u4ee5\u624b\u52a8\u5e94\u7528\u4e8e\u4efb\u4f55\u6587\u7ae0\u6216\u9875\u9762\u3002")}),(0,D.createElement)(O.__experimentalHStack,{justify:"right"},(0,D.createElement)(O.Button,{variant:"tertiary",onClick:i},(0,R.__)("\u53d6\u6d88")),(0,D.createElement)(O.Button,{variant:"primary",type:"submit",isBusy:l,"aria-disabled":l},(0,R.__)("\u521b\u5efa"))))))}function fa({onClose:e}){const{isPostsPage:t,availableTemplates:n,fetchedTemplates:a,selectedTemplateSlug:r,canCreate:o,canEdit:l}=(0,V.useSelect)(e=>{var{canUser:t,getEntityRecord:n,getEntityRecords:a}=e(A.store),r=e(F.store).getEditorSettings(),n=t("read","settings")?n("root","site"):void 0,n=e(F.store).getCurrentPostId()===n?.page_for_posts,t=t("create","templates");return{isPostsPage:n,availableTemplates:r.availableTemplates,fetchedTemplates:t?a("postType","gc_template",{post_type:e(F.store).getCurrentPostType(),per_page:-1}):void 0,selectedTemplateSlug:e(F.store).getEditedPostAttribute("template"),canCreate:t&&!n&&r.supportsTemplateMode,canEdit:t&&r.supportsTemplateMode&&!!e(q).getEditedPostTemplate()}},[]);var s=(0,D.useMemo)(()=>Object.entries({...n,...Object.fromEntries((null!==a&&void 0!==a?a:[]).map(({slug:e,title:t})=>[e,t.rendered]))}).map(([e,t])=>({value:e,label:t})),[n,a]),i=null!=(i=s.find(e=>e.value===r))?i:s.find(e=>!e.value);const c=(0,V.useDispatch)(F.store)["editPost"],d=(0,V.useDispatch)(q)["__unstableSwitchToTemplateMode"],[u,m]=(0,D.useState)(!1);return(0,D.createElement)("div",{className:"edit-post-post-template__form"},(0,D.createElement)(L.__experimentalInspectorPopoverHeader,{title:(0,R.__)("\u6a21\u677f"),help:(0,R.__)("\u6a21\u677f\u5b9a\u4e49\u4e86\u67e5\u770b\u7cfb\u7edf\u65f6\u5185\u5bb9\u7684\u663e\u793a\u65b9\u5f0f\u3002"),actions:o?[{icon:ha,label:(0,R.__)("\u6dfb\u52a0\u6a21\u677f"),onClick:()=>m(!0)}]:[],onClose:e}),t?(0,D.createElement)(O.Notice,{className:"edit-post-post-template__notice",status:"warning",isDismissible:!1},(0,R.__)("\u6587\u7ae0\u9875\u9762\u6a21\u7248\u65e0\u6cd5\u66f4\u6539\u3002")):(0,D.createElement)(O.SelectControl,{__nextHasNoMarginBottom:!0,hideLabelFromVision:!0,label:(0,R.__)("\u6a21\u677f"),value:null!=(e=i?.value)?e:"",options:s,onChange:e=>c({template:e||""})}),l&&(0,D.createElement)("p",null,(0,D.createElement)(O.Button,{variant:"link",onClick:()=>d()},(0,R.__)("\u7f16\u8f91\u6a21\u677f"))),u&&(0,D.createElement)(va,{onClose:()=>m(!1)}))}function ya(){const[e,t]=(0,D.useState)(null);var n=(0,D.useMemo)(()=>({anchor:e,placement:"bottom-end"}),[e]);return(0,V.useSelect)(e=>{var t=e(F.store).getCurrentPostType();return!!e(A.store).getPostType(t)?.viewable&&(!!(t=e(F.store).getEditorSettings()).availableTemplates&&0<Object.keys(t.availableTemplates).length||!!t.supportsTemplateMode&&null!=(t=e(A.store).canUser("create","templates"))&&t)},[])?(0,D.createElement)(O.PanelRow,{className:"edit-post-post-template",ref:t},(0,D.createElement)("span",null,(0,R.__)("\u6a21\u677f")),(0,D.createElement)(O.Dropdown,{popoverProps:n,className:"edit-post-post-template__dropdown",contentClassName:"edit-post-post-template__dialog",focusOnMount:!0,renderToggle:({isOpen:e,onToggle:t})=>(0,D.createElement)(Sa,{isOpen:e,onClick:t}),renderContent:({onClose:e})=>(0,D.createElement)(fa,{onClose:e})})):null}function Sa({isOpen:e,onClick:t}){var n=(0,V.useSelect)(e=>{var t=e(F.store).getEditedPostAttribute("template"),{supportsTemplateMode:n,availableTemplates:a}=e(F.store).getEditorSettings();return!n&&a[t]?a[t]:(n=e(A.store).canUser("create","templates")&&e(q).getEditedPostTemplate())?.title||n?.slug||a?.[t]},[]);return(0,D.createElement)(O.Button,{className:"edit-post-post-template__toggle",variant:"tertiary","aria-expanded":e,"aria-label":n?(0,R.sprintf)((0,R.__)("\u9009\u62e9\u6a21\u677f\uff1a%s"),n):(0,R.__)("\u9009\u62e9\u6a21\u677f"),onClick:t},null!=n?n:(0,R.__)("\u9ed8\u8ba4\u6a21\u677f"))}function wa(){const[e,t]=(0,D.useState)(null);var n=(0,D.useMemo)(()=>({anchor:e,placement:"bottom-end"}),[e]);return(0,D.createElement)(F.PostURLCheck,null,(0,D.createElement)(O.PanelRow,{className:"edit-post-post-url",ref:t},(0,D.createElement)("span",null,(0,R.__)("URL")),(0,D.createElement)(O.Dropdown,{popoverProps:n,className:"edit-post-post-url__dropdown",contentClassName:"edit-post-post-url__dialog",focusOnMount:!0,renderToggle:({isOpen:e,onToggle:t})=>(0,D.createElement)(Pa,{isOpen:e,onClick:t}),renderContent:({onClose:e})=>(0,D.createElement)(F.PostURL,{onClose:e})})))}function Pa({isOpen:e,onClick:t}){var n=(0,F.usePostURLLabel)();return(0,D.createElement)(O.Button,{className:"edit-post-post-url__toggle",variant:"tertiary","aria-expanded":e,"aria-label":(0,R.sprintf)((0,R.__)("\u66f4\u6539 URL\uff1a%s"),n),onClick:t},n)}const ka="post-status";var Ca=(0,N.compose)([(0,V.withSelect)(e=>{var{isEditorPanelRemoved:e,isEditorPanelOpened:t}=e(q);return{isRemoved:e(ka),isOpened:t(ka)}}),(0,N.ifCondition)(({isRemoved:e})=>!e),(0,V.withDispatch)(e=>({onTogglePanel(){return e(q).toggleEditorPanelOpened(ka)}}))])(function({isOpened:e,onTogglePanel:t}){return(0,D.createElement)(O.PanelBody,{className:"edit-post-post-status",title:(0,R.__)("\u6458\u8981"),opened:e,onToggle:t},(0,D.createElement)(Ea.Slot,null,e=>(0,D.createElement)(D.Fragment,null,(0,D.createElement)(oa,null),(0,D.createElement)(sa,null),(0,D.createElement)(ya,null),(0,D.createElement)(wa,null),(0,D.createElement)(ca,null),(0,D.createElement)(pa,null),(0,D.createElement)(ma,null),(0,D.createElement)(ua,null),(0,D.createElement)(da,null),(0,D.createElement)(F.PostSyncStatus,null),e,(0,D.createElement)(O.__experimentalHStack,{style:{marginTop:"16px"},spacing:4,wrap:!0},(0,D.createElement)(F.PostSwitchToDraftButton,null),(0,D.createElement)(la,null)))))});function Ta(){return(0,D.createElement)(F.PostLastRevisionCheck,null,(0,D.createElement)(O.PanelBody,{className:"edit-post-last-revision__panel"},(0,D.createElement)(F.PostLastRevision,null)))}var xa=(0,N.compose)((0,V.withSelect)((e,t)=>{var t=t.taxonomy?.slug,n=t?"taxonomy-panel-"+t:"";return{panelName:n,isEnabled:!!t&&e(q).isEditorPanelEnabled(n),isOpened:!!t&&e(q).isEditorPanelOpened(n)}}),(0,V.withDispatch)((e,t)=>({onTogglePanel:()=>{e(q).toggleEditorPanelOpened(t.panelName)}})))(function({isEnabled:e,taxonomy:t,isOpened:n,onTogglePanel:a,children:r}){return(e=e&&t?.labels?.menu_name)?(0,D.createElement)(O.PanelBody,{title:e,opened:n,onToggle:a},r):null});function Ma(){return(0,D.createElement)(F.PostTaxonomiesCheck,null,(0,D.createElement)(F.PostTaxonomies,{taxonomyWrapper:(e,t)=>(0,D.createElement)(xa,{taxonomy:t},e)}))}const Ba="featured-image";var e=(0,V.withSelect)(e=>{var t=e(F.store)["getEditedPostAttribute"],n=e(A.store)["getPostType"],{isEditorPanelEnabled:e,isEditorPanelOpened:a}=e(q);return{postType:n(t("type")),isEnabled:e(Ba),isOpened:a(Ba)}}),n=(0,V.withDispatch)(e=>{const t=e(q)["toggleEditorPanelOpened"];return{onTogglePanel:(...e)=>t(Ba,...e)}}),Ia=(0,N.compose)(e,n)(function({isEnabled:e,isOpened:t,postType:n,onTogglePanel:a}){return e?(0,D.createElement)(F.PostFeaturedImageCheck,null,(0,D.createElement)(O.PanelBody,{title:null!=(e=n?.labels?.featured_image)?e:(0,R.__)("\u7279\u8272\u56fe\u7247"),opened:t,onToggle:a},(0,D.createElement)(F.PostFeaturedImage,null))):null});const La="post-excerpt";var Na=(0,N.compose)([(0,V.withSelect)(e=>({isEnabled:e(q).isEditorPanelEnabled(La),isOpened:e(q).isEditorPanelOpened(La)})),(0,V.withDispatch)(e=>({onTogglePanel(){return e(q).toggleEditorPanelOpened(La)}}))])(function({isEnabled:e,isOpened:t,onTogglePanel:n}){return e?(0,D.createElement)(F.PostExcerptCheck,null,(0,D.createElement)(O.PanelBody,{title:(0,R.__)("\u6458\u8981"),opened:t,onToggle:n},(0,D.createElement)(F.PostExcerpt,null))):null});const Aa="discussion-panel";var Da=(0,N.compose)([(0,V.withSelect)(e=>({isEnabled:e(q).isEditorPanelEnabled(Aa),isOpened:e(q).isEditorPanelOpened(Aa)})),(0,V.withDispatch)(e=>({onTogglePanel(){return e(q).toggleEditorPanelOpened(Aa)}}))])(function({isEnabled:e,isOpened:t,onTogglePanel:n}){return e?(0,D.createElement)(F.PostTypeSupportCheck,{supportKeys:["comments","trackbacks"]},(0,D.createElement)(O.PanelBody,{title:(0,R.__)("\u8ba8\u8bba"),opened:t,onToggle:n},(0,D.createElement)(F.PostTypeSupportCheck,{supportKeys:"comments"},(0,D.createElement)(O.PanelRow,null,(0,D.createElement)(F.PostComments,null))),(0,D.createElement)(F.PostTypeSupportCheck,{supportKeys:"trackbacks"},(0,D.createElement)(O.PanelRow,null,(0,D.createElement)(F.PostPingbacks,null))))):null});const Va="page-attributes";function Oa(){var{isEnabled:e,isOpened:t,postType:n}=(0,V.useSelect)(e=>{var t=e(F.store)["getEditedPostAttribute"],{isEditorPanelEnabled:n,isEditorPanelOpened:a}=e(q),e=e(A.store)["getPostType"];return{isEnabled:n(Va),isOpened:a(Va),postType:e(t("type"))}},[]);const a=(0,V.useDispatch)(q)["toggleEditorPanelOpened"];return e&&n?(0,D.createElement)(F.PageAttributesCheck,null,(0,D.createElement)(O.PanelBody,{title:null!=(e=n?.labels?.attributes)?e:(0,R.__)("\u9875\u9762\u5c5e\u6027"),opened:t,onToggle:(...e)=>a(Va,...e)},(0,D.createElement)(F.PageAttributesParent,null),(0,D.createElement)(O.PanelRow,null,(0,D.createElement)(F.PageAttributesOrder,null)))):null}var Ra=function({location:e}){const t=(0,D.useRef)(null),n=(0,D.useRef)(null);(0,D.useEffect)(()=>(n.current=document.querySelector(".metabox-location-"+e),n.current&&t.current.appendChild(n.current),()=>{n.current&&document.querySelector("#metaboxes").appendChild(n.current)}),[e]);var a=(0,V.useSelect)(e=>e(q).isSavingMetaBoxes(),[]),r=H()("edit-post-meta-boxes-area","is-"+e,{"is-loading":a});return(0,D.createElement)("div",{className:r},a&&(0,D.createElement)(O.Spinner,null),(0,D.createElement)("div",{className:"edit-post-meta-boxes-area__container",ref:t}),(0,D.createElement)("div",{className:"edit-post-meta-boxes-area__clear"}))};class Fa extends D.Component{componentDidMount(){this.updateDOM()}componentDidUpdate(e){this.props.isVisible!==e.isVisible&&this.updateDOM()}updateDOM(){var{id:e,isVisible:t}=this.props,e=document.getElementById(e);e&&(t?e.classList.remove("is-hidden"):e.classList.add("is-hidden"))}render(){return null}}var Ha=(0,V.withSelect)((e,{id:t})=>({isVisible:e(q).isEditorPanelEnabled("meta-box-"+t)}))(Fa);function Ua({location:a}){const e=(0,V.useRegistry)(),{metaBoxes:t,areMetaBoxesInitialized:n,isEditorReady:r}=(0,V.useSelect)(e=>{var t=e(F.store)["__unstableIsEditorReady"],{getMetaBoxesPerLocation:e,areMetaBoxesInitialized:n}=e(q);return{metaBoxes:e(a),areMetaBoxesInitialized:n(),isEditorReady:t()}},[a]);return(0,D.useEffect)(()=>{r&&!n&&e.dispatch(q).initializeMetaBoxes()},[r,n]),n?(0,D.createElement)(D.Fragment,null,(null!=t?t:[]).map(({id:e})=>(0,D.createElement)(Ha,{key:e,id:e})),(0,D.createElement)(Ra,{location:a})):null}window.gc.warning;const{Fill:Ga,Slot:za}=(0,O.createSlotFill)("PluginDocumentSettingPanel");var a=(0,N.compose)((0,M.withPluginContext)((e,t)=>(t.name,{panelName:e.name+"/"+t.name})),(0,V.withSelect)((e,{panelName:t})=>({opened:e(q).isEditorPanelOpened(t),isEnabled:e(q).isEditorPanelEnabled(t)})),(0,V.withDispatch)((e,{panelName:t})=>({onToggle(){return e(q).toggleEditorPanelOpened(t)}})))(({isEnabled:e,panelName:t,opened:n,onToggle:a,className:r,title:o,icon:l,children:s})=>(0,D.createElement)(D.Fragment,null,(0,D.createElement)(pn,{label:o,panelName:t}),(0,D.createElement)(Ga,null,e&&(0,D.createElement)(O.PanelBody,{className:r,title:o,icon:l,opened:n,onToggle:a},s)))),Za=(a.Slot=za,a);function qa({className:e,...t}){var{postTitle:n,shortcut:a,showIconLabels:r}=(0,V.useSelect)(e=>({postTitle:e(F.store).getEditedPostAttribute("title"),shortcut:e(G.store).getShortcutRepresentation("core/edit-post/toggle-sidebar"),showIconLabels:e(q).isFeatureActive("showIconLabels")}),[]);return(0,D.createElement)(be,{panelClassName:e,className:"edit-post-sidebar",smallScreenTitle:n||(0,R.__)("\uff08\u65e0\u6807\u9898\uff09"),scope:"core/edit-post",toggleShortcut:a,showIconLabels:r,...t})}function ja(){var e=(0,V.useSelect)(e=>{e=e(q).getEditedPostTemplate;return e()},[]);return e?(0,D.createElement)(O.PanelBody,null,(0,D.createElement)(O.Flex,{align:"flex-start",gap:"3"},(0,D.createElement)(O.FlexItem,null,(0,D.createElement)(ke,{icon:Zn})),(0,D.createElement)(O.FlexBlock,null,(0,D.createElement)("h2",{className:"edit-post-template-summary__title"},e?.title||e?.slug),(0,D.createElement)("p",null,e?.description)))):null}const Wa=D.Platform.select({web:!0,native:!1});var Ka=()=>{var{sidebarName:e,keyboardShortcut:t,isTemplateMode:n}=(0,V.useSelect)(e=>{let t=e(U).getActiveComplementaryArea(q.name);["edit-post/document","edit-post/block"].includes(t)||(e(L.store).getBlockSelectionStart()&&(t="edit-post/block"),t="edit-post/document");var n=e(G.store).getShortcutRepresentation("core/edit-post/toggle-sidebar");return{sidebarName:t,keyboardShortcut:n,isTemplateMode:e(q).isEditingTemplate()}},[]);return(0,D.createElement)(qa,{identifier:e,header:(0,D.createElement)(aa,{sidebarName:e}),closeLabel:(0,R.__)("\u5173\u95ed\u8bbe\u7f6e"),headerClassName:"edit-post-sidebar__panel-tabs",title:(0,R.__)("\u8bbe\u7f6e"),toggleShortcut:t,icon:(0,R.isRTL)()?ta:na,isActiveByDefault:Wa},!n&&"edit-post/document"===e&&(0,D.createElement)(D.Fragment,null,(0,D.createElement)(Ca,null),(0,D.createElement)(Za.Slot,null),(0,D.createElement)(Ta,null),(0,D.createElement)(Ma,null),(0,D.createElement)(Ia,null),(0,D.createElement)(Na,null),(0,D.createElement)(Da,null),(0,D.createElement)(Oa,null),(0,D.createElement)(Ua,{location:"side"})),n&&"edit-post/document"===e&&(0,D.createElement)(ja,null),"edit-post/block"===e&&(0,D.createElement)(L.BlockInspector,null))};const{Fill:Qa,Slot:Xa}=(0,O.createSlotFill)("PluginPostPublishPanel");var e=(0,N.compose)((0,M.withPluginContext)((e,t)=>({icon:t.icon||e.icon})))(({children:e,className:t,title:n,initialOpen:a=!1,icon:r})=>(0,D.createElement)(Qa,null,(0,D.createElement)(O.PanelBody,{className:t,initialOpen:a||!n,title:n,icon:r},e))),Ya=(e.Slot=Xa,e);const{Fill:$a,Slot:Ja}=(0,O.createSlotFill)("PluginPrePublishPanel");var n=(0,N.compose)((0,M.withPluginContext)((e,t)=>({icon:t.icon||e.icon})))(({children:e,className:t,title:n,initialOpen:a=!1,icon:r})=>(0,D.createElement)($a,null,(0,D.createElement)(O.PanelBody,{className:t,initialOpen:a||!n,title:n,icon:r},e))),er=(n.Slot=Ja,n);const tr=(0,O.createSlotFill)("ActionsPanel")["Slot"];function nr({setEntitiesSavedStatesCallback:e,closeEntitiesSavedStates:t,isEntitiesSavedStatesOpen:n}){var{closePublishSidebar:a,togglePublishSidebar:r}=(0,V.useDispatch)(q),{publishSidebarOpened:o,hasActiveMetaboxes:l,isSavingMetaBoxes:s,hasNonPostEntityChanges:i}=(0,V.useSelect)(e=>({publishSidebarOpened:e(q).isPublishSidebarOpened(),hasActiveMetaboxes:e(q).hasMetaBoxes(),isSavingMetaBoxes:e(q).isSavingMetaBoxes(),hasNonPostEntityChanges:e(F.store).hasNonPostEntityChanges()}),[]),c=(0,D.useCallback)(()=>e(!0),[]);let d;return d=o?(0,D.createElement)(F.PostPublishPanel,{onClose:a,forceIsDirty:l,forceIsSaving:s,PrePublishExtension:er.Slot,PostPublishExtension:Ya.Slot}):i?(0,D.createElement)("div",{className:"edit-post-layout__toggle-entities-saved-states-panel"},(0,D.createElement)(O.Button,{variant:"secondary",className:"edit-post-layout__toggle-entities-saved-states-panel-button",onClick:c,"aria-expanded":!1},(0,R.__)("\u6253\u5f00\u4fdd\u5b58\u9762\u677f"))):(0,D.createElement)("div",{className:"edit-post-layout__toggle-publish-panel"},(0,D.createElement)(O.Button,{variant:"secondary",className:"edit-post-layout__toggle-publish-panel-button",onClick:r,"aria-expanded":!1},(0,R.__)("\u6253\u5f00\u53d1\u5e03\u9762\u677f"))),(0,D.createElement)(D.Fragment,null,n&&(0,D.createElement)(F.EntitiesSavedStates,{close:t}),(0,D.createElement)(tr,{bubblesVirtually:!0}),!n&&d)}function ar(){const{blockPatternsWithPostContentBlockType:e,postType:t}=(0,V.useSelect)(e=>{var t=e(L.store)["getPatternsByBlockTypes"],e=e(F.store)["getCurrentPostType"];return{blockPatternsWithPostContentBlockType:t("core/post-content"),postType:e()}},[]);return(0,D.useMemo)(()=>e.filter(e=>"page"===t&&!e.postTypes||Array.isArray(e.postTypes)&&e.postTypes.includes(t)),[t,e])}function rr({onChoosePattern:n}){var e=ar(),t=(0,N.useAsyncList)(e);const a=(0,V.useDispatch)(F.store)["resetEditorBlocks"];return(0,D.createElement)(L.__experimentalBlockPatternsList,{blockPatterns:e,shownPatterns:t,onClickPattern:(e,t)=>{a(t),n()}})}const g={INITIAL:"INITIAL",PATTERN:"PATTERN",CLOSED:"CLOSED"};function or(){const[r,e]=(0,D.useState)(g.INITIAL);const o=0<ar().length,t=(0,V.useSelect)(e=>{var t,n,a;return o&&r===g.INITIAL&&({getEditedPostContent:t,isEditedPostSaveable:n}=e(F.store),{isEditingTemplate:e,isFeatureActive:a}=e(q),!n())&&""===t()&&!e()},[r,o]);return(0,D.useEffect)(()=>{t&&e(g.PATTERN)},[t]),r===g.INITIAL||r===g.CLOSED?null:(0,D.createElement)(O.Modal,{className:"edit-post-start-page-options__modal",title:(0,R.__)("\u9009\u62e9\u4e00\u4e2a\u6837\u677f"),isFullScreen:!0,onRequestClose:()=>{e(g.CLOSED)}},(0,D.createElement)("div",{className:"edit-post-start-page-options__modal-content"},r===g.PATTERN&&(0,D.createElement)(rr,{onChoosePattern:()=>{e(g.CLOSED)}})))}const lr=s(L.privateApis)["getLayoutStyles"],sr={header:(0,R.__)("\u7f16\u8f91\u9876\u680f"),body:(0,R.__)("\u7f16\u8f91\u5668\u5185\u5bb9"),sidebar:(0,R.__)("\u7f16\u8f91\u5668\u8bbe\u7f6e"),actions:(0,R.__)("\u7f16\u8f91\u5668\u53d1\u5e03"),footer:(0,R.__)("\u7f16\u8f91\u9875\u811a")};function ir(){var e=(0,N.useViewportMatch)("medium","<");const t=(0,N.useViewportMatch)("huge",">=");var n=(0,N.useViewportMatch)("large");const{openGeneralSidebar:a,closeGeneralSidebar:r,setIsInserterOpened:o}=(0,V.useDispatch)(q),l=(0,V.useDispatch)(B.store)["createErrorNotice"],{mode:s,isFullscreenActive:i,isRichEditingEnabled:c,sidebarIsOpened:d,hasActiveMetaboxes:u,hasFixedToolbar:m,previousShortcut:p,nextShortcut:g,hasBlockSelected:_,isInserterOpened:E,isListViewOpened:h,showIconLabels:b,isDistractionFree:v,showBlockBreadcrumbs:f,isTemplateMode:y,documentLabel:S}=(0,V.useSelect)(e=>{var{getEditorSettings:t,getPostTypeLabel:n}=e(F.store),t=t(),n=n();return{isTemplateMode:e(q).isEditingTemplate(),hasFixedToolbar:e(q).isFeatureActive("fixedToolbar"),sidebarIsOpened:!(!e(U).getActiveComplementaryArea(q.name)&&!e(q).isPublishSidebarOpened()),isFullscreenActive:e(q).isFeatureActive("fullscreenMode"),isInserterOpened:e(q).isInserterOpened(),isListViewOpened:e(q).isListViewOpened(),mode:e(q).getEditorMode(),isRichEditingEnabled:t.richEditingEnabled,hasActiveMetaboxes:e(q).hasMetaBoxes(),previousShortcut:e(G.store).getAllShortcutKeyCombinations("core/edit-post/previous-region"),nextShortcut:e(G.store).getAllShortcutKeyCombinations("core/edit-post/next-region"),showIconLabels:e(q).isFeatureActive("showIconLabels"),isDistractionFree:e(q).isFeatureActive("distractionFree"),showBlockBreadcrumbs:e(q).isFeatureActive("showBlockBreadcrumbs"),documentLabel:n||(0,R._x)("\u6587\u6863","noun")}},[]);var w=function(){const{hasThemeStyleSupport:n,editorSettings:a}=(0,V.useSelect)(e=>({hasThemeStyleSupport:e(q).isFeatureActive("themeStyles"),editorSettings:e(F.store).getEditorSettings()}),[]);return(0,D.useMemo)(()=>{var e=null!=(e=a.styles?.filter(e=>e.__unstableType&&"theme"!==e.__unstableType))?e:[],t=[...a.defaultEditorStyles,...e],e=n&&e.length!==(null!=(e=a.styles?.length)?e:0);return a.disableLayoutStyles||e||t.push({css:lr({style:{},selector:"body",hasBlockGapSupport:!1,hasFallbackGapSupport:!0,fallbackGapValue:"0.5em"})}),e?a.styles:t},[a.defaultEditorStyles,a.disableLayoutStyles,a.styles,n])}();(0,D.useEffect)(()=>{d&&!t&&o(!1)},[d,t]),(0,D.useEffect)(()=>{E&&!t&&r()},[E,t]);const[P,k]=(0,D.useState)(!1);var C=(0,D.useCallback)(e=>{"function"==typeof P&&P(e),k(!1)},[P]),T=H()("edit-post-layout","is-mode-"+s,{"is-sidebar-opened":d,"has-fixed-toolbar":m,"has-metaboxes":u,"show-icon-labels":b,"is-distraction-free":v&&n,"is-entity-save-view-open":!!P}),x=h?(0,R.__)("\u6587\u6863\u6982\u8ff0"):(0,R.__)("\u533a\u5757\u5e93");return(0,D.createElement)(D.Fragment,null,(0,D.createElement)(ve,{isActive:i}),(0,D.createElement)(Sn,null),(0,D.createElement)(F.UnsavedChangesWarning,null),(0,D.createElement)(F.AutosaveMonitor,null),(0,D.createElement)(F.LocalAutosaveMonitor,null),(0,D.createElement)(sn,null),(0,D.createElement)(F.EditorKeyboardShortcutsRegister,null),(0,D.createElement)(Ka,null),(0,D.createElement)(ye,{isDistractionFree:v&&n,className:T,labels:{...sr,secondarySidebar:x},header:(0,D.createElement)(Kn,{setEntitiesSavedStatesCallback:k}),editorNotices:(0,D.createElement)(F.EditorNotices,null),secondarySidebar:"visual"===s&&E?(0,D.createElement)(Xn,null):"visual"===s&&h?(0,D.createElement)(ea,null):null,sidebar:(!e||d)&&(0,D.createElement)(D.Fragment,null,!e&&!d&&(0,D.createElement)("div",{className:"edit-post-layout__toggle-sidebar-panel"},(0,D.createElement)(O.Button,{variant:"secondary",className:"edit-post-layout__toggle-sidebar-panel-button",onClick:()=>a(_?"edit-post/block":"edit-post/document"),"aria-expanded":!1},_?(0,R.__)("\u5f00\u542f\u533a\u5757\u8bbe\u7f6e"):(0,R.__)("\u5f00\u542f\u6587\u6863\u8bbe\u7f6e"))),(0,D.createElement)(be.Slot,{scope:"core/edit-post"})),notices:(0,D.createElement)(F.EditorSnackbars,null),content:(0,D.createElement)(D.Fragment,null,!v&&(0,D.createElement)(F.EditorNotices,null),("text"===s||!c)&&(0,D.createElement)(en,null),c&&"visual"===s&&(0,D.createElement)(ln,{styles:w}),!v&&!y&&(0,D.createElement)("div",{className:"edit-post-layout__metaboxes"},(0,D.createElement)(Ua,{location:"normal"}),(0,D.createElement)(Ua,{location:"advanced"})),e&&d&&(0,D.createElement)(O.ScrollLock,null)),footer:!v&&!e&&f&&c&&"visual"===s&&(0,D.createElement)("div",{className:"edit-post-layout__footer"},(0,D.createElement)(L.BlockBreadcrumb,{rootLabelText:S})),actions:(0,D.createElement)(nr,{closeEntitiesSavedStates:C,isEntitiesSavedStatesOpen:P,setEntitiesSavedStatesCallback:k}),shortcuts:{previous:p,next:g}}),(0,D.createElement)(fn,null),(0,D.createElement)(Oe,null),(0,D.createElement)(F.PostSyncStatusModal,null),(0,D.createElement)(or,null),(0,D.createElement)(O.Popover.Slot,null),(0,D.createElement)(M.PluginArea,{onError:function(e){l((0,R.sprintf)((0,R.__)("\u63d2\u4ef6\u201c%s\u201d\u9047\u5230\u4e86\u4e00\u4e2a\u9519\u8bef\uff0c\u4e14\u65e0\u6cd5\u88ab\u6e32\u67d3\u3002"),e))}}))}const cr=e=>{const{hasBlockSelection:t,isEditorSidebarOpened:n}=(0,V.useSelect)(e=>({hasBlockSelection:!!e(L.store).getBlockSelectionStart(),isEditorSidebarOpened:e(Jt).isEditorSidebarOpened()}),[e]),a=(0,V.useDispatch)(Jt)["openGeneralSidebar"];(0,D.useEffect)(()=>{n&&(t?a("edit-post/block"):a("edit-post/document"))},[t,n])},dr=e=>{const t=(0,V.useSelect)(e=>({newPermalink:e(F.store).getCurrentPost().link}),[e])["newPermalink"],n=(0,D.useRef)();(0,D.useEffect)(()=>{n.current=document.querySelector("#gc-admin-bar-preview a")||document.querySelector("#gc-admin-bar-view a")},[e]),(0,D.useEffect)(()=>{t&&n.current&&n.current.setAttribute("href",t)},[t])};function ur({postId:e}){return cr(e),dr(e),null}var mr=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})),W=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"})),pr=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(r.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})),gr=(0,D.createElement)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,D.createElement)(r.Path,{d:"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z"})),_r=(0,D.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,D.createElement)(r.Path,{d:"M18,0 L2,0 C0.9,0 0.01,0.9 0.01,2 L0,12 C0,13.1 0.9,14 2,14 L18,14 C19.1,14 20,13.1 20,12 L20,2 C20,0.9 19.1,0 18,0 Z M18,12 L2,12 L2,2 L18,2 L18,12 Z M9,3 L11,3 L11,5 L9,5 L9,3 Z M9,6 L11,6 L11,8 L9,8 L9,6 Z M6,3 L8,3 L8,5 L6,5 L6,3 Z M6,6 L8,6 L8,8 L6,8 L6,6 Z M3,6 L5,6 L5,8 L3,8 L3,6 Z M3,3 L5,3 L5,5 L3,5 L3,3 Z M6,9 L14,9 L14,11 L6,11 L6,9 Z M12,6 L14,6 L14,8 L12,8 L12,6 Z M12,3 L14,3 L14,5 L12,5 L12,3 Z M15,6 L17,6 L17,8 L15,8 L15,6 Z M15,3 L17,3 L17,5 L15,5 L15,3 Z M10,20 L14,16 L6,16 L10,20 Z"}));const Er=s(F.privateApis)["ExperimentalEditorProvider"],hr=s(t.privateApis)["useCommands"];var br=function({postId:p,postType:g,settings:n,initialEdits:e,...t}){hr();{const{openGeneralSidebar:v,closeGeneralSidebar:f,switchEditorMode:y,setIsListViewOpened:S}=(0,V.useDispatch)(q),w=(0,V.useDispatch)(U)["openModal"],{editorMode:P,activeSidebar:k,isListViewOpen:C}=(0,V.useSelect)(e=>{var{getEditorMode:t,isListViewOpened:n}=e(q);return{activeSidebar:e(U).getActiveComplementaryArea(q.name),editorMode:t(),isListViewOpen:n()}},[]),T=(0,V.useDispatch)(x.store)["toggle"];(0,Z.useCommand)({name:"core/open-settings-sidebar",label:(0,R.__)("\u5207\u6362\u8bbe\u7f6e\u4fa7\u8fb9\u680f"),icon:(0,R.isRTL)()?ta:na,callback:({close:e})=>{e(),"edit-post/document"===k?f():v("edit-post/document")}}),(0,Z.useCommand)({name:"core/open-block-inspector",label:(0,R.__)("\u5207\u6362\u5757\u68c0\u67e5\u5668"),icon:mr,callback:({close:e})=>{e(),"edit-post/block"===k?f():v("edit-post/block")}}),(0,Z.useCommand)({name:"core/toggle-distraction-free",label:(0,R.__)("\u5207\u6362\u4e13\u6ce8\u6a21\u5f0f"),icon:W,callback:({close:e})=>{T("core/edit-post","distractionFree"),e()}}),(0,Z.useCommand)({name:"core/toggle-spotlight-mode",label:(0,R.__)("\u5207\u6362\u805a\u5149\u706f\u6a21\u5f0f"),icon:W,callback:({close:e})=>{T("core/edit-post","focusMode"),e()}}),(0,Z.useCommand)({name:"core/toggle-fullscreen-mode",label:(0,R.__)("\u5207\u6362\u5168\u5c4f\u6a21\u5f0f"),icon:pr,callback:({close:e})=>{T("core/edit-post","fullscreenMode"),e()}}),(0,Z.useCommand)({name:"core/toggle-list-view",label:(0,R.__)("\u5207\u6362\u5217\u8868\u89c6\u56fe"),icon:kn,callback:({close:e})=>{S(!C),e()}}),(0,Z.useCommand)({name:"core/toggle-top-toolbar",label:(0,R.__)("\u5207\u6362\u9876\u90e8\u5de5\u5177\u680f"),icon:W,callback:({close:e})=>{T("core/edit-post","fixedToolbar"),e()}}),(0,Z.useCommand)({name:"core/toggle-code-editor",label:(0,R.__)("\u5207\u6362\u4ee3\u7801\u7f16\u8f91\u5668"),icon:gr,callback:({close:e})=>{y("visual"===P?"text":"visual"),e()}}),(0,Z.useCommand)({name:"core/open-preferences",label:(0,R.__)("\u6253\u5f00\u7f16\u8f91\u5668\u9996\u9009\u9879"),icon:W,callback:()=>{w(vn)}}),(0,Z.useCommand)({name:"core/open-shortcut-help",label:(0,R.__)("\u6253\u5f00\u952e\u76d8\u5feb\u6377\u952e"),icon:_r,callback:()=>{w(z)}})}const{hasFixedToolbar:a,focusMode:r,isDistractionFree:o,hasInlineToolbar:l,post:s,preferredStyleVariations:i,hiddenBlockTypes:c,blockTypes:d,keepCaretInsideBlock:u,isTemplateMode:m,template:_}=(0,V.useSelect)(e=>{var{isFeatureActive:t,isEditingTemplate:n,getEditedPostTemplate:a,getHiddenBlockTypes:r}=e(q),{getEntityRecord:o,getPostType:l,getEntityRecords:s,canUser:i}=e(A.store),c=e(F.store)["getEditorSettings"],d=e(I.store)["getBlockTypes"],u=["gc_template","gc_template_part"].includes(g);let m;m=u?s("postType",g,{gc_id:p})?.[0]:o("postType",g,p);u=c().supportsTemplateMode,o=null!=(s=l(g)?.viewable)&&s,c=i("create","templates");return{hasFixedToolbar:t("fixedToolbar"),focusMode:t("focusMode"),isDistractionFree:t("distractionFree"),hasInlineToolbar:t("inlineToolbar"),preferredStyleVariations:e(x.store).get("core/edit-post","preferredStyleVariations"),hiddenBlockTypes:r(),blockTypes:d(),keepCaretInsideBlock:t("keepCaretInsideBlock"),isTemplateMode:n(),template:u&&o&&c?a():null,post:m}},[g,p]),{updatePreferredStyleVariations:E,setIsInserterOpened:h}=(0,V.useDispatch)(q);var b=(0,D.useMemo)(()=>{var e,t={...n,__experimentalPreferredStyleVariations:{value:i,onChange:E},hasFixedToolbar:a,focusMode:r,isDistractionFree:o,hasInlineToolbar:l,__experimentalSetIsInserterOpened:h,keepCaretInsideBlock:u,defaultAllowedBlockTypes:n.allowedBlockTypes};return 0<c.length&&(e=!0===n.allowedBlockTypes?d.map(({name:e})=>e):n.allowedBlockTypes||[],t.allowedBlockTypes=e.filter(e=>!c.includes(e))),t},[n,a,l,r,o,c,d,i,h,E,u]);return s?(0,D.createElement)(G.ShortcutProvider,null,(0,D.createElement)(O.SlotFillProvider,null,(0,D.createElement)(Er,{settings:b,post:s,initialEdits:e,useSubRegistry:!1,__unstableTemplate:m?_:void 0,...t},(0,D.createElement)(F.ErrorBoundary,null,(0,D.createElement)(Z.CommandMenu,null),(0,D.createElement)(ur,{postId:p}),(0,D.createElement)(ir,null)),(0,D.createElement)(F.PostLockedModal,null)))):null};const vr=(e,t)=>0===e.filter(e=>!t.includes(e)).length;var fr=({allowedBlocks:a,icon:r,label:o,onClick:l,small:s,role:i})=>(0,D.createElement)(L.BlockSettingsMenuControls,null,({selectedBlocks:e,onClose:t})=>{var n;return e=e,n=a,Array.isArray(n)&&!vr(e,n)?null:(0,D.createElement)(O.MenuItem,{onClick:(0,N.compose)(l,t),icon:r,label:s?o:void 0,role:i},!s&&o)}),yr=(0,N.compose)((0,M.withPluginContext)((e,t)=>{var n;return{as:null!=(n=t.as)?n:O.MenuItem,icon:t.icon||e.icon,name:"core/edit-post/plugin-more-menu"}}))(me);function Sr(e){return(0,D.createElement)(ge,{__unstableExplicitMenuItem:!0,scope:"core/edit-post",...e})}function wr(e,t,n,a,r){var e=document.getElementById(e),e=(0,D.createRoot)(e),o=((0,V.dispatch)(x.store).setDefaults("core/edit-post",{editorMode:"visual",fixedToolbar:!1,fullscreenMode:!0,hiddenBlockTypes:[],inactivePanels:[],isPublishSidebarEnabled:!0,openPanels:["post-status"],preferredStyleVariations:{},showBlockBreadcrumbs:!0,showIconLabels:!1,showListViewByDefault:!1,themeStyles:!0}),(0,V.dispatch)(I.store).__experimentalReapplyBlockTypeFilters(),(0,V.select)(q).isFeatureActive("showListViewByDefault")&&!(0,V.select)(q).isFeatureActive("distractionFree")&&(0,V.dispatch)(q).setIsListViewOpened(!0),(0,_.registerCoreBlocks)(),(0,h.registerLegacyWidgetBlock)({inserter:!1}),(0,h.registerWidgetGroupBlock)({inserter:!1}),(0,l.addFilter)("blockEditor.__unstableCanInsertBlockType","removeTemplatePartsFromInserter",(e,t)=>!(!(0,V.select)(q).isEditingTemplate()&&"core/template-part"===t.name)&&e),(0,l.addFilter)("blockEditor.__unstableCanInsertBlockType","removePostContentFromInserter",(e,t,n,{getBlockParentsByBlockName:a})=>(0,V.select)(q).isEditingTemplate()||"core/post-content"!==t.name?e:0<a(n,"core/query").length),"CSS1Compat"===document.compatMode?"Standards":"Quirks"),o=("Standards"!=o&&console.warn("Your browser is using Quirks Mode. \nThis can cause rendering issues such as blocks overlaying meta boxes in the editor. Quirks Mode can be triggered by PHP errors or HTML code appearing before the opening <!DOCTYPE html>. Try checking the raw page source or your site's PHP error log and resolving errors there, removing any HTML before the doctype, or disabling plugins."),-1!==window.navigator.userAgent.indexOf("iPhone"));return o&&window.addEventListener("scroll",e=>{var t=document.getElementsByClassName("interface-interface-skeleton__body")[0];e.target===document&&(100<window.scrollY&&(t.scrollTop=t.scrollTop+window.scrollY),document.getElementsByClassName("is-mode-visual")[0])&&window.scrollTo(0,0)}),window.addEventListener("dragover",e=>e.preventDefault(),!1),window.addEventListener("drop",e=>e.preventDefault(),!1),e.render((0,D.createElement)(br,{settings:a,postId:n,postType:t,initialEdits:r})),e}function Pr(){o()("gc.editPost.reinitializeEditor",{since:"6.2",version:"6.3"})}}(),(window.gc=window.gc||{}).editPost=Cr}();