/*! This file is auto-generated */
!function(){var n={4403:function(e,t){var n;!function(){"use strict";var o={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i,r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n))n.length&&(i=s.apply(null,n))&&e.push(i);else if("object"==r)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var a in n)o.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?e.exports=s.default=s:void 0!==(n=function(){return s}.apply(t,[]))&&(e.exports=n)}()}},i={};function J(e){var t=i[e];return void 0!==t||(t=i[e]={exports:{}},n[e](t,t.exports,J)),t.exports}J.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return J.d(t,{a:t}),t},J.d=function(e,t){for(var n in t)J.o(t,n)&&!J.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},J.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},J.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var X={};!function(){"use strict";J.r(X),J.d(X,{MoveToWidgetArea:function(){return R},addWidgetIdToBlock:function(){return Q},getWidgetIdFromBlock:function(){return G},registerLegacyWidgetBlock:function(){return $},registerLegacyWidgetVariations:function(){return Z},registerWidgetGroupBlock:function(){return U}});var r={},a=(J.r(r),J.d(r,{metadata:function(){return F},name:function(){return D},settings:function(){return L}}),{}),o=(J.r(a),J.d(a,{metadata:function(){return N},name:function(){return j},settings:function(){return W}}),window.gc.blocks),h=window.gc.element,e=window.gc.primitives,t=(0,h.createElement)(e.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,h.createElement)(e.Path,{d:"M6 3H8V5H16V3H18V5C19.1046 5 20 5.89543 20 7V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V7C4 5.89543 4.89543 5 6 5V3ZM18 6.5H6C5.72386 6.5 5.5 6.72386 5.5 7V8H18.5V7C18.5 6.72386 18.2761 6.5 18 6.5ZM18.5 9.5H5.5V19C5.5 19.2761 5.72386 19.5 6 19.5H18C18.2761 19.5 18.5 19.2761 18.5 19V9.5ZM11 11H13V13H11V11ZM7 11V13H9V11H7ZM15 13V11H17V13H15Z"})),n=J(4403),g=J.n(n),w=window.gc.blockEditor,p=window.gc.components,f=(0,h.createElement)(e.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,h.createElement)(e.Path,{d:"M4 20h8v-1.5H4V20zM18.9 3.5c-.6-.6-1.5-.6-2.1 0l-7.2 7.2c-.4-.1-.7 0-1.1.1-.5.2-1.5.7-1.9 2.2-.4 1.7-.8 2.2-1.1 2.7-.1.1-.2.3-.3.4l-.6 1.1H6c2 0 3.4-.4 4.7-1.4.8-.6 1.2-1.4 1.3-2.3 0-.3 0-.5-.1-.7L19 5.7c.5-.6.5-1.6-.1-2.2zM9.7 14.7c-.7.5-1.5.8-2.4 1 .2-.5.5-1.2.8-2.3.2-.6.4-1 .8-1.1.5-.1 1 .1 1.3.3.2.2.3.5.2.8 0 .3-.1.9-.7 1.3z"})),v=window.gc.i18n,b=window.gc.data,E=window.gc.coreData;function i({selectedId:e,onSelect:n}){const i=(0,b.useSelect)(e=>{var t;const n=null!=(t=e(w.store).getSettings()?.widgetTypesToHideFromLegacyWidgetBlock)?t:[];return e(E.store).getWidgetTypes({per_page:-1})?.filter(e=>!n.includes(e.id))},[]);return i?0===i.length?(0,v.__)("\u6ca1\u6709\u53ef\u7528\u7684\u5c0f\u5de5\u5177\u3002"):(0,h.createElement)(p.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,v.__)("\u9009\u62e9\u8981\u663e\u793a\u7684\u65e7\u7248\u5c0f\u5de5\u5177\uff1a"),value:null!=e?e:"",options:[{value:"",label:(0,v.__)("\u9009\u62e9\u5c0f\u5de5\u5177")},...i.map(e=>({value:e.id,label:e.name}))],onChange:t=>{var e;t?(e=i.find(e=>e.id===t),n({selectedId:e.id,isMulti:e.is_multi})):n({selectedId:null})}}):(0,h.createElement)(p.Spinner,null)}function _({name:e,description:t}){return(0,h.createElement)("div",{className:"gc-block-legacy-widget-inspector-card"},(0,h.createElement)("h3",{className:"gc-block-legacy-widget-inspector-card__name"},e),(0,h.createElement)("span",null,t))}var y=window.gc.notices,k=window.gc.compose,n=window.gc.apiFetch,l=J.n(n);class B{constructor({id:e,idBase:t,instance:n,onChangeInstance:i,onChangeHasPreview:r,onError:a}){this.id=e,this.idBase=t,this._instance=n,this._hasPreview=null,this.onChangeInstance=i,this.onChangeHasPreview=r,this.onError=a,this.number=++s,this.handleFormChange=(0,k.debounce)(this.handleFormChange.bind(this),200),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.initDOM(),this.bindEvents(),this.loadContent()}destroy(){this.unbindEvents(),this.element.remove()}initDOM(){var e;this.element=c("div",{class:"widget open"},[c("div",{class:"widget-inside"},[this.form=c("form",{class:"form",method:"post"},[c("input",{class:"widget-id",type:"hidden",name:"widget-id",value:null!=(e=this.id)?e:this.idBase+"-"+this.number}),c("input",{class:"id_base",type:"hidden",name:"id_base",value:null!=(e=this.idBase)?e:this.id}),c("input",{class:"widget-width",type:"hidden",name:"widget-width",value:"250"}),c("input",{class:"widget-height",type:"hidden",name:"widget-height",value:"200"}),c("input",{class:"widget_number",type:"hidden",name:"widget_number",value:this.idBase?this.number.toString():""}),this.content=c("div",{class:"widget-content"}),this.id&&c("button",{class:"button is-primary",type:"submit"},(0,v.__)("\u4fdd\u5b58"))])])])}bindEvents(){var e;window.jQuery?(e=window["jQuery"],e(this.form).on("change",null,this.handleFormChange),e(this.form).on("input",null,this.handleFormChange),e(this.form).on("submit",this.handleFormSubmit)):(this.form.addEventListener("change",this.handleFormChange),this.form.addEventListener("input",this.handleFormChange),this.form.addEventListener("submit",this.handleFormSubmit))}unbindEvents(){var e;window.jQuery?(e=window["jQuery"],e(this.form).off("change",null,this.handleFormChange),e(this.form).off("input",null,this.handleFormChange),e(this.form).off("submit",this.handleFormSubmit)):(this.form.removeEventListener("change",this.handleFormChange),this.form.removeEventListener("input",this.handleFormChange),this.form.removeEventListener("submit",this.handleFormSubmit))}async loadContent(){try{var e,t,n,i,r;this.id?(e=(await d(this.id))["form"],this.content.innerHTML=e):this.idBase&&({form:t,preview:n}=await u({idBase:this.idBase,instance:this.instance,number:this.number}),this.content.innerHTML=t,this.hasPreview=!m(n),this.instance.hash||(i=(await u({idBase:this.idBase,instance:this.instance,number:this.number,formData:S(this.form)}))["instance"],this.instance=i)),window.jQuery&&(r=window["jQuery"],r(document).trigger("widget-added",[r(this.element)]))}catch(e){this.onError(e)}}handleFormChange(){this.idBase&&this.saveForm()}handleFormSubmit(e){e.preventDefault(),this.saveForm()}async saveForm(){var e,t,n,i,r=S(this.form);try{this.id?(e=(await d(this.id,r))["form"],this.content.innerHTML=e,window.jQuery&&(t=window["jQuery"],t(document).trigger("widget-updated",[t(this.element)]))):this.idBase&&({instance:n,preview:i}=await u({idBase:this.idBase,instance:this.instance,number:this.number,formData:r}),this.instance=n,this.hasPreview=!m(i))}catch(e){this.onError(e)}}get instance(){return this._instance}set instance(e){this._instance!==e&&(this._instance=e,this.onChangeInstance(e))}get hasPreview(){return this._hasPreview}set hasPreview(e){this._hasPreview!==e&&(this._hasPreview=e,this.onChangeHasPreview(e))}}let s=0;function c(e,t={},n=null){var i,r,a=document.createElement(e);for([i,r]of Object.entries(t))a.setAttribute(i,r);if(Array.isArray(n))for(const o of n)o&&a.appendChild(o);else"string"==typeof n&&(a.innerText=n);return a}async function d(e,t=null){let n;return{form:(n=t?await l()({path:`/gc/v2/widgets/${e}?context=edit`,method:"PUT",data:{form_data:t}}):await l()({path:`/gc/v2/widgets/${e}?context=edit`,method:"GET"})).rendered_form}}async function u({idBase:e,instance:t,number:n,formData:i=null}){e=await l()({path:`/gc/v2/widget-types/${e}/encode`,method:"POST",data:{instance:t,number:n,form_data:i}});return{instance:e.instance,form:e.form,preview:e.preview}}function m(e){var t=document.createElement("div");return t.innerHTML=e,C(t)}function C(e){switch(e.nodeType){case e.TEXT_NODE:return""===e.nodeValue.trim();case e.ELEMENT_NODE:return["AUDIO","CANVAS","EMBED","IFRAME","IMG","MATH","OBJECT","SVG","VIDEO"].includes(e.tagName)?!1:!e.hasChildNodes()||Array.from(e.childNodes).every(C);default:return!0}}function S(e){return new window.URLSearchParams(Array.from(new window.FormData(e))).toString()}function H({title:e,isVisible:t,id:n,idBase:i,instance:r,isWide:a,onChangeInstance:o,onChangeHasPreview:s}){const l=(0,h.useRef)();var c=(0,k.useViewportMatch)("small");const d=(0,h.useRef)(new Set),u=(0,h.useRef)(new Set),m=(0,b.useDispatch)(y.store)["createNotice"];return(0,h.useEffect)(()=>{if(!u.current.has(r)){const e=new B({id:n,idBase:i,instance:r,onChangeInstance(e){d.current.add(r),u.current.add(e),o(e)},onChangeHasPreview:s,onError(e){window.console.error(e),m("error",(0,v.sprintf)((0,v.__)("\u201c%s\u201d\u533a\u5757\u53d7\u9519\u8bef\u5f71\u54cd\uff0c\u53ef\u80fd\u65e0\u6cd5\u6b63\u5e38\u8fd0\u884c\u3002\u8bf7\u68c0\u67e5\u5f00\u53d1\u8005\u5de5\u5177\u4ee5\u4e86\u89e3\u66f4\u591a\u8be6\u60c5\u3002"),i||n))}});return l.current.appendChild(e.element),()=>{d.current.has(r)?d.current.delete(r):e.destroy()}}u.current.delete(r)},[n,i,r,o,s,c]),a&&c?(0,h.createElement)("div",{className:g()({"gc-block-legacy-widget__container":t})},t&&(0,h.createElement)("h3",{className:"gc-block-legacy-widget__edit-form-title"},e),(0,h.createElement)(p.Popover,{focusOnMount:!1,placement:"right",offset:32,resize:!1,flip:!1,shift:!0},(0,h.createElement)("div",{ref:l,className:"gc-block-legacy-widget__edit-form",hidden:!t}))):(0,h.createElement)("div",{ref:l,className:"gc-block-legacy-widget__edit-form",hidden:!t},(0,h.createElement)("h3",{className:"gc-block-legacy-widget__edit-form-title"},e))}function T({idBase:n,instance:i,isVisible:e}){const[r,t]=(0,h.useState)(!1),[a,o]=(0,h.useState)("");(0,h.useEffect)(()=>{const t=void 0===window.AbortController?void 0:new window.AbortController;return async function(){var e=`/gc/v2/widget-types/${n}/render`;return l()({path:e,method:"POST",signal:t?.signal,data:i?{instance:i}:{}})}().then(e=>{o(e.preview)}).catch(e=>{if("AbortError"!==e.name)throw e}),()=>t?.abort()},[n,i]);var s=(0,k.useRefEffect)(t=>{if(r){var e=t.ownerDocument.defaultView["IntersectionObserver"];const i=new e(([e])=>{e.isIntersecting&&n()},{threshold:1});return i.observe(t),t.addEventListener("load",n),()=>{i.disconnect(),t.removeEventListener("load",n)};function n(){var e=Math.max(null!=(e=t.contentDocument.documentElement?.offsetHeight)?e:0,null!=(e=t.contentDocument.body?.offsetHeight)?e:0);t.style.height=`${0!==e?e:100}px`}}},[r]);return(0,h.createElement)(h.Fragment,null,e&&!r&&(0,h.createElement)(p.Placeholder,null,(0,h.createElement)(p.Spinner,null)),(0,h.createElement)("div",{className:g()("gc-block-legacy-widget__edit-preview",{"is-offscreen":!e||!r})},(0,h.createElement)(p.Disabled,null,(0,h.createElement)("iframe",{ref:s,className:"gc-block-legacy-widget__edit-preview-iframe",tabIndex:"-1",title:(0,v.__)("\u65e7\u7248\u5c0f\u5de5\u5177\u9884\u89c8"),srcDoc:a,onLoad:e=>{e.target.contentDocument.body.style.overflow="hidden",t(!0)},height:100}))))}function I({name:e}){return(0,h.createElement)("div",{className:"gc-block-legacy-widget__edit-no-preview"},e&&(0,h.createElement)("h3",null,e),(0,h.createElement)("p",null,(0,v.__)("\u6ca1\u6709\u53ef\u7528\u9884\u89c8\u3002")))}function M({clientId:e,rawInstance:t}){const n=(0,b.useDispatch)(w.store)["replaceBlocks"];return(0,h.createElement)(p.ToolbarButton,{onClick:()=>{t.title?n(e,[(0,o.createBlock)("core/heading",{content:t.title}),...(0,o.rawHandler)({HTML:t.text})]):n(e,(0,o.rawHandler)({HTML:t.text}))}},(0,v.__)("\u8f6c\u6362\u4e3a\u533a\u5757"))}function V({attributes:{id:e,idBase:t},setAttributes:n}){return(0,h.createElement)(p.Placeholder,{icon:(0,h.createElement)(w.BlockIcon,{icon:f}),label:(0,v.__)("\u65e7\u7248\u5c0f\u5de5\u5177")},(0,h.createElement)(p.Flex,null,(0,h.createElement)(p.FlexBlock,null,(0,h.createElement)(i,{selectedId:null!=e?e:t,onSelect:({selectedId:e,isMulti:t})=>{n(e?t?{id:null,idBase:e,instance:{}}:{id:e,idBase:null,instance:null}:{id:null,idBase:null,instance:null})}}))))}function P({attributes:{id:e,idBase:t,instance:n},setAttributes:i,clientId:r,isSelected:a,isWide:o=!1}){var[s,l]=(0,h.useState)(null),{record:c,hasResolved:d}=(0,E.useEntityRecord)("root","widgetType",null!=e?e:t),u=(0,b.useSelect)(e=>e(w.store).isNavigationMode(),[]),m=(0,h.useCallback)(e=>{i({instance:e})},[]);return!c&&d?(0,h.createElement)(p.Placeholder,{icon:(0,h.createElement)(w.BlockIcon,{icon:f}),label:(0,v.__)("\u65e7\u7248\u5c0f\u5de5\u5177")},(0,v.__)("\u5c0f\u5de5\u5177\u4e22\u5931\u3002")):d?(d=!t||!u&&a?"edit":"preview",(0,h.createElement)(h.Fragment,null,"text"===t&&(0,h.createElement)(w.BlockControls,{group:"other"},(0,h.createElement)(M,{clientId:r,rawInstance:n.raw})),(0,h.createElement)(w.InspectorControls,null,(0,h.createElement)(_,{name:c.name,description:c.description})),(0,h.createElement)(H,{title:c.name,isVisible:"edit"==d,id:e,idBase:t,instance:n,isWide:o,onChangeInstance:m,onChangeHasPreview:l}),t&&(0,h.createElement)(h.Fragment,null,null===s&&"preview"==d&&(0,h.createElement)(p.Placeholder,null,(0,h.createElement)(p.Spinner,null)),!0===s&&(0,h.createElement)(T,{idBase:t,instance:n,isVisible:"preview"==d}),!1===s&&"preview"==d&&(0,h.createElement)(I,{name:c.name})))):(0,h.createElement)(p.Placeholder,null,(0,h.createElement)(p.Spinner,null))}n=[{block:"core/calendar",widget:"calendar"},{block:"core/search",widget:"search"},{block:"core/html",widget:"custom_html",transform:({content:e})=>({content:e})},{block:"core/archives",widget:"archives",transform:({count:e,dropdown:t})=>({displayAsDropdown:!!t,showPostCounts:!!e})},{block:"core/latest-posts",widget:"recent-posts",transform:({show_date:e,number:t})=>({displayPostDate:!!e,postsToShow:t})},{block:"core/latest-comments",widget:"recent-comments",transform:({number:e})=>({commentsToShow:e})},{block:"core/tag-cloud",widget:"tag_cloud",transform:({taxonomy:e,count:t})=>({showTagCounts:!!t,taxonomy:e})},{block:"core/categories",widget:"categories",transform:({count:e,dropdown:t,hierarchical:n})=>({displayAsDropdown:!!t,showPostCounts:!!e,showHierarchy:!!n})},{block:"core/audio",widget:"media_audio",transform:({url:e,preload:t,loop:n,attachment_id:i})=>({src:e,id:i,preload:t,loop:n})},{block:"core/video",widget:"media_video",transform:({url:e,preload:t,loop:n,attachment_id:i})=>({src:e,id:i,preload:t,loop:n})},{block:"core/image",widget:"media_image",transform:({alt:e,attachment_id:t,caption:n,height:i,link_classes:r,link_rel:a,link_target_blank:o,link_type:s,link_url:l,size:c,url:d,width:u})=>({alt:e,caption:n,height:i,id:t,link:l,linkClass:r,linkDestination:s,linkTarget:o?"_blank":void 0,rel:a,sizeSlug:c,url:d,width:u})},{block:"core/gallery",widget:"media_gallery",transform:({ids:e,link_type:t,size:n,number:i})=>({ids:e,columns:i,linkTo:t,sizeSlug:n,images:e.map(e=>({id:e}))})},{block:"core/rss",widget:"rss",transform:({url:e,show_author:t,show_date:n,show_summary:i,items:r})=>({feedURL:e,displayAuthor:!!t,displayDate:!!n,displayExcerpt:!!i,itemsToShow:r})}].map(({block:n,widget:i,transform:r})=>({type:"block",blocks:[n],isMatch:({idBase:e,instance:t})=>e===i&&!!t?.raw,transform:({instance:e})=>{var t=(0,o.createBlock)(n,r?r(e.raw):void 0);return e.raw?.title?[(0,o.createBlock)("core/heading",{content:e.raw.title}),t]:t}}));const F={apiVersion:3,name:"core/legacy-widget",title:"\u65e7\u7248\u5c0f\u5de5\u5177",category:"widgets",description:"\u663e\u793a\u65e7\u7248\u7684\u5c0f\u5de5\u5177\u3002",textdomain:"default",attributes:{id:{type:"string",default:null},idBase:{type:"string",default:null},instance:{type:"object",default:null}},supports:{html:!1,customClassName:!1,reusable:!1},editorStyle:"gc-block-legacy-widget-editor"},D=F["name"],L={icon:t,edit:function(e){var{id:t,idBase:n}=e.attributes,{isWide:i=!1}=e,i=(0,w.useBlockProps)({className:g()({"is-wide-widget":i})});return(0,h.createElement)("div",{...i},t||n?(0,h.createElement)(P,{...e}):(0,h.createElement)(V,{...e}))},transforms:{to:n}};var x=(0,h.createElement)(e.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,h.createElement)(e.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"}));function A({clientId:e}){return(0,h.createElement)(h.Fragment,null,(0,h.createElement)(p.Placeholder,{className:"gc-block-widget-group__placeholder",icon:(0,h.createElement)(w.BlockIcon,{icon:x}),label:(0,v.__)("\u5c0f\u5de5\u5177\u7ec4")},(0,h.createElement)(w.ButtonBlockAppender,{rootClientId:e})),(0,h.createElement)(w.InnerBlocks,{renderAppender:!1}))}function O({attributes:e,setAttributes:t}){return(0,h.createElement)(h.Fragment,null,(0,h.createElement)(w.RichText,{tagName:"h2",className:"widget-title",allowedFormats:[],placeholder:(0,v.__)("\u6807\u9898"),value:null!=(e=e.title)?e:"",onChange:e=>t({title:e})}),(0,h.createElement)(w.InnerBlocks,null))}t=[{attributes:{title:{type:"string"}},supports:{html:!1,inserter:!0,customClassName:!0,reusable:!1},save({attributes:e}){return(0,h.createElement)(h.Fragment,null,(0,h.createElement)(w.RichText.Content,{tagName:"h2",className:"widget-title",value:e.title}),(0,h.createElement)(w.InnerBlocks.Content,null))}}];const N={apiVersion:3,name:"core/widget-group",category:"widgets",attributes:{title:{type:"string"}},supports:{html:!1,inserter:!0,customClassName:!0,reusable:!1},editorStyle:"gc-block-widget-group-editor",style:"gc-block-widget-group"},j=N["name"],W={title:(0,v.__)("\u5c0f\u5de5\u5177\u7ec4"),description:(0,v.__)("\u521b\u5efa\u4e00\u4e2a\u7ecf\u5178\u7684\u5c0f\u5de5\u5177\u5e03\u5c40\uff0c\u5176\u6807\u9898\u7531\u60a8\u7684\u4e3b\u9898\u4e3a\u5c0f\u5de5\u5177\u533a\u8bbe\u5b9a\u3002"),icon:x,__experimentalLabel:({name:e})=>e,edit:function(e){const t=e["clientId"];var n=(0,b.useSelect)(e=>e(w.store).getBlock(t),[t])["innerBlocks"];return(0,h.createElement)("div",{...(0,w.useBlockProps)({className:"widget"})},0===n.length?(0,h.createElement)(A,{...e}):(0,h.createElement)(O,{...e}))},save:function({attributes:e}){return(0,h.createElement)(h.Fragment,null,(0,h.createElement)(w.RichText.Content,{tagName:"h2",className:"widget-title",value:e.title}),(0,h.createElement)("div",{className:"gc-widget-group__inner-blocks"},(0,h.createElement)(w.InnerBlocks.Content,null)))},transforms:{from:[{type:"block",isMultiBlock:!0,blocks:["*"],isMatch(e,t){return!t.some(e=>"core/widget-group"===e.name)},__experimentalConvert(e){let t=[...e.map(e=>(0,o.createBlock)(e.name,e.attributes,e.innerBlocks))];const n="core/heading"===t[0].name?t[0]:null;return t=t.filter(e=>e!==n),(0,o.createBlock)("core/widget-group",{...n&&{title:n.attributes.content}},t)}}]},deprecated:t};var z=(0,h.createElement)(e.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,h.createElement)(e.Path,{d:"M19.75 9c0-1.257-.565-2.197-1.39-2.858-.797-.64-1.827-1.017-2.815-1.247-1.802-.42-3.703-.403-4.383-.396L11 4.5V6l.177-.001c.696-.006 2.416-.02 4.028.356.887.207 1.67.518 2.216.957.52.416.829.945.829 1.688 0 .592-.167.966-.407 1.23-.255.281-.656.508-1.236.674-1.19.34-2.82.346-4.607.346h-.077c-1.692 0-3.527 0-4.942.404-.732.209-1.424.545-1.935 1.108-.526.579-.796 1.33-.796 2.238 0 1.257.565 2.197 1.39 2.858.797.64 1.827 1.017 2.815 1.247 1.802.42 3.703.403 4.383.396L13 19.5h.714V22L18 18.5 13.714 15v3H13l-.177.001c-.696.006-2.416.02-4.028-.356-.887-.207-1.67-.518-2.216-.957-.52-.416-.829-.945-.829-1.688 0-.592.167-.966.407-1.23.255-.281.656-.508 1.237-.674 1.189-.34 2.819-.346 4.606-.346h.077c1.692 0 3.527 0 4.941-.404.732-.209 1.425-.545 1.936-1.108.526-.579.796-1.33.796-2.238z"}));function R({currentWidgetAreaId:n,widgetAreas:i,onSelect:r}){return(0,h.createElement)(p.ToolbarGroup,null,(0,h.createElement)(p.ToolbarItem,null,e=>(0,h.createElement)(p.DropdownMenu,{icon:z,label:(0,v.__)("\u79fb\u81f3\u5c0f\u5de5\u5177\u533a"),toggleProps:e},({onClose:t})=>(0,h.createElement)(p.MenuGroup,{label:(0,v.__)("\u79fb\u52a8\u81f3")},(0,h.createElement)(p.MenuItemsChoice,{choices:i.map(e=>({value:e.id,label:e.name,info:e.description})),value:n,onSelect:e=>{r(e),t()}})))))}function G(e){return e.attributes.__internalWidgetId}function Q(e,t){return{...e,attributes:{...e.attributes||{},__internalWidgetId:t}}}function Z(n){const i=(0,b.subscribe)(()=>{const t=null!=(e=n?.widgetTypesToHideFromLegacyWidgetBlock)?e:[];var e=(0,b.select)(E.store).getWidgetTypes({per_page:-1})?.filter(e=>!t.includes(e.id));e&&(i(),(0,b.dispatch)(o.store).addBlockVariations("core/legacy-widget",e.map(e=>({name:e.id,title:e.name,description:e.description,attributes:e.is_multi?{idBase:e.id,instance:{}}:{id:e.id}}))))})}function $(e={}){var{metadata:t,settings:n,name:i}=r;(0,o.registerBlockType)({name:i,...t},{...n,supports:{...n.supports,...e}})}function U(e={}){var{metadata:t,settings:n,name:i}=a;(0,o.registerBlockType)({name:i,...t},{...n,supports:{...n.supports,...e}})}}(),(window.gc=window.gc||{}).widgets=X}();