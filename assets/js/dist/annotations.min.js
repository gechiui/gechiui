/*! This file is auto-generated */
this.gc=this.gc||{},this.gc.annotations=function(n){var r={};function o(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s="iStz")}({"7Cbv":function(e,t,n){"use strict";var a,i=new Uint8Array(16);var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var o=function(e){return"string"==typeof e&&r.test(e)},u=[],l=0;l<256;++l)u.push((l+256).toString(16).substr(1));var c=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(o(e))return e;throw TypeError("Stringified UUID is invalid")};t.a=function(e,t,n){var r=(e=e||{}).random||(e.rng||function(){if(a=a||("undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))return a(i);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")})();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return c(r)}},IgLd:function(e,t){e.exports=window.gc.data},YLtl:function(e,t){e.exports=window.lodash},iStz:function(e,t,n){"use strict";n.r(t),n.d(t,"store",function(){return T});var t={},r=(n.r(t),n.d(t,"__experimentalGetAnnotationsForBlock",function(){return m}),n.d(t,"__experimentalGetAllAnnotationsForBlock",function(){return h}),n.d(t,"__experimentalGetAnnotationsForRichText",function(){return b}),n.d(t,"__experimentalGetAnnotations",function(){return _}),{}),a=(n.r(r),n.d(r,"__experimentalAddAnnotation",function(){return O}),n.d(r,"__experimentalRemoveAnnotation",function(){return y}),n.d(r,"__experimentalUpdateAnnotationRange",function(){return A}),n.d(r,"__experimentalRemoveAnnotationsBySource",function(){return N}),n("kt2g")),o=n("z4sU");const i="core/annotations",u="core/annotation",l="annotation-text-";const{name:c,...s}={name:u,title:Object(o.__)("\u6279\u6ce8"),tagName:"mark",className:"annotation-text",attributes:{className:"class",id:"id"},edit(){return null},__experimentalGetPropsForEditableTreePreparation(e,t){var{richTextIdentifier:t,blockClientId:n}=t;return{annotations:e(i).__experimentalGetAnnotationsForRichText(n,t)}},__experimentalCreatePrepareEditableTree(e){let n=e["annotations"];return(e,t)=>{return 0===n.length?e:function(o,e){let t=1<arguments.length&&void 0!==e?e:[];return t.forEach(e=>{let{start:t,end:n}=e;t>o.text.length&&(t=o.text.length),n>o.text.length&&(n=o.text.length);var r=l+e.source,e=l+e.id;o=Object(a.applyFormat)(o,{type:u,attributes:{className:r,id:e}},t,n)}),o}({formats:e,text:t},n).formats}},__experimentalGetPropsForEditableTreeChangeHandler(e){return{removeAnnotation:e(i).__experimentalRemoveAnnotation,updateAnnotationRange:e(i).__experimentalUpdateAnnotationRange}},__experimentalCreateOnChangeEditableValue(o){return e=>{var e=function(e){const r={};return e.forEach((e,n)=>{(e=(e=e||[]).filter(e=>e.type===u)).forEach(e=>{let t=e.attributes["id"];t=t.replace(l,""),r.hasOwnProperty(t)||(r[t]={start:n}),r[t].end=n+1})}),r}(e),{removeAnnotation:t,updateAnnotationRange:n,annotations:r}=o;{var i=e;let{removeAnnotation:o,updateAnnotationRange:a}=e={removeAnnotation:t,updateAnnotationRange:n};return void r.forEach(e=>{var t,n,r=i[e.id];r?({start:t,end:n}=e,t===r.start&&n===r.end||a(e.id,r.start,r.end)):o(e.id)})}}}};Object(a.registerFormatType)(c,s);var o=n("kZIl"),d=n("IgLd"),f=(Object(o.addFilter)("editor.BlockListBlock","core/annotations",e=>Object(d.withSelect)((e,t)=>{var{clientId:t,className:n}=t;const r=e(i).__experimentalGetAnnotationsForBlock(t);return{className:r.map(e=>"is-annotated-by-"+e.source).concat(n).filter(Boolean).join(" ")}})(e)),n("YLtl"));function p(e,t){t=e.filter(t);return e.length===t.length?e:t}function g(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};let r=1<arguments.length?arguments[1]:void 0;switch(r.type){case"ANNOTATION_ADD":var n=r.blockClientId,o={id:r.id,blockClientId:n,richTextIdentifier:r.richTextIdentifier,source:r.source,selector:r.selector,range:r.range};if("range"===o.selector&&(e=o.range,!(Object(f.isNumber)(e.start)&&Object(f.isNumber)(e.end)&&e.start<=e.end)))return t;var a=null!=(e=null==t?void 0:t[n])?e:[];return{...t,[n]:[...a,o]};case"ANNOTATION_REMOVE":return Object(f.mapValues)(t,e=>p(e,e=>e.id!==r.annotationId));case"ANNOTATION_UPDATE_RANGE":return Object(f.mapValues)(t,e=>{let t=!1;var n=e.map(e=>e.id===r.annotationId?(t=!0,{...e,range:{start:r.start,end:r.end}}):e);return t?n:e});case"ANNOTATION_REMOVE_SOURCE":return Object(f.mapValues)(t,e=>p(e,e=>e.source!==r.source))}return t}o=n("pPDe");const v=[],m=Object(o.a)((e,t)=>{return(null!=(e=null==e?void 0:e[t])?e:[]).filter(e=>"block"===e.selector)},(e,t)=>{return[null!=(e=null==e?void 0:e[t])?e:v]});function h(e,t){return null!=(e=null==e?void 0:e[t])?e:v}const b=Object(o.a)((e,t,n)=>{return(null!=(e=null==e?void 0:e[t])?e:[]).filter(e=>"range"===e.selector&&n===e.richTextIdentifier).map(e=>{const{range:t,...n}=e;return{...t,...n}})},(e,t)=>{return[null!=(e=null==e?void 0:e[t])?e:v]});function _(e){return Object(f.flatMap)(e,e=>e)}var x=n("7Cbv");function O(e){var{blockClientId:e,richTextIdentifier:t=null,range:n=null,selector:r="range",source:o="default",id:a=Object(x.a)()}=e;const i={type:"ANNOTATION_ADD",id:a,blockClientId:e,richTextIdentifier:t,source:o,selector:r};return"range"===r&&(i.range=n),i}function y(e){return{type:"ANNOTATION_REMOVE",annotationId:e}}function A(e,t,n){return{type:"ANNOTATION_UPDATE_RANGE",annotationId:e,start:t,end:n}}function N(e){return{type:"ANNOTATION_REMOVE_SOURCE",source:e}}const T=Object(d.createReduxStore)(i,{reducer:g,selectors:t,actions:r});Object(d.register)(T)},kZIl:function(e,t){e.exports=window.gc.hooks},kt2g:function(e,t){e.exports=window.gc.richText},pPDe:function(e,t,n){"use strict";var s,r;function o(e){return[e]}function d(){var e={clear:function(){e.head=null}};return e}function f(e,t,n){var r;if(e.length===t.length){for(r=n;r<e.length;r++)if(e[r]!==t[r])return;return 1}}s={},r="undefined"!=typeof WeakMap,t.a=function(i,u){var l,c;function e(){l=r?new WeakMap:d()}function t(){for(var e,t,n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];for(n=u.apply(null,o),(e=c(n)).isUniqueByDependants||(e.lastDependants&&!f(n,e.lastDependants,0)&&e.clear(),e.lastDependants=n),t=e.head;t;){if(f(t.args,o,1))return t!==e.head&&(t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.next=e.head,t.prev=null,e.head.prev=t,e.head=t),t.val;t=t.next}return t={val:i.apply(null,o)},o[0]=null,t.args=o,e.head&&((e.head.prev=t).next=e.head),(e.head=t).val}return u=u||o,c=r?function(e){for(var t,n,r,o=l,a=!0,i=0;i<e.length;i++){if(t=e[i],!(r=t)||"object"!=typeof r){a=!1;break}o=o.has(t)?o.get(t):(r=new WeakMap,o.set(t,r),r)}return o.has(s)||((n=d()).isUniqueByDependants=a,o.set(s,n)),o.get(s)}:function(){return l},t.getDependants=u,(t.clear=e)(),t}},z4sU:function(e,t){e.exports=window.gc.i18n}});