/*! This file is auto-generated */
!function(){var r={4403:function(e,t){var r;!function(){"use strict";var o={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var n,a=typeof r;if("string"==a||"number"==a)e.push(r);else if(Array.isArray(r))r.length&&(n=s.apply(null,r))&&e.push(n);else if("object"==a)if(r.toString===Object.prototype.toString||r.toString.toString().includes("[native code]"))for(var i in r)o.call(r,i)&&r[i]&&e.push(i);else e.push(r.toString())}}return e.join(" ")}e.exports?e.exports=s.default=s:void 0!==(r=function(){return s}.apply(t,[]))&&(e.exports=r)}()}},n={};function ar(e){var t=n[e];return void 0!==t||(t=n[e]={exports:{}},r[e](t,t.exports,ar)),t.exports}ar.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return ar.d(t,{a:t}),t},ar.d=function(e,t){for(var r in t)ar.o(t,r)&&!ar.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},ar.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},ar.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var ir={};!function(){"use strict";ar.r(ir),ar.d(ir,{initialize:function(){return tr},initializeEditor:function(){return er},reinitializeEditor:function(){return rr}});var e={},t=(ar.r(e),ar.d(e,{closeModal:function(){return J},disableComplementaryArea:function(){return j},enableComplementaryArea:function(){return P},openModal:function(){return $},pinItem:function(){return K},setDefaultComplementaryArea:function(){return x},setFeatureDefaults:function(){return Q},setFeatureValue:function(){return Y},toggleFeature:function(){return q},unpinItem:function(){return Z}}),{}),r=(ar.r(t),ar.d(t,{getActiveComplementaryArea:function(){return X},isComplementaryAreaLoading:function(){return ee},isFeatureActive:function(){return re},isItemPinned:function(){return te},isModalActive:function(){return ne}}),{}),n=(ar.r(r),ar.d(r,{closeGeneralSidebar:function(){return Re},moveBlockToWidgetArea:function(){return Oe},persistStubPost:function(){return m},saveEditedWidgetAreas:function(){return ye},saveWidgetArea:function(){return Se},saveWidgetAreas:function(){return ke},setIsInserterOpened:function(){return Ne},setIsListViewOpened:function(){return Le},setIsWidgetAreaOpen:function(){return Ce},setWidgetAreasOpenState:function(){return Be},setWidgetIdForClientId:function(){return Ae}}),{}),a=(ar.r(n),ar.d(n,{getWidgetAreas:function(){return xe},getWidgets:function(){return Pe}}),{}),i=(ar.r(a),ar.d(a,{__experimentalGetInsertionPoint:function(){return je},canInsertBlockInWidgetArea:function(){return Ke},getEditedWidgetAreas:function(){return Fe},getIsWidgetAreaOpen:function(){return He},getParentWidgetAreaBlock:function(){return Ve},getReferenceWidgetBlocks:function(){return Ge},getWidget:function(){return We},getWidgetAreaForWidgetId:function(){return De},getWidgetAreas:function(){return Me},getWidgets:function(){return Te},isInserterOpened:function(){return Ue},isListViewOpened:function(){return Ze},isSavingWidgetAreas:function(){return ze}}),{}),T=(ar.r(i),ar.d(i,{metadata:function(){return Je},name:function(){return Xe},settings:function(){return et}}),window.gc.element),I=window.gc.blocks,W=window.gc.data,o=window.gc.deprecated,s=ar.n(o),k=window.gc.blockLibrary,A=window.gc.coreData,B=window.gc.widgets,p=window.gc.preferences,o=window.gc.apiFetch,o=ar.n(o);var S=(0,W.combineReducers)({blockInserterPanel:function(e=!1,t){switch(t.type){case"SET_IS_LIST_VIEW_OPENED":return!t.isOpen&&e;case"SET_IS_INSERTER_OPENED":return t.value}return e},listViewPanel:function(e=!1,t){switch(t.type){case"SET_IS_INSERTER_OPENED":return!t.value&&e;case"SET_IS_LIST_VIEW_OPENED":return t.isOpen}return e},widgetAreasOpenState:function(e={},t){var r=t["type"];switch(r){case"SET_WIDGET_AREAS_OPEN_STATE":return t.widgetAreasOpenState;case"SET_IS_WIDGET_AREA_OPEN":var{clientId:n,isOpen:a}=t;return{...e,[n]:a};default:return e}}}),M=window.gc.i18n,c=window.gc.notices,l=ar(4403),D=ar.n(l),V=window.gc.components,l=window.gc.primitives,G=(0,T.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,T.createElement)(l.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),z=(0,T.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,T.createElement)(l.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"})),H=(0,T.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,T.createElement)(l.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"})),U=window.gc.viewport,O=(0,T.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,T.createElement)(l.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));const x=(e,t)=>({type:"SET_DEFAULT_COMPLEMENTARY_AREA",scope:e,area:t}),P=(r,n)=>({registry:e,dispatch:t})=>{n&&(e.select(p.store).get(r,"isComplementaryAreaVisible")||e.dispatch(p.store).set(r,"isComplementaryAreaVisible",!0),t({type:"ENABLE_COMPLEMENTARY_AREA",scope:r,area:n}))},j=t=>({registry:e})=>{e.select(p.store).get(t,"isComplementaryAreaVisible")&&e.dispatch(p.store).set(t,"isComplementaryAreaVisible",!1)},K=(r,n)=>({registry:e})=>{var t;n&&!0!==(t=e.select(p.store).get(r,"pinnedItems"))?.[n]&&e.dispatch(p.store).set(r,"pinnedItems",{...t,[n]:!0})},Z=(r,n)=>({registry:e})=>{var t;n&&(t=e.select(p.store).get(r,"pinnedItems"),e.dispatch(p.store).set(r,"pinnedItems",{...t,[n]:!1}))};function q(t,r){return function({registry:e}){s()("dispatch( 'core/interface' ).toggleFeature",{since:"6.0",alternative:"dispatch( 'core/preferences' ).toggle"}),e.dispatch(p.store).toggle(t,r)}}function Y(t,r,n){return function({registry:e}){s()("dispatch( 'core/interface' ).setFeatureValue",{since:"6.0",alternative:"dispatch( 'core/preferences' ).set"}),e.dispatch(p.store).set(t,r,!!n)}}function Q(t,r){return function({registry:e}){s()("dispatch( 'core/interface' ).setFeatureDefaults",{since:"6.0",alternative:"dispatch( 'core/preferences' ).setDefaults"}),e.dispatch(p.store).setDefaults(t,r)}}function $(e){return{type:"OPEN_MODAL",name:e}}function J(){return{type:"CLOSE_MODAL"}}const X=(0,W.createRegistrySelector)(n=>(e,t)=>{var r=n(p.store).get(t,"isComplementaryAreaVisible");if(void 0!==r)return!1===r?null:e?.complementaryAreas?.[t]}),ee=(0,W.createRegistrySelector)(n=>(e,t)=>{var r=n(p.store).get(t,"isComplementaryAreaVisible"),e=e?.complementaryAreas?.[t];return r&&void 0===e}),te=(0,W.createRegistrySelector)(n=>(e,t,r)=>{return null==(t=n(p.store).get(t,"pinnedItems")?.[r])||t}),re=(0,W.createRegistrySelector)(n=>(e,t,r)=>(s()("select( 'core/interface' ).isFeatureActive( scope, featureName )",{since:"6.0",alternative:"select( 'core/preferences' ).get( scope, featureName )"}),!!n(p.store).get(t,r)));function ne(e,t){return e.activeModal===t}var d=(0,W.combineReducers)({complementaryAreas:function(e={},t){switch(t.type){case"SET_DEFAULT_COMPLEMENTARY_AREA":var{scope:r,area:n}=t;return e[r]?e:{...e,[r]:n};case"ENABLE_COMPLEMENTARY_AREA":var{scope:r,area:n}=t;return{...e,[r]:n}}return e},activeModal:function(e=null,t){switch(t.type){case"OPEN_MODAL":return t.name;case"CLOSE_MODAL":return null}return e}});const F=(0,W.createReduxStore)("core/interface",{reducer:d,actions:e,selectors:t});(0,W.register)(F);var ae=window.gc.plugins,d=(0,ae.withPluginContext)((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||e.name+"/"+t.name}));var ie=d(function({as:e=V.Button,scope:t,identifier:r,icon:n,selectedIcon:a,name:i,...o}){const s=(0,W.useSelect)(e=>e(F).getActiveComplementaryArea(t)===r,[r]),{enableComplementaryArea:c,disableComplementaryArea:l}=(0,W.useDispatch)(F);return(0,T.createElement)(e,{icon:a&&s?a:n,onClick:()=>{s?l(t):c(t,r)},...o})}),oe=({smallScreenTitle:e,children:t,className:r,toggleButtonProps:n})=>{n=(0,T.createElement)(ie,{icon:O,...n});return(0,T.createElement)(T.Fragment,null,(0,T.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},e&&(0,T.createElement)("span",{className:"interface-complementary-area-header__small-title"},e),n),(0,T.createElement)("div",{className:D()("components-panel__header","interface-complementary-area-header",r),tabIndex:-1},t,n))};const se=()=>{};function ce({name:e,as:r=V.Button,onClick:n,...a}){return(0,T.createElement)(V.Fill,{name:e},({onClick:t})=>(0,T.createElement)(r,{onClick:n||t?(...e)=>{(n||se)(...e),(t||se)(...e)}:void 0,...a}))}ce.Slot=function({name:e,as:t=V.ButtonGroup,fillProps:r={},bubblesVirtually:n,...a}){return(0,T.createElement)(V.Slot,{name:e,bubblesVirtually:n,fillProps:r},e=>{if(!T.Children.toArray(e).length)return null;const r=[];T.Children.forEach(e,({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&r.push(t)});e=T.Children.map(e,e=>!e.props.__unstableExplicitMenuItem&&r.includes(e.props.__unstableTarget)?null:e);return(0,T.createElement)(t,{...a},e)})};var le=ce;const de=({__unstableExplicitMenuItem:e,__unstableTarget:t,...r})=>(0,T.createElement)(V.MenuItem,{...r});function ue({scope:t,target:r,__unstableExplicitMenuItem:n,...e}){return(0,T.createElement)(ie,{as:e=>(0,T.createElement)(le,{__unstableExplicitMenuItem:n,__unstableTarget:t+"/"+r,as:de,name:t+"/plugin-more-menu",...e}),role:"menuitemcheckbox",selectedIcon:G,name:r,scope:t,...e})}function me({scope:e,...t}){return(0,T.createElement)(V.Fill,{name:"PinnedItems/"+e,...t})}me.Slot=function({scope:e,className:t,...r}){return(0,T.createElement)(V.Slot,{name:"PinnedItems/"+e,...r},e=>0<e?.length&&(0,T.createElement)("div",{className:D()(t,"interface-pinned-items")},e))};var ge=me;function pe({scope:e,children:t,className:r}){return(0,T.createElement)(V.Fill,{name:"ComplementaryArea/"+e},(0,T.createElement)("div",{className:r},t))}var e=d(function({children:e,className:t,closeLabel:r=(0,M.__)("\u5173\u95ed\u63d2\u4ef6"),identifier:a,header:n,headerClassName:i,icon:o,isPinnable:s=!0,panelClassName:c,scope:l,name:d,smallScreenTitle:u,title:m,toggleShortcut:g,isActiveByDefault:p,showIconLabels:_=!1}){const{isLoading:h,isActive:f,isPinned:E,activeArea:v,isSmall:b,isLarge:w}=(0,W.useSelect)(e=>{var{getActiveComplementaryArea:t,isComplementaryAreaLoading:r,isItemPinned:n}=e(F),t=t(l);return{isLoading:r(l),isActive:t===a,isPinned:n(l,a),activeArea:t,isSmall:e(U.store).isViewportMatch("< medium"),isLarge:e(U.store).isViewportMatch("large")}},[a,l]);{var y=l,k=a,S=v,I=f,A=b;const R=(0,T.useRef)(!1),O=(0,T.useRef)(!1),{enableComplementaryArea:x,disableComplementaryArea:P}=(0,W.useDispatch)(F);(0,T.useEffect)(()=>{I&&A&&!R.current?(P(y),O.current=!0):O.current&&!A&&R.current?(O.current=!1,x(y,k)):O.current&&S&&S!==k&&(O.current=!1),A!==R.current&&(R.current=A)},[I,A,y,k,S])}const{enableComplementaryArea:B,disableComplementaryArea:C,pinItem:N,unpinItem:L}=(0,W.useDispatch)(F);return(0,T.useEffect)(()=>{p&&void 0===v&&!b?B(l,a):void 0===v&&b&&C(l,a)},[v,p,l,a,b]),(0,T.createElement)(T.Fragment,null,s&&(0,T.createElement)(ge,{scope:l},E&&(0,T.createElement)(ie,{scope:l,identifier:a,isPressed:f&&(!_||w),"aria-expanded":f,"aria-disabled":h,label:m,icon:_?G:o,showTooltip:!_,variant:_?"tertiary":void 0})),d&&s&&(0,T.createElement)(ue,{target:d,scope:l,icon:o},m),f&&(0,T.createElement)(pe,{className:D()("interface-complementary-area",t),scope:l},(0,T.createElement)(oe,{className:i,closeLabel:r,onClose:()=>C(l),smallScreenTitle:u,toggleButtonProps:{label:r,shortcut:g,scope:l,identifier:a}},n||(0,T.createElement)(T.Fragment,null,(0,T.createElement)("strong",null,m),s&&(0,T.createElement)(V.Button,{className:"interface-complementary-area__pin-unpin-item",icon:E?z:H,label:E?(0,M.__)("\u4ece\u5de5\u5177\u680f\u79fb\u9664"):(0,M.__)("\u56fa\u5b9a\u81f3\u5de5\u5177\u680f"),onClick:()=>(E?L:N)(l,a),isPressed:E,"aria-expanded":E}))),(0,T.createElement)(V.Panel,{className:c},e)))}),_e=(e.Slot=function({scope:e,...t}){return(0,T.createElement)(V.Slot,{name:"ComplementaryArea/"+e,...t})},e),h=window.gc.compose;function f({children:e,className:t,ariaLabel:r,as:n="div",...a}){return(0,T.createElement)(n,{className:D()("interface-navigable-region",t),"aria-label":r,role:"region",tabIndex:"-1",...a},e)}const he={hidden:{opacity:0},hover:{opacity:1,transition:{type:"tween",delay:.2,delayChildren:.2}},distractionFreeInactive:{opacity:1,transition:{delay:0}}};var fe=(0,T.forwardRef)(function({isDistractionFree:e,footer:t,header:r,editorNotices:n,sidebar:a,secondarySidebar:i,notices:o,content:s,actions:c,labels:l,className:d,enableRegionNavigation:u=!0,shortcuts:m},g){var p,m=(0,V.__unstableUseNavigateRegions)(m);p="interface-interface-skeleton__html-container",(0,T.useEffect)(()=>{const e=document&&document.querySelector(`html:not(.${p})`);if(e)return e.classList.toggle(p),()=>{e.classList.toggle(p)}},[p]);var _={..._={header:(0,M.__)("\u9875\u7709"),body:(0,M.__)("\u5185\u5bb9"),secondarySidebar:(0,M.__)("\u533a\u5757\u5e93"),sidebar:(0,M.__)("\u8bbe\u7f6e"),actions:(0,M.__)("\u53d1\u5e03"),footer:(0,M.__)("\u9875\u811a")},...l};return(0,T.createElement)("div",{...u?m:{},ref:(0,h.useMergeRefs)([g,u?m.ref:void 0]),className:D()(d,"interface-interface-skeleton",m.className,!!t&&"has-footer")},(0,T.createElement)("div",{className:"interface-interface-skeleton__editor"},!!r&&(0,T.createElement)(f,{as:V.__unstableMotion.div,className:"interface-interface-skeleton__header","aria-label":_.header,initial:e?"hidden":"distractionFreeInactive",whileHover:e?"hover":"distractionFreeInactive",animate:e?"hidden":"distractionFreeInactive",variants:he,transition:e?{type:"tween",delay:.8}:void 0},r),e&&(0,T.createElement)("div",{className:"interface-interface-skeleton__header"},n),(0,T.createElement)("div",{className:"interface-interface-skeleton__body"},!!i&&(0,T.createElement)(f,{className:"interface-interface-skeleton__secondary-sidebar",ariaLabel:_.secondarySidebar},i),!!o&&(0,T.createElement)("div",{className:"interface-interface-skeleton__notices"},o),(0,T.createElement)(f,{className:"interface-interface-skeleton__content",ariaLabel:_.body},s),!!a&&(0,T.createElement)(f,{className:"interface-interface-skeleton__sidebar",ariaLabel:_.sidebar},a),!!c&&(0,T.createElement)(f,{className:"interface-interface-skeleton__actions",ariaLabel:_.actions},c))),!!t&&(0,T.createElement)(f,{className:"interface-interface-skeleton__footer",ariaLabel:_.footer},t))}),Ee=(0,T.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,T.createElement)(l.Path,{d:"M13 19h-2v-2h2v2zm0-6h-2v-2h2v2zm0-6h-2V5h2v2z"}));function ve({as:e=V.DropdownMenu,className:t,label:r=(0,M.__)("\u9009\u9879"),popoverProps:n,toggleProps:a,children:i}){return(0,T.createElement)(e,{className:D()("interface-more-menu-dropdown",t),icon:Ee,label:r,popoverProps:{placement:"bottom-end",...n,className:D()("interface-more-menu-dropdown__content",n?.className)},toggleProps:{tooltipPosition:"bottom",...a}},e=>i(e))}var _=window.gc.blockEditor;const C="root",N="sidebar",L="postType",R=e=>"widget-area-"+e,g=()=>"widget-areas";function be(){return{per_page:-1}}function we(){return{per_page:-1,_embed:"about"}}const u="core/edit-widgets",m=(r,n)=>({registry:e})=>{var t={id:r,slug:r,status:"draft",type:"page",blocks:n,meta:{widgetAreaId:r}};return e.dispatch(A.store).receiveEntityRecords(C,L,t,{id:t.id},!1),t},ye=()=>async({select:e,dispatch:t,registry:r})=>{e=e.getEditedWidgetAreas();if(e?.length)try{await t.saveWidgetAreas(e),r.dispatch(c.store).createSuccessNotice((0,M.__)("\u5c0f\u5de5\u5177\u5df2\u4fdd\u5b58\u3002"),{type:"snackbar"})}catch(e){r.dispatch(c.store).createErrorNotice((0,M.sprintf)((0,M.__)("\u51fa\u73b0\u9519\u8bef\u3002 %s"),e.message),{type:"snackbar"})}},ke=n=>async({dispatch:e,registry:t})=>{try{for(const r of n)await e.saveWidgetArea(r.id)}finally{await t.dispatch(A.store).finishResolution("getEntityRecord",C,N,be())}},Se=S=>async({dispatch:e,select:t,registry:r})=>{var n=t.getWidgets(),a=r.select(A.store).getEditedEntityRecord(C,L,R(S)),i=Object.values(n).filter(({sidebar:e})=>e===S);const o=[];var s=a.blocks.filter(e=>{var t=e.attributes["id"];if("core/legacy-widget"===e.name&&t){if(o.includes(t))return!1;o.push(t)}return!0}),c=[];for(const b of i)t.getWidgetAreaForWidgetId(b.id)||c.push(b);var l=[],d=[],u=[];for(let e=0;e<s.length;e++){var m=s[e];const w=(0,B.getWidgetIdFromBlock)(m);var g=n[w];const y=function(e,t={}){let r;var n="core/legacy-widget"===e.name&&(e.attributes.id||e.attributes.instance);return delete(r=n?{...t,id:null!=(n=e.attributes.id)?n:t.id,id_base:null!=(n=e.attributes.idBase)?n:t.id_base,instance:null!=(n=e.attributes.instance)?n:t.instance}:{...t,id_base:"block",instance:{raw:{content:(0,I.serialize)(e)}}}).rendered,delete r.rendered_form,r}(m,g);if(u.push(w),g){if(r.dispatch(A.store).editEntityRecord("root","widget",w,{...y,sidebar:S},{undoIgnore:!0}),!r.select(A.store).hasEditsForEntityRecord("root","widget",w))continue;d.push(({saveEditedEntityRecord:e})=>e("root","widget",w))}else d.push(({saveEntityRecord:e})=>e("root","widget",{...y,sidebar:S}));l.push({block:m,position:e,clientId:m.clientId})}for(const k of c)d.push(({deleteEntityRecord:e})=>e("root","widget",k.id,{force:!0}));var p=(await r.dispatch(A.store).__experimentalBatch(d)).filter(e=>!e.hasOwnProperty("deleted")),_=[];for(let e=0;e<p.length;e++){var h=p[e],{block:f,position:E}=l[e],v=(a.blocks[E].attributes.__internalWidgetId=h.id,r.select(A.store).getLastEntitySaveError("root","widget",h.id));v&&_.push(f.attributes?.name||f?.name),u[E]||(u[E]=h.id)}if(_.length)throw new Error((0,M.sprintf)((0,M.__)("\u65e0\u6cd5\u4fdd\u5b58\u4ee5\u4e0b\u5c0f\u5de5\u5177\uff1a%s\u3002"),_.join(", ")));r.dispatch(A.store).editEntityRecord(C,N,S,{widgets:u},{undoIgnore:!0}),e(Ie(S)),r.dispatch(A.store).receiveEntityRecords(C,L,a,void 0)},Ie=t=>({registry:e})=>{e.dispatch(A.store).saveEditedEntityRecord(C,N,t,{throwOnError:!0})};function Ae(e,t){return{type:"SET_WIDGET_ID_FOR_CLIENT_ID",clientId:e,widgetId:t}}function Be(e){return{type:"SET_WIDGET_AREAS_OPEN_STATE",widgetAreasOpenState:e}}function Ce(e,t){return{type:"SET_IS_WIDGET_AREA_OPEN",clientId:e,isOpen:t}}function Ne(e){return{type:"SET_IS_INSERTER_OPENED",value:e}}function Le(e){return{type:"SET_IS_LIST_VIEW_OPENED",isOpen:e}}const Re=()=>({registry:e})=>{e.dispatch(F).disableComplementaryArea(u)},Oe=(o,s)=>async({dispatch:e,select:t,registry:r})=>{var n=r.select(_.store).getBlockRootClientId(o),a=r.select(_.store).getBlocks().find(({attributes:e})=>e.id===s).clientId,i=r.select(_.store).getBlockOrder(a).length;t.getIsWidgetAreaOpen(a)||e.setIsWidgetAreaOpen(a,!0),r.dispatch(_.store).moveBlocksToPosition([o],n,a,i)},xe=()=>async({dispatch:e,registry:t})=>{var r=be(),n=[];for(const i of(await t.resolveSelect(A.store).getEntityRecords(C,N,r)).sort((e,t)=>"gc_inactive_widgets"===e.id?1:"gc_inactive_widgets"===t.id?-1:0))n.push((0,I.createBlock)("core/widget-area",{id:i.id,name:i.name})),i.widgets.length||e(m(R(i.id),[]));const a={};n.forEach((e,t)=>{a[e.clientId]=0===t}),e(Be(a)),e(m(g(),n))},Pe=()=>async({dispatch:e,registry:t})=>{var r=we(),n={};for(const i of await t.resolveSelect(A.store).getEntityRecords("root","widget",r)){var a=function(e){var t;if("block"===e.id_base)return(t=(0,I.parse)(e.instance.raw.content,{__unstableSkipAutop:!0})).length?(0,B.addWidgetIdToBlock)(t[0],e.id):(0,B.addWidgetIdToBlock)((0,I.createBlock)("core/paragraph",{},[]),e.id);let r;return r=e._embedded.about[0].is_multi?{idBase:e.id_base,instance:e.instance}:{id:e.id},(0,B.addWidgetIdToBlock)((0,I.createBlock)("core/legacy-widget",r,[]),e.id)}(i);n[i.sidebar]=n[i.sidebar]||[],n[i.sidebar].push(a)}for(const o in n)n.hasOwnProperty(o)&&e(m(R(o),n[o]))},Te=(0,W.createRegistrySelector)(e=>()=>{return e(A.store).getEntityRecords("root","widget",we())?.reduce((e,t)=>({...e,[t.id]:t}),{})||{}}),We=(0,W.createRegistrySelector)(r=>(e,t)=>{return r(u).getWidgets()[t]}),Me=(0,W.createRegistrySelector)(t=>()=>{var e=be();return t(A.store).getEntityRecords(C,N,e)}),De=(0,W.createRegistrySelector)(r=>(e,t)=>{return r(u).getWidgetAreas().find(e=>{return r(A.store).getEditedEntityRecord(C,L,R(e.id)).blocks.map(e=>(0,B.getWidgetIdFromBlock)(e)).includes(t)})}),Ve=(0,W.createRegistrySelector)(i=>(e,t)=>{const{getBlock:r,getBlockName:n,getBlockParents:a}=i(_.store);t=a(t).find(e=>"core/widget-area"===n(e));return r(t)}),Fe=(0,W.createRegistrySelector)(n=>(e,t)=>{let r=n(u).getWidgetAreas();return r?(r=t?r.filter(({id:e})=>t.includes(e)):r).filter(({id:e})=>n(A.store).hasEditsForEntityRecord(C,L,R(e))).map(({id:e})=>n(A.store).getEditedEntityRecord(C,N,e)):[]}),Ge=(0,W.createRegistrySelector)(i=>(e,t=null)=>{var r=[];for(const n of i(u).getWidgetAreas())for(const a of i(A.store).getEditedEntityRecord(C,L,R(n.id)).blocks)"core/legacy-widget"!==a.name||t&&a.attributes?.referenceWidgetName!==t||r.push(a);return r}),ze=(0,W.createRegistrySelector)(n=>()=>{var e=n(u).getWidgetAreas()?.map(({id:e})=>e);if(e){for(const t of e)if(n(A.store).isSavingEntityRecord(C,N,t))return!0;for(const r of[...Object.keys(n(u).getWidgets()),void 0])if(n(A.store).isSavingEntityRecord("root","widget",r))return!0}return!1}),He=(e,t)=>{e=e.widgetAreasOpenState;return!!e[t]};function Ue(e){return!!e.blockInserterPanel}function je(e){var{rootClientId:e,insertionIndex:t}=e.blockInserterPanel;return{rootClientId:e,insertionIndex:t}}const Ke=(0,W.createRegistrySelector)(n=>(e,t)=>{var[r]=n(_.store).getBlocks();return n(_.store).canInsertBlockType(t,r.clientId)});function Ze(e){return e.listViewPanel}const E=(0,W.createReduxStore)(u,{reducer:S,selectors:a,resolvers:n,actions:r});(0,W.register)(E),o().use(function(e,t){return 0===e.path?.indexOf("/gc/v2/types/widget-area")?Promise.resolve({}):t(e)});var qe=window.gc.hooks,t=(0,h.createHigherOrderComponent)(c=>t=>{const{clientId:r,name:n}=t;var{widgetAreas:e,currentWidgetAreaId:a,canInsertBlockInWidgetArea:i}=(0,W.useSelect)(e=>{var t;return"core/widget-area"===n?{}:(t=(e=e(E)).getParentWidgetAreaBlock(r),{widgetAreas:e.getWidgetAreas(),currentWidgetAreaId:t?.attributes?.id,canInsertBlockInWidgetArea:e.canInsertBlockInWidgetArea(n)})},[r,n]);const o=(0,W.useDispatch)(E)["moveBlockToWidgetArea"];var s=1<e?.length,s="core/widget-area"!==n&&s&&i;return(0,T.createElement)(T.Fragment,null,(0,T.createElement)(c,{...t}),s&&(0,T.createElement)(_.BlockControls,null,(0,T.createElement)(B.MoveToWidgetArea,{widgetAreas:e,currentWidgetAreaId:a,onSelect:e=>{o(t.clientId,e)}})))},"withMoveToWidgetAreaToolbarItem"),Ye=((0,qe.addFilter)("editor.BlockEdit","core/edit-widgets/block-edit",t),window.gc.mediaUtils),Qe=((0,qe.addFilter)("editor.MediaUpload","core/edit-widgets/replace-media-upload",()=>Ye.MediaUpload),a=>{const[e,i]=(0,T.useState)(!1);return(0,T.useEffect)(()=>{const e=a.current["ownerDocument"];function t(e){n(e)}function r(){i(!1)}function n(e){a.current.contains(e.target)?i(!0):i(!1)}return e.addEventListener("dragstart",t),e.addEventListener("dragend",r),e.addEventListener("dragenter",n),()=>{e.removeEventListener("dragstart",t),e.removeEventListener("dragend",r),e.removeEventListener("dragenter",n)}},[]),e});function $e({id:e}){var[t,r,n]=(0,A.useEntityBlockEditor)("root","postType"),a=(0,T.useRef)(),i=Qe(a),a=(0,_.useInnerBlocksProps)({ref:a},{value:t,onInput:r,onChange:n,templateLock:!1,renderAppender:_.InnerBlocks.ButtonBlockAppender});return(0,T.createElement)("div",{"data-widget-area-id":e,className:D()("gc-block-widget-area__inner-blocks block-editor-inner-blocks editor-styles-wrapper",{"gc-block-widget-area__highlight-drop-zone":i})},(0,T.createElement)("div",{...a}))}const Je={name:"core/widget-area",category:"widgets",attributes:{id:{type:"string"},name:{type:"string"}},supports:{html:!1,inserter:!1,customClassName:!1,reusable:!1,__experimentalToolbar:!1,__experimentalParentSelector:!1,__experimentalDisableBlockOverlay:!0},editorStyle:"gc-block-widget-area-editor",style:"gc-block-widget-area"},Xe=Je["name"],et={title:(0,M.__)("\u5c0f\u5de5\u5177\u533a\u57df"),description:(0,M.__)("\u5c0f\u5de5\u5177\u533a\u57df\u5bb9\u5668\u3002"),__experimentalLabel:({name:e})=>e,edit:function({clientId:t,className:e,attributes:{id:r,name:n}}){const a=(0,W.useSelect)(e=>e(E).getIsWidgetAreaOpen(t),[t]),i=(0,W.useDispatch)(E)["setIsWidgetAreaOpen"];var o=(0,T.useRef)();const s=(0,T.useCallback)(e=>i(t,e),[t]),c=(n=>{const[e,a]=(0,T.useState)(false);return(0,T.useEffect)(()=>{const{ownerDocument:e}=n.current;function t(){a(true)}function r(){a(false)}e.addEventListener("dragstart",t);e.addEventListener("dragend",r);return()=>{e.removeEventListener("dragstart",t);e.removeEventListener("dragend",r)}},[]),e})(o),l=Qe(o),[d,u]=(0,T.useState)(!1);return(0,T.useEffect)(()=>{c?l&&!a?(s(!0),u(!0)):!l&&a&&d&&s(!1):u(!1)},[a,c,l,d]),(0,T.createElement)(V.Panel,{className:e,ref:o},(0,T.createElement)(V.PanelBody,{title:n,opened:a,onToggle:()=>{i(t,!a)},scrollAfterOpen:!c},({opened:e})=>(0,T.createElement)(V.__unstableDisclosureContent,{className:"gc-block-widget-area__panel-body-content",visible:e},(0,T.createElement)(A.EntityProvider,{kind:"root",type:"postType",id:"widget-area-"+r},(0,T.createElement)($e,{id:r})))))}};function tt({text:e,children:t}){e=(0,h.useCopyToClipboard)(e);return(0,T.createElement)(V.Button,{variant:"secondary",ref:e},t)}function rt({message:e,error:t}){t=[(0,T.createElement)(tt,{key:"copy-error",text:t.stack},(0,M.__)("\u590d\u5236\u9519\u8bef"))];return(0,T.createElement)(_.Warning,{className:"edit-widgets-error-boundary",actions:t},e)}class nt extends T.Component{constructor(){super(...arguments),this.state={error:null}}componentDidCatch(e){(0,qe.doAction)("editor.ErrorBoundary.errorLogged",e)}static getDerivedStateFromError(e){return{error:e}}render(){return this.state.error?(0,T.createElement)(rt,{message:(0,M.__)("\u7f16\u8f91\u5668\u9047\u5230\u4e86\u672a\u77e5\u9519\u8bef\u3002"),error:this.state.error}):this.props.children}}var at=window.gc.reusableBlocks,v=window.gc.keyboardShortcuts,b=window.gc.keycodes;function it(){const{redo:t,undo:r}=(0,W.useDispatch)(A.store),n=(0,W.useDispatch)(E)["saveEditedWidgetAreas"],o=(0,W.useDispatch)(_.store)["replaceBlocks"],{getBlockName:s,getSelectedBlockClientId:c,getBlockAttributes:l}=(0,W.useSelect)(_.store),a=(e,t)=>{e.preventDefault();var r,n,a,e=0===t?"core/paragraph":"core/heading",i=c();null===i||"core/paragraph"!==(n=s(i))&&"core/heading"!==n||(r=l(i),n="core/paragraph"===n?"align":"textAlign",a="core/paragraph"==e?"align":"textAlign",o(i,(0,I.createBlock)(e,{level:t,content:r.content,[a]:r[n]})))};return(0,v.useShortcut)("core/edit-widgets/undo",e=>{r(),e.preventDefault()}),(0,v.useShortcut)("core/edit-widgets/redo",e=>{t(),e.preventDefault()}),(0,v.useShortcut)("core/edit-widgets/save",e=>{e.preventDefault(),n()}),(0,v.useShortcut)("core/edit-widgets/transform-heading-to-paragraph",e=>a(e,0)),[1,2,3,4,5,6].forEach(t=>{(0,v.useShortcut)("core/edit-widgets/transform-paragraph-to-heading-"+t,e=>a(e,t))}),null}it.Register=function(){const t=(0,W.useDispatch)(v.store)["registerShortcut"];return(0,T.useEffect)(()=>{t({name:"core/edit-widgets/undo",category:"global",description:(0,M.__)("\u64a4\u9500\u60a8\u7684\u4e0a\u4e00\u4e2a\u66f4\u6539\u3002"),keyCombination:{modifier:"primary",character:"z"}}),t({name:"core/edit-widgets/redo",category:"global",description:(0,M.__)("\u91cd\u505a\u60a8\u64a4\u9500\u7684\u64cd\u4f5c\u3002"),keyCombination:{modifier:"primaryShift",character:"z"},aliases:(0,b.isAppleOS)()?[]:[{modifier:"primary",character:"y"}]}),t({name:"core/edit-widgets/save",category:"global",description:(0,M.__)("\u4fdd\u5b58\u60a8\u7684\u66f4\u6539\u3002"),keyCombination:{modifier:"primary",character:"s"}}),t({name:"core/edit-widgets/keyboard-shortcuts",category:"main",description:(0,M.__)("\u663e\u793a\u8fd9\u4e9b\u952e\u76d8\u5feb\u6377\u952e\u3002"),keyCombination:{modifier:"access",character:"h"}}),t({name:"core/edit-widgets/next-region",category:"global",description:(0,M.__)("\u5bfc\u822a\u81f3\u7f16\u8f91\u5668\u7684\u4e0b\u4e00\u4e2a\u529f\u80fd\u533a\u57df\u3002"),keyCombination:{modifier:"ctrl",character:"`"},aliases:[{modifier:"access",character:"n"}]}),t({name:"core/edit-widgets/previous-region",category:"global",description:(0,M.__)("\u5bfc\u822a\u81f3\u7f16\u8f91\u5668\u7684\u4e0a\u4e00\u4e2a\u529f\u80fd\u533a\u57df\u3002"),keyCombination:{modifier:"ctrlShift",character:"`"},aliases:[{modifier:"access",character:"p"},{modifier:"ctrlShift",character:"~"}]}),t({name:"core/edit-widgets/transform-heading-to-paragraph",category:"block-library",description:(0,M.__)("\u5c06\u6807\u9898\u8f6c\u6362\u4e3a\u6bb5\u843d\u3002"),keyCombination:{modifier:"access",character:"0"}}),[1,2,3,4,5,6].forEach(e=>{t({name:"core/edit-widgets/transform-paragraph-to-heading-"+e,category:"block-library",description:(0,M.__)("\u5c06\u6bb5\u843d\u8f6c\u6362\u4e3a\u6807\u9898\u3002"),keyCombination:{modifier:"access",character:""+e}})})},[t]),null};var ot=it,st=()=>(0,W.useSelect)(e=>{var{getBlockSelectionEnd:t,getBlockName:r}=e(_.store),t=t();return"core/widget-area"===r(t)?t:(r=e(E)["getParentWidgetAreaBlock"],r(t)?.clientId||(r=e(A.store)["getEntityRecord"],r(C,L,g())?.blocks[0]?.clientId))},[]);const ct=!1;d=(0,window.gc.privateApis.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I know using unstable features means my plugin or theme will inevitably break on the next GeChiUI release.","@gechiui/edit-widgets").unlock;const lt=d(_.privateApis)["ExperimentalBlockEditorProvider"];function dt({blockEditorSettings:r,children:e,...t}){const n=(0,A.useResourcePermissions)("media"),{reusableBlocks:a,isFixedToolbarActive:i,keepCaretInsideBlock:o}=(0,W.useSelect)(e=>({widgetAreas:e(E).getWidgetAreas(),widgets:e(E).getWidgets(),reusableBlocks:ct?e(A.store).getEntityRecords("postType","gc_block"):[],isFixedToolbarActive:!!e(p.store).get("core/edit-widgets","fixedToolbar"),keepCaretInsideBlock:!!e(p.store).get("core/edit-widgets","keepCaretInsideBlock")}),[]),s=(0,W.useDispatch)(E)["setIsInserterOpened"];var c=(0,T.useMemo)(()=>{let e;return n.canCreate&&(e=({onError:t,...e})=>{(0,Ye.uploadMedia)({gcAllowedMimeTypes:r.allowedMimeTypes,onError:({message:e})=>t(e),...e})}),{...r,__experimentalReusableBlocks:a,hasFixedToolbar:i,keepCaretInsideBlock:o,mediaUpload:e,templateLock:"all",__experimentalSetIsInserterOpened:s}},[r,i,o,n.canCreate,a,s]),l=st(),[d,u,m]=(0,A.useEntityBlockEditor)(C,L,{id:g()});return(0,T.createElement)(v.ShortcutProvider,null,(0,T.createElement)(_.BlockEditorKeyboardShortcuts.Register,null),(0,T.createElement)(ot.Register,null),(0,T.createElement)(V.SlotFillProvider,null,(0,T.createElement)(lt,{value:d,onInput:u,onChange:m,settings:c,useSubRegistry:!1,...t},(0,T.createElement)(_.CopyHandler,null,e),(0,T.createElement)(at.ReusableBlocksMenuItems,{rootClientId:l}))))}var ut=(0,T.createElement)(l.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,T.createElement)(l.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM8.5 18.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h2.5v13zm10-.5c0 .3-.2.5-.5.5h-8v-13h8c.3 0 .5.2.5.5v12z"})),mt=(0,T.createElement)(l.SVG,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,T.createElement)(l.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4 14.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h8v13zm4.5-.5c0 .3-.2.5-.5.5h-2.5v-13H18c.3 0 .5.2.5.5v12z"})),gt=(0,T.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,T.createElement)(l.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})),pt=window.gc.url,_t=window.gc.dom;function ht({selectedWidgetAreaId:t}){const e=(0,W.useSelect)(e=>e(E).getWidgetAreas(),[]);var r=(0,T.useMemo)(()=>t&&e?.find(e=>e.id===t),[t,e]);let n;return n=r?"gc_inactive_widgets"===t?(0,M.__)("\u6b64\u5c0f\u5de5\u5177\u533a\u57df\u4e2d\u7684\u533a\u5757\u5c06\u4e0d\u4f1a\u663e\u793a\u5728\u60a8\u7684\u7cfb\u7edf\u4e2d\u3002"):r.description:(0,M.__)("\u5c0f\u5de5\u5177\u533a\u57df\u662f\u7cfb\u7edf\u5e03\u5c40\u4e2d\u53ef\u4ee5\u652f\u6301\u533a\u5757\u7684\u5168\u5c40\u90e8\u5206\u3002\u8fd9\u4e9b\u533a\u57df\u56e0\u4e3b\u9898\u800c\u5f02\uff0c\u4f46\u901a\u5e38\u90fd\u662f\u60a8\u7684\u8fb9\u680f\u6216\u9875\u811a\u90e8\u5206\u3002"),(0,T.createElement)("div",{className:"edit-widgets-widget-areas"},(0,T.createElement)("div",{className:"edit-widgets-widget-areas__top-container"},(0,T.createElement)(_.BlockIcon,{icon:gt}),(0,T.createElement)("div",null,(0,T.createElement)("p",{dangerouslySetInnerHTML:{__html:(0,_t.safeHTML)(n)}}),0===e?.length&&(0,T.createElement)("p",null,(0,M.__)("\u60a8\u7684\u4e3b\u9898\u4e0d\u5305\u542b\u4efb\u4f55\u5c0f\u5de5\u5177\u533a\u57df\u3002")),!r&&(0,T.createElement)(V.Button,{href:(0,pt.addQueryArgs)("customize.php",{"autofocus[panel]":"widgets",return:window.location.pathname}),variant:"tertiary"},(0,M.__)("\u4f7f\u7528\u5b9e\u65f6\u9884\u89c8\u8fdb\u884c\u7ba1\u7406")))))}const ft=T.Platform.select({web:!0,native:!1}),w="edit-widgets/block-inspector",y="edit-widgets/block-areas";function Et({identifier:e,label:t,isActive:r}){const n=(0,W.useDispatch)(F)["enableComplementaryArea"];return(0,T.createElement)(V.Button,{onClick:()=>n(E.name,e),className:D()("edit-widgets-sidebar__panel-tab",{"is-active":r}),"aria-label":r?(0,M.sprintf)((0,M.__)("%s\uff08\u5df2\u9009\u4e2d\uff09"),t):t,"data-label":t},t)}function vt(){const e=(0,W.useDispatch)(F)["enableComplementaryArea"],{currentArea:t,hasSelectedNonAreaBlock:r,isGeneralSidebarOpen:n,selectedWidgetAreaBlock:a}=(0,W.useSelect)(e=>{var{getSelectedBlock:t,getBlock:r,getBlockParentsByBlockName:n}=e(_.store),e=e(F)["getActiveComplementaryArea"],t=t(),e=e(E.name);let a=e;a=a||(t?w:y);let i;return t&&(i="core/widget-area"===t.name?t:r(n(t.clientId,"core/widget-area")[0])),{currentArea:a,hasSelectedNonAreaBlock:!(!t||"core/widget-area"===t.name),isGeneralSidebarOpen:!!e,selectedWidgetAreaBlock:i}},[]);return(0,T.useEffect)(()=>{r&&t===y&&n&&e("core/edit-widgets",w),!r&&t===w&&n&&e("core/edit-widgets",y)},[r,e]),(0,T.createElement)(_e,{className:"edit-widgets-sidebar",header:(0,T.createElement)("ul",null,(0,T.createElement)("li",null,(0,T.createElement)(Et,{identifier:y,label:a?a.attributes.name:(0,M.__)("\u5c0f\u5de5\u5177\u533a\u57df"),isActive:t===y})),(0,T.createElement)("li",null,(0,T.createElement)(Et,{identifier:w,label:(0,M.__)("\u533a\u5757"),isActive:t===w}))),headerClassName:"edit-widgets-sidebar__panel-tabs",title:(0,M.__)("\u8bbe\u7f6e"),closeLabel:(0,M.__)("\u5173\u95ed\u8bbe\u7f6e"),scope:"core/edit-widgets",identifier:t,icon:(0,M.isRTL)()?ut:mt,isActiveByDefault:ft},t===y&&(0,T.createElement)(ht,{selectedWidgetAreaId:a?.attributes.id}),t===w&&(r?(0,T.createElement)(_.BlockInspector,null):(0,T.createElement)("span",{className:"block-editor-block-inspector__no-blocks"},(0,M.__)("\u672a\u9009\u62e9\u533a\u5757\u3002"))))}var bt=(0,T.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,T.createElement)(l.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),wt=(0,T.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,T.createElement)(l.Path,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"}));function yt(){var{hasEditedWidgetAreaIds:e,isSaving:t}=(0,W.useSelect)(e=>{var{getEditedWidgetAreas:e,isSavingWidgetAreas:t}=e(E);return{hasEditedWidgetAreaIds:0<e()?.length,isSaving:t()}},[]),r=(0,W.useDispatch)(E)["saveEditedWidgetAreas"];return(0,T.createElement)(V.Button,{variant:"primary",isBusy:t,"aria-disabled":t,onClick:t?void 0:r,disabled:!e},t?(0,M.__)("\u6b63\u5728\u4fdd\u5b58..."):(0,M.__)("\u66f4\u65b0"))}var kt=(0,T.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,T.createElement)(l.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"})),St=(0,T.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,T.createElement)(l.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"}));function It(){var e=(0,W.useSelect)(e=>e(A.store).hasUndo(),[]),t=(0,W.useDispatch)(A.store)["undo"];return(0,T.createElement)(V.ToolbarButton,{icon:(0,M.isRTL)()?St:kt,label:(0,M.__)("\u64a4\u9500"),shortcut:b.displayShortcut.primary("z"),"aria-disabled":!e,onClick:e?t:void 0})}function At(){var e=(0,b.isAppleOS)()?b.displayShortcut.primaryShift("z"):b.displayShortcut.primary("y"),t=(0,W.useSelect)(e=>e(A.store).hasRedo(),[]),r=(0,W.useDispatch)(A.store)["redo"];return(0,T.createElement)(V.ToolbarButton,{icon:(0,M.isRTL)()?kt:St,label:(0,M.__)("\u91cd\u505a"),shortcut:e,"aria-disabled":!t,onClick:t?r:void 0})}var Bt=(0,T.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,T.createElement)(l.Path,{d:"M19.5 4.5h-7V6h4.44l-5.97 5.97 1.06 1.06L18 7.06v4.44h1.5v-7Zm-13 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-3H17v3a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h3V5.5h-3Z"}));const Ct=[{keyCombination:{modifier:"primary",character:"b"},description:(0,M.__)("\u5c06\u9009\u4e2d\u7684\u6587\u5b57\u52a0\u7c97\u3002")},{keyCombination:{modifier:"primary",character:"i"},description:(0,M.__)("\u5c06\u9009\u4e2d\u7684\u6587\u5b57\u8bbe\u4e3a\u659c\u4f53\u3002")},{keyCombination:{modifier:"primary",character:"k"},description:(0,M.__)("\u5c06\u9009\u4e2d\u7684\u6587\u5b57\u8f6c\u6362\u4e3a\u94fe\u63a5\u3002")},{keyCombination:{modifier:"primaryShift",character:"k"},description:(0,M.__)("\u79fb\u9664\u94fe\u63a5\u3002")},{keyCombination:{character:"[["},description:(0,M.__)("\u63d2\u5165\u4e00\u4e2a\u6307\u5411\u6587\u7ae0\u6216\u9875\u9762\u7684\u94fe\u63a5\u3002")},{keyCombination:{modifier:"primary",character:"u"},description:(0,M.__)("\u7ed9\u9009\u4e2d\u7684\u6587\u5b57\u52a0\u4e0b\u5212\u7ebf\u3002")},{keyCombination:{modifier:"access",character:"d"},description:(0,M.__)("\u4e3a\u6240\u9009\u6587\u672c\u6dfb\u52a0\u5220\u9664\u7ebf\u3002")},{keyCombination:{modifier:"access",character:"x"},description:(0,M.__)("\u5c06\u9009\u5b9a\u7684\u6587\u672c\u8bbe\u4e3a\u5185\u8054\u4ee3\u7801\u3002")},{keyCombination:{modifier:"access",character:"0"},description:(0,M.__)("\u5c06\u5f53\u524d\u6807\u9898\u8f6c\u6362\u4e3a\u6bb5\u843d\u3002")},{keyCombination:{modifier:"access",character:"1-6"},description:(0,M.__)("\u5c06\u5f53\u524d\u6bb5\u843d\u6216\u6807\u9898\u8f6c\u6362\u4e3a\u7ea7\u522b\u4e3ah1\u5230h6\u7684\u6807\u9898\u3002")}];function Nt({keyCombination:e,forceAriaLabel:t}){var r=e.modifier?b.displayShortcutList[e.modifier](e.character):e.character,e=e.modifier?b.shortcutAriaLabel[e.modifier](e.character):e.character,r=Array.isArray(r)?r:[r];return(0,T.createElement)("kbd",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-key-combination","aria-label":t||e},r.map((e,t)=>"+"===e?(0,T.createElement)(T.Fragment,{key:t},e):(0,T.createElement)("kbd",{key:t,className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-key"},e)))}function Lt({description:e,keyCombination:t,aliases:r=[],ariaLabel:n}){return(0,T.createElement)(T.Fragment,null,(0,T.createElement)("div",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-description"},e),(0,T.createElement)("div",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-term"},(0,T.createElement)(Nt,{keyCombination:t,forceAriaLabel:n}),r.map((e,t)=>(0,T.createElement)(Nt,{keyCombination:e,forceAriaLabel:n,key:t}))))}function Rt({name:n}){var{keyCombination:e,description:t,aliases:r}=(0,W.useSelect)(e=>{var{getShortcutKeyCombination:e,getShortcutDescription:t,getShortcutAliases:r}=e(v.store);return{keyCombination:e(n),aliases:r(n),description:t(n)}},[n]);return e?(0,T.createElement)(Lt,{keyCombination:e,description:t,aliases:r}):null}const Ot=({shortcuts:e})=>(0,T.createElement)("ul",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut-list",role:"list"},e.map((e,t)=>(0,T.createElement)("li",{className:"edit-widgets-keyboard-shortcut-help-modal__shortcut",key:t},"string"==typeof e?(0,T.createElement)(Rt,{name:e}):(0,T.createElement)(Lt,{...e})))),xt=({title:e,shortcuts:t,className:r})=>(0,T.createElement)("section",{className:D()("edit-widgets-keyboard-shortcut-help-modal__section",r)},!!e&&(0,T.createElement)("h2",{className:"edit-widgets-keyboard-shortcut-help-modal__section-title"},e),(0,T.createElement)(Ot,{shortcuts:t})),Pt=({title:e,categoryName:t,additionalShortcuts:r=[]})=>{var n=(0,W.useSelect)(e=>e(v.store).getCategoryShortcuts(t),[t]);return(0,T.createElement)(xt,{title:e,shortcuts:n.concat(r)})};function Tt({isModalActive:e,toggleModal:t}){return(0,v.useShortcut)("core/edit-widgets/keyboard-shortcuts",t,{bindGlobal:!0}),e?(0,T.createElement)(V.Modal,{className:"edit-widgets-keyboard-shortcut-help-modal",title:(0,M.__)("\u952e\u76d8\u5feb\u6377\u952e"),onRequestClose:t},(0,T.createElement)(xt,{className:"edit-widgets-keyboard-shortcut-help-modal__main-shortcuts",shortcuts:["core/edit-widgets/keyboard-shortcuts"]}),(0,T.createElement)(Pt,{title:(0,M.__)("\u5168\u5c40\u5feb\u6377\u952e"),categoryName:"global"}),(0,T.createElement)(Pt,{title:(0,M.__)("\u9009\u5b9a\u5feb\u6377\u952e"),categoryName:"selection"}),(0,T.createElement)(Pt,{title:(0,M.__)("\u533a\u5757\u5feb\u6377\u952e"),categoryName:"block",additionalShortcuts:[{keyCombination:{character:"/"},description:(0,M.__)("\u5728\u6dfb\u52a0\u65b0\u6bb5\u843d\u540e\u4fee\u6539\u533a\u5757\u7c7b\u578b\u3002"),ariaLabel:(0,M.__)("\u6b63\u659c\u6760")}]}),(0,T.createElement)(xt,{title:(0,M.__)("\u6587\u5b57\u5185\u5bb9\u683c\u5f0f\u5316"),shortcuts:Ct})):null}const{Fill:Wt,Slot:Mt}=(0,V.createSlotFill)("EditWidgetsToolsMoreMenuGroup");Wt.Slot=({fillProps:e})=>(0,T.createElement)(Mt,{fillProps:e},e=>0<e.length&&e);var Dt=Wt;function Vt(){const[e,t]=(0,T.useState)(!1);var r=()=>t(!e);(0,v.useShortcut)("core/edit-widgets/keyboard-shortcuts",r);const n=(0,h.useViewportMatch)("medium");return(0,T.createElement)(T.Fragment,null,(0,T.createElement)(ve,null,e=>(0,T.createElement)(T.Fragment,null,n&&(0,T.createElement)(V.MenuGroup,{label:(0,M._x)("\u89c6\u56fe","noun")},(0,T.createElement)(p.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"fixedToolbar",label:(0,M.__)("\u9876\u90e8\u5de5\u5177\u680f"),info:(0,M.__)("\u5728\u4e00\u4e2a\u4f4d\u7f6e\u8bbf\u95ee\u6240\u6709\u7684\u533a\u5757\u548c\u6587\u6863\u5de5\u5177"),messageActivated:(0,M.__)("\u9876\u90e8\u5de5\u5177\u680f\u5df2\u542f\u7528"),messageDeactivated:(0,M.__)("\u9876\u90e8\u5de5\u5177\u680f\u5df2\u7981\u7528")})),(0,T.createElement)(V.MenuGroup,{label:(0,M.__)("\u5de5\u5177")},(0,T.createElement)(V.MenuItem,{onClick:()=>{t(!0)},shortcut:b.displayShortcut.access("h")},(0,M.__)("\u952e\u76d8\u5feb\u6377\u952e")),(0,T.createElement)(V.MenuItem,{role:"menuitem",icon:Bt,href:(0,M.__)("https://www.gechiui.com/support/block-based-widgets-editor/"),target:"_blank",rel:"noopener noreferrer"},(0,M.__)("\u5e2e\u52a9"),(0,T.createElement)(V.VisuallyHidden,{as:"span"},(0,M.__)("\uff08\u5728\u65b0\u7a97\u53e3\u4e2d\u6253\u5f00\uff09"))),(0,T.createElement)(Dt.Slot,{fillProps:{onClose:e}})),(0,T.createElement)(V.MenuGroup,{label:(0,M.__)("\u504f\u597d\u8bbe\u7f6e")},(0,T.createElement)(p.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"keepCaretInsideBlock",label:(0,M.__)("\u5728\u533a\u5757\u5185\u5305\u542b\u6587\u672c\u5149\u6807"),info:(0,M.__)("\u963b\u6b62\u6587\u5b57\u5149\u6807\u79bb\u5f00\u533a\u5757\u4ee5\u8f85\u52a9\u5c4f\u5e55\u9605\u8bfb\u5668\u3002"),messageActivated:(0,M.__)("\u542f\u7528\u533a\u5757\u5185\u7684\u6587\u672c\u5149\u6807"),messageDeactivated:(0,M.__)("\u7981\u7528\u533a\u5757\u5185\u7684\u6587\u672c\u5149\u6807")}),(0,T.createElement)(p.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"themeStyles",info:(0,M.__)("\u4f7f\u7f16\u8f91\u5668\u770b\u8d77\u6765\u50cf\u60a8\u7684\u4e3b\u9898\u3002"),label:(0,M.__)("\u4f7f\u7528\u4e3b\u9898\u6837\u5f0f")}),n&&(0,T.createElement)(p.PreferenceToggleMenuItem,{scope:"core/edit-widgets",name:"showBlockBreadcrumbs",label:(0,M.__)("\u663e\u793a\u533a\u5757\u9762\u5305\u5c51"),info:(0,M.__)("\u5728\u7f16\u8f91\u5668\u7684\u5e95\u90e8\u663e\u793a\u533a\u5757\u7684\u9762\u5305\u5c51\u3002"),messageActivated:(0,M.__)("\u663e\u793a\u533a\u5757\u9762\u5305\u5c51\u5df2\u542f\u7528"),messageDeactivated:(0,M.__)("\u663e\u793a\u533a\u5757\u9762\u5305\u5c51\u5df2\u7981\u7528")})))),(0,T.createElement)(Tt,{isModalActive:e,toggleModal:r}))}const Ft=d(_.privateApis)["useShouldContextualToolbarShow"];function Gt(){var e=(0,h.useViewportMatch)("medium"),t=(0,T.useRef)();const r=st(),n=(0,W.useSelect)(e=>e(E).getIsWidgetAreaOpen(r),[r]),{isInserterOpen:a,isListViewOpen:i}=(0,W.useSelect)(e=>{var{isInserterOpened:e,isListViewOpened:t}=e(E);return{isInserterOpen:e(),isListViewOpen:t()}},[]),{setIsWidgetAreaOpen:o,setIsInserterOpened:s,setIsListViewOpened:c}=(0,W.useDispatch)(E),l=(0,W.useDispatch)(_.store)["selectBlock"];var d=(0,T.useCallback)(()=>c(!i),[c,i]),{shouldShowContextualToolbar:u,canFocusHiddenToolbar:m,fixedToolbarCanBeFocused:g}=Ft(),u=u||m||g;return(0,T.createElement)(T.Fragment,null,(0,T.createElement)("div",{className:"edit-widgets-header"},(0,T.createElement)("div",{className:"edit-widgets-header__navigable-toolbar-wrapper"},e&&(0,T.createElement)("h1",{className:"edit-widgets-header__title"},(0,M.__)("\u5c0f\u5de5\u5177")),!e&&(0,T.createElement)(V.VisuallyHidden,{as:"h1",className:"edit-widgets-header__title"},(0,M.__)("\u5c0f\u5de5\u5177")),(0,T.createElement)(_.NavigableToolbar,{className:"edit-widgets-header-toolbar","aria-label":(0,M.__)("\u6587\u6863\u5de5\u5177"),shouldUseKeyboardFocusShortcut:!u},(0,T.createElement)(V.ToolbarItem,{ref:t,as:V.Button,className:"edit-widgets-header-toolbar__inserter-toggle",variant:"primary",isPressed:a,onMouseDown:e=>{e.preventDefault()},onClick:()=>{a?s(!1):(n||(l(r),o(r,!0)),window.requestAnimationFrame(()=>s(!0)))},icon:bt,label:(0,M._x)("Toggle block inserter","Generic label for block inserter button")}),e&&(0,T.createElement)(T.Fragment,null,(0,T.createElement)(It,null),(0,T.createElement)(At,null),(0,T.createElement)(V.ToolbarItem,{as:V.Button,className:"edit-widgets-header-toolbar__list-view-toggle",icon:wt,isPressed:i,label:(0,M.__)("\u5217\u8868\u89c6\u56fe"),onClick:d})))),(0,T.createElement)("div",{className:"edit-widgets-header__actions"},(0,T.createElement)(yt,null),(0,T.createElement)(ge.Slot,{scope:"core/edit-widgets"}),(0,T.createElement)(Vt,null))))}var zt=function(){var e=(0,W.useDispatch)(c.store)["removeNotice"],t=(n=(0,W.useSelect)(e=>({notices:e(c.store).getNotices()}),[])["notices"]).filter(({isDismissible:e,type:t})=>e&&"default"===t),r=n.filter(({isDismissible:e,type:t})=>!e&&"default"===t),n=n.filter(({type:e})=>"snackbar"===e);return(0,T.createElement)(T.Fragment,null,(0,T.createElement)(V.NoticeList,{notices:r,className:"edit-widgets-notices__pinned"}),(0,T.createElement)(V.NoticeList,{notices:t,className:"edit-widgets-notices__dismissible",onRemove:e}),(0,T.createElement)(V.SnackbarList,{notices:n,className:"edit-widgets-notices__snackbar",onRemove:e}))};function Ht({blockEditorSettings:e}){const t=(0,W.useSelect)(e=>!!e(p.store).get("core/edit-widgets","themeStyles"),[]);var r=(0,T.useMemo)(()=>t?e.styles:[],[e,t]);return(0,T.createElement)("div",{className:"edit-widgets-block-editor"},(0,T.createElement)(zt,null),(0,T.createElement)(_.BlockTools,null,(0,T.createElement)(ot,null),(0,T.createElement)(_.__unstableEditorStyles,{styles:r}),(0,T.createElement)(_.BlockSelectionClearer,null,(0,T.createElement)(_.WritingFlow,null,(0,T.createElement)(_.ObserveTyping,null,(0,T.createElement)(_.BlockList,{className:"edit-widgets-main-block-list"}))))))}var Ut=(0,T.createElement)(l.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,T.createElement)(l.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})),jt=()=>{const i=(0,W.useSelect)(e=>{e=e(A.store).getEntityRecord;return e(C,L,g())?.blocks[0]?.clientId},[]);return(0,W.useSelect)(e=>{var{getBlockRootClientId:t,getBlockSelectionEnd:r,getBlockOrder:n,getBlockIndex:a}=e(_.store),e=e(E).__experimentalGetInsertionPoint();return e.rootClientId?e:(t=t(e=r()||i),e&&""===t?{rootClientId:e,insertionIndex:n(e).length}:{rootClientId:t,insertionIndex:a(e)+1})},[i])};function Kt(){var e=(0,h.useViewportMatch)("medium","<"),{rootClientId:t,insertionIndex:r}=jt();const n=(0,W.useDispatch)(E)["setIsInserterOpened"];var a=(0,T.useCallback)(()=>n(!1),[n]),i=e?"div":V.VisuallyHidden,[o,s]=(0,h.__experimentalUseDialog)({onClose:a,focusOnMount:null});const c=(0,T.useRef)();return(0,T.useEffect)(()=>{c.current.focusSearch()},[]),(0,T.createElement)("div",{ref:o,...s,className:"edit-widgets-layout__inserter-panel"},(0,T.createElement)(i,{className:"edit-widgets-layout__inserter-panel-header"},(0,T.createElement)(V.Button,{icon:Ut,onClick:a,label:(0,M.__)("\u5173\u95ed\u533a\u5757\u63d2\u5165\u5668")})),(0,T.createElement)("div",{className:"edit-widgets-layout__inserter-panel-content"},(0,T.createElement)(_.__experimentalLibrary,{showInserterHelpPanel:!0,shouldFocusBlock:e,rootClientId:t,__experimentalInsertionIndex:r,ref:c})))}function Zt(){const t=(0,W.useDispatch)(E)["setIsListViewOpened"];var[e,r]=(0,T.useState)(null),n=(0,h.useFocusOnMount)("firstElement"),a=(0,h.useFocusReturn)(),i=(0,h.useFocusReturn)();return(0,T.createElement)("div",{className:"edit-widgets-editor__list-view-panel",onKeyDown:function(e){e.keyCode!==b.ESCAPE||e.defaultPrevented||(e.preventDefault(),t(!1))}},(0,T.createElement)("div",{className:"edit-widgets-editor__list-view-panel-header",ref:a},(0,T.createElement)("strong",null,(0,M.__)("\u5217\u8868\u89c6\u56fe")),(0,T.createElement)(V.Button,{icon:O,label:(0,M.__)("\u5173\u95ed"),onClick:()=>t(!1)})),(0,T.createElement)("div",{className:"edit-widgets-editor__list-view-panel-content",ref:(0,h.useMergeRefs)([i,n,r])},(0,T.createElement)(_.__experimentalListView,{dropZoneElement:e})))}function qt(){var{isInserterOpen:e,isListViewOpen:t}=(0,W.useSelect)(e=>{var{isInserterOpened:e,isListViewOpened:t}=e(E);return{isInserterOpen:e(),isListViewOpen:t()}},[]);return e?(0,T.createElement)(Kt,null):t?(0,T.createElement)(Zt,null):null}const Yt={header:(0,M.__)("\u5c0f\u5de5\u5177\u9876\u90e8\u680f"),body:(0,M.__)("\u5c0f\u5de5\u5177\u4e0e\u533a\u5757"),sidebar:(0,M.__)("\u5c0f\u5de5\u5177\u8bbe\u7f6e"),footer:(0,M.__)("\u5c0f\u5de5\u5177\u9875\u811a")};function Qt({blockEditorSettings:e}){var t=(0,h.useViewportMatch)("medium","<");const r=(0,h.useViewportMatch)("huge",">="),{setIsInserterOpened:n,setIsListViewOpened:a,closeGeneralSidebar:i}=(0,W.useDispatch)(E),{hasBlockBreadCrumbsEnabled:o,hasSidebarEnabled:s,isInserterOpened:c,isListViewOpened:l,previousShortcut:d,nextShortcut:u}=(0,W.useSelect)(e=>({hasSidebarEnabled:!!e(F).getActiveComplementaryArea(E.name),isInserterOpened:!!e(E).isInserterOpened(),isListViewOpened:!!e(E).isListViewOpened(),hasBlockBreadCrumbsEnabled:!!e(p.store).get("core/edit-widgets","showBlockBreadcrumbs"),previousShortcut:e(v.store).getAllShortcutKeyCombinations("core/edit-widgets/previous-region"),nextShortcut:e(v.store).getAllShortcutKeyCombinations("core/edit-widgets/next-region")}),[]);(0,T.useEffect)(()=>{s&&!r&&(n(!1),a(!1))},[s,r]),(0,T.useEffect)(()=>{!c&&!l||r||i()},[c,l,r]);var m=l?(0,M.__)("\u5217\u8868\u89c6\u56fe"):(0,M.__)("\u533a\u5757\u5e93"),g=l||c;return(0,T.createElement)(fe,{labels:{...Yt,secondarySidebar:m},header:(0,T.createElement)(Gt,null),secondarySidebar:g&&(0,T.createElement)(qt,null),sidebar:s&&(0,T.createElement)(_e.Slot,{scope:"core/edit-widgets"}),content:(0,T.createElement)(T.Fragment,null,(0,T.createElement)(Ht,{blockEditorSettings:e})),footer:o&&!t&&(0,T.createElement)("div",{className:"edit-widgets-layout__footer"},(0,T.createElement)(_.BlockBreadcrumb,{rootLabelText:(0,M.__)("\u5c0f\u5de5\u5177")})),shortcuts:{previous:d,next:u}})}function $t(){const t=(0,W.useSelect)(e=>{e=e(E).getEditedWidgetAreas;return 0<e()?.length},[]);return(0,T.useEffect)(()=>{const e=e=>{if(t)return e.returnValue=(0,M.__)("\u60a8\u6709\u672a\u4fdd\u5b58\u7684\u4fee\u6539\u3002\u5982\u679c\u60a8\u7ee7\u7eed\uff0c\u8fd9\u4e9b\u4fee\u6539\u5c06\u4f1a\u4e22\u5931\u3002"),e.returnValue};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[t]),null}var Jt=function({blockEditorSettings:e}){const t=(0,W.useDispatch)(c.store)["createErrorNotice"];return(0,T.createElement)(nt,null,(0,T.createElement)(dt,{blockEditorSettings:e},(0,T.createElement)(Qt,{blockEditorSettings:e}),(0,T.createElement)(vt,null),(0,T.createElement)(V.Popover.Slot,null),(0,T.createElement)(ae.PluginArea,{onError:function(e){t((0,M.sprintf)((0,M.__)("\u63d2\u4ef6\u201c%s\u201d\u9047\u5230\u4e86\u4e00\u4e2a\u9519\u8bef\uff0c\u4e14\u65e0\u6cd5\u88ab\u6e32\u67d3\u3002"),e))}}),(0,T.createElement)($t,null)))};const Xt=["core/more","core/freeform","core/template-part",...ct?[]:["core/block"]];function er(e,r){var e=document.getElementById(e),e=(0,T.createRoot)(e),t=(0,k.__experimentalGetCoreBlocks)().filter(e=>!(Xt.includes(e.name)||e.name.startsWith("core/post")||e.name.startsWith("core/query")||e.name.startsWith("core/site")||e.name.startsWith("core/navigation")));return(0,W.dispatch)(p.store).setDefaults("core/edit-widgets",{fixedToolbar:!1,showBlockBreadcrumbs:!0,themeStyles:!0}),(0,W.dispatch)(I.store).__experimentalReapplyBlockTypeFilters(),(0,k.registerCoreBlocks)(t),(0,B.registerLegacyWidgetBlock)(),(0,B.registerLegacyWidgetVariations)(r),nr(i),(0,B.registerWidgetGroupBlock)(),r.__experimentalFetchLinkSuggestions=(e,t)=>(0,A.__experimentalFetchLinkSuggestions)(e,t,r),(0,I.setFreeformContentHandlerName)("core/html"),e.render((0,T.createElement)(Jt,{blockEditorSettings:r})),e}const tr=er;function rr(){s()("gc.editWidgets.reinitializeEditor",{since:"6.2",version:"6.3"})}const nr=e=>{var t,r;e&&({metadata:e,settings:t,name:r}=e,e&&(0,I.unstable__bootstrapServerSideBlockDefinitions)({[r]:e}),(0,I.registerBlockType)(r,t))}}(),(window.gc=window.gc||{}).editWidgets=ir}();