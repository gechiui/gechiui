/*! This file is auto-generated */
!function(){var n={6411:function(e,t){var n;void 0!==(t="function"==typeof(n=function(e,t){"use strict";var p=typeof Map==="function"?new Map:function(){var r=[];var o=[];return{has:function e(t){return r.indexOf(t)>-1},get:function e(t){return o[r.indexOf(t)]},set:function e(t,n){if(r.indexOf(t)===-1){r.push(t);o.push(n)}},delete:function e(t){var n=r.indexOf(t);if(n>-1){r.splice(n,1);o.splice(n,1)}}}}(),m=function e(t){return new Event(t,{bubbles:true})};try{new Event("test")}catch(e){m=function e(t){var n=document.createEvent("Event");n.initEvent(t,true,false);return n}}function r(o){if(!o||!o.nodeName||o.nodeName!=="TEXTAREA"||p.has(o))return;var n=null;var r=null;var i=null;function e(){var e=window.getComputedStyle(o,null);if(e.resize==="vertical")o.style.resize="none";else if(e.resize==="both")o.style.resize="horizontal";if(e.boxSizing==="content-box")n=-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom));else n=parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth);if(isNaN(n))n=0;c()}function s(e){{var t=o.style.width;o.style.width="0px";o.offsetWidth;o.style.width=t}o.style.overflowY=e}function a(e){var t=[];while(e&&e.parentNode&&e.parentNode instanceof Element){if(e.parentNode.scrollTop)t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop});e=e.parentNode}return t}function l(){if(o.scrollHeight===0)return;var e=a(o);var t=document.documentElement&&document.documentElement.scrollTop;o.style.height="";o.style.height=o.scrollHeight+n+"px";r=o.clientWidth;e.forEach(function(e){e.node.scrollTop=e.scrollTop});if(t)document.documentElement.scrollTop=t}function c(){l();var e=Math.round(parseFloat(o.style.height));var t=window.getComputedStyle(o,null);var n=t.boxSizing==="content-box"?Math.round(parseFloat(t.height)):o.offsetHeight;if(n<e){if(t.overflowY==="hidden"){s("scroll");l();n=t.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight}}else if(t.overflowY!=="hidden"){s("hidden");l();n=t.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(o,null).height)):o.offsetHeight}if(i!==n){i=n;var r=m("autosize:resized");try{o.dispatchEvent(r)}catch(e){}}}var u=function e(){if(o.clientWidth!==r)c()};var d=function(t){window.removeEventListener("resize",u,false);o.removeEventListener("input",c,false);o.removeEventListener("keyup",c,false);o.removeEventListener("autosize:destroy",d,false);o.removeEventListener("autosize:update",c,false);Object.keys(t).forEach(function(e){o.style[e]=t[e]});p.delete(o)}.bind(o,{height:o.style.height,resize:o.style.resize,overflowY:o.style.overflowY,overflowX:o.style.overflowX,wordWrap:o.style.wordWrap});o.addEventListener("autosize:destroy",d,false);if("onpropertychange"in o&&"oninput"in o)o.addEventListener("keyup",c,false);window.addEventListener("resize",u,false);o.addEventListener("input",c,false);o.addEventListener("autosize:update",c,false);o.style.overflowX="hidden";o.style.wordWrap="break-word";p.set(o,{destroy:d,update:c});e()}function n(e){var t=p.get(e);if(t)t.destroy()}function o(e){var t=p.get(e);if(t)t.update()}var i=null;if(typeof window==="undefined"||typeof window.getComputedStyle!=="function"){i=function e(t){return t};i.destroy=function(e){return e};i.update=function(e){return e}}else{i=function e(t,n){if(t)Array.prototype.forEach.call(t.length?t:[t],function(e){return r(e,n)});return t};i.destroy=function(e){if(e)Array.prototype.forEach.call(e.length?e:[e],n);return e};i.update=function(e){if(e)Array.prototype.forEach.call(e.length?e:[e],o);return e}}t.default=i,e.exports=t["default"]})?n.apply(t,[e,t]):n)&&(e.exports=t)},4403:function(e,t){var n;!function(){"use strict";var s={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r,o=typeof n;if("string"==o||"number"==o)e.push(n);else if(Array.isArray(n))n.length&&(r=a.apply(null,n))&&e.push(r);else if("object"==o)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var i in n)s.call(n,i)&&n[i]&&e.push(i);else e.push(n.toString())}}return e.join(" ")}e.exports?e.exports=a.default=a:void 0!==(n=function(){return a}.apply(t,[]))&&(e.exports=n)}()},4827:function(e){e.exports=function(e,t,n){return((n=window.getComputedStyle)?n(e):e.currentStyle)[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]}},9894:function(e,t,n){var o=n(4827);e.exports=function(e){var t,n=o(e,"line-height"),r=parseFloat(n,10);return n===r+""&&(t=e.style.lineHeight,e.style.lineHeight=n+"em",n=o(e,"line-height"),r=parseFloat(n,10),t?e.style.lineHeight=t:delete e.style.lineHeight),-1!==n.indexOf("pt")?r=4*r/3:-1!==n.indexOf("mm")?r=96*r/25.4:-1!==n.indexOf("cm")?r=96*r/2.54:-1!==n.indexOf("in")?r*=96:-1!==n.indexOf("pc")&&(r*=16),r=Math.round(r),"normal"===n&&(t=e.nodeName,(n=document.createElement(t)).innerHTML="&nbsp;","TEXTAREA"===t.toUpperCase()&&n.setAttribute("rows","1"),t=o(e,"font-size"),n.style.fontSize=t,n.style.padding="0px",n.style.border="0px",(e=document.body).appendChild(n),r=n.offsetHeight,e.removeChild(n)),r}},5372:function(e,t,n){"use strict";var s=n(9567);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,i){if(i!==s)throw(i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",i}function t(){return e}var n={array:e.isRequired=e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n}},2652:function(e,t,n){e.exports=n(5372)()},9567:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5438:function(e,t,n){"use strict";var r,o,i=this&&this.__extends||(r=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},a=this&&this.__rest||function(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&(n[o[r]]=e[o[r]]);return n},l=(t.__esModule=!0,n(9196)),c=n(2652),u=n(6411),d=n(9894),p="autosize:resized",m=(o=l.Component,i(g,o),g.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.maxRows,t=t.async;"number"==typeof n&&this.updateLineHeight(),"number"==typeof n||t?setTimeout(function(){return e.textarea&&u(e.textarea)}):this.textarea&&u(this.textarea),this.textarea&&this.textarea.addEventListener(p,this.onResize)},g.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(p,this.onResize),u.destroy(this.textarea))},g.prototype.render=function(){var t=this,e=this.props,n=(e.onResize,e.maxRows),r=(e.onChange,e.style),o=(e.innerRef,e.children),e=a(e,["onResize","maxRows","onChange","style","innerRef","children"]),i=this.state.lineHeight,i=n&&i?i*n:null;return l.createElement("textarea",s({},e,{onChange:this.onChange,style:i?s({},r,{maxHeight:i}):r,ref:function(e){t.textarea=e,"function"==typeof t.props.innerRef?t.props.innerRef(e):t.props.innerRef&&(t.props.innerRef.current=e)}}),o)},g.prototype.componentDidUpdate=function(){this.textarea&&u.update(this.textarea)},g.defaultProps={rows:1,async:!1},g.propTypes={rows:c.number,maxRows:c.number,onResize:c.func,innerRef:c.any,async:c.bool},g);function g(){var n=null!==o&&o.apply(this,arguments)||this;return n.state={lineHeight:null},n.textarea=null,n.onResize=function(e){n.props.onResize&&n.props.onResize(e)},n.updateLineHeight=function(){n.textarea&&n.setState({lineHeight:d(n.textarea)})},n.onChange=function(e){var t=n.props.onChange;n.currentValue=e.currentTarget.value,t&&t(e)},n}t.TextareaAutosize=l.forwardRef(function(e,t){return l.createElement(m,s({},e,{innerRef:t}))})},773:function(e,t,n){"use strict";n=n(5438);t.Z=n.TextareaAutosize},4793:function(e){var t={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\u1ea4":"A","\u1eae":"A","\u1eb2":"A","\u1eb4":"A","\u1eb6":"A","\xc6":"AE","\u1ea6":"A","\u1eb0":"A","\u0202":"A","\xc7":"C","\u1e08":"C","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\u1ebe":"E","\u1e16":"E","\u1ec0":"E","\u1e14":"E","\u1e1c":"E","\u0206":"E","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\u1e2e":"I","\u020a":"I","\xd0":"D","\xd1":"N","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\u1ed0":"O","\u1e4c":"O","\u1e52":"O","\u020e":"O","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xdd":"Y","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\u1ea5":"a","\u1eaf":"a","\u1eb3":"a","\u1eb5":"a","\u1eb7":"a","\xe6":"ae","\u1ea7":"a","\u1eb1":"a","\u0203":"a","\xe7":"c","\u1e09":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\u1ebf":"e","\u1e17":"e","\u1ec1":"e","\u1e15":"e","\u1e1d":"e","\u0207":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\u1e2f":"i","\u020b":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\u1ed1":"o","\u1e4d":"o","\u1e53":"o","\u020f":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u0108":"C","\u0109":"c","\u010a":"C","\u010b":"c","\u010c":"C","\u010d":"c","C\u0306":"C","c\u0306":"c","\u010e":"D","\u010f":"d","\u0110":"D","\u0111":"d","\u0112":"E","\u0113":"e","\u0114":"E","\u0115":"e","\u0116":"E","\u0117":"e","\u0118":"E","\u0119":"e","\u011a":"E","\u011b":"e","\u011c":"G","\u01f4":"G","\u011d":"g","\u01f5":"g","\u011e":"G","\u011f":"g","\u0120":"G","\u0121":"g","\u0122":"G","\u0123":"g","\u0124":"H","\u0125":"h","\u0126":"H","\u0127":"h","\u1e2a":"H","\u1e2b":"h","\u0128":"I","\u0129":"i","\u012a":"I","\u012b":"i","\u012c":"I","\u012d":"i","\u012e":"I","\u012f":"i","\u0130":"I","\u0131":"i","\u0132":"IJ","\u0133":"ij","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u1e30":"K","\u1e31":"k","K\u0306":"K","k\u0306":"k","\u0139":"L","\u013a":"l","\u013b":"L","\u013c":"l","\u013d":"L","\u013e":"l","\u013f":"L","\u0140":"l","\u0141":"l","\u0142":"l","\u1e3e":"M","\u1e3f":"m","M\u0306":"M","m\u0306":"m","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u0149":"n","N\u0306":"N","n\u0306":"n","\u014c":"O","\u014d":"o","\u014e":"O","\u014f":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","P\u0306":"P","p\u0306":"p","\u0154":"R","\u0155":"r","\u0156":"R","\u0157":"r","\u0158":"R","\u0159":"r","R\u0306":"R","r\u0306":"r","\u0212":"R","\u0213":"r","\u015a":"S","\u015b":"s","\u015c":"S","\u015d":"s","\u015e":"S","\u0218":"S","\u0219":"s","\u015f":"s","\u0160":"S","\u0161":"s","\xdf":"ss","\u0162":"T","\u0163":"t","\u021b":"t","\u021a":"T","\u0164":"T","\u0165":"t","\u0166":"T","\u0167":"t","T\u0306":"T","t\u0306":"t","\u0168":"U","\u0169":"u","\u016a":"U","\u016b":"u","\u016c":"U","\u016d":"u","\u016e":"U","\u016f":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0216":"U","\u0217":"u","V\u0306":"V","v\u0306":"v","\u0174":"W","\u0175":"w","\u1e82":"W","\u1e83":"w","X\u0306":"X","x\u0306":"x","\u0176":"Y","\u0177":"y","\u0178":"Y","Y\u0306":"Y","y\u0306":"y","\u0179":"Z","\u017a":"z","\u017b":"Z","\u017c":"z","\u017d":"Z","\u017e":"z","\u017f":"s","\u0192":"f","\u01a0":"O","\u01a1":"o","\u01af":"U","\u01b0":"u","\u01cd":"A","\u01ce":"a","\u01cf":"I","\u01d0":"i","\u01d1":"O","\u01d2":"o","\u01d3":"U","\u01d4":"u","\u01d5":"U","\u01d6":"u","\u01d7":"U","\u01d8":"u","\u01d9":"U","\u01da":"u","\u01db":"U","\u01dc":"u","\u1ee8":"U","\u1ee9":"u","\u1e78":"U","\u1e79":"u","\u01fa":"A","\u01fb":"a","\u01fc":"AE","\u01fd":"ae","\u01fe":"O","\u01ff":"o","\xde":"TH","\xfe":"th","\u1e54":"P","\u1e55":"p","\u1e64":"S","\u1e65":"s","X\u0301":"X","x\u0301":"x","\u0403":"\u0413","\u0453":"\u0433","\u040c":"\u041a","\u045c":"\u043a","A\u030b":"A","a\u030b":"a","E\u030b":"E","e\u030b":"e","I\u030b":"I","i\u030b":"i","\u01f8":"N","\u01f9":"n","\u1ed2":"O","\u1ed3":"o","\u1e50":"O","\u1e51":"o","\u1eea":"U","\u1eeb":"u","\u1e80":"W","\u1e81":"w","\u1ef2":"Y","\u1ef3":"y","\u0200":"A","\u0201":"a","\u0204":"E","\u0205":"e","\u0208":"I","\u0209":"i","\u020c":"O","\u020d":"o","\u0210":"R","\u0211":"r","\u0214":"U","\u0215":"u","B\u030c":"B","b\u030c":"b","\u010c\u0323":"C","\u010d\u0323":"c","\xca\u030c":"E","\xea\u030c":"e","F\u030c":"F","f\u030c":"f","\u01e6":"G","\u01e7":"g","\u021e":"H","\u021f":"h","J\u030c":"J","\u01f0":"j","\u01e8":"K","\u01e9":"k","M\u030c":"M","m\u030c":"m","P\u030c":"P","p\u030c":"p","Q\u030c":"Q","q\u030c":"q","\u0158\u0329":"R","\u0159\u0329":"r","\u1e66":"S","\u1e67":"s","V\u030c":"V","v\u030c":"v","W\u030c":"W","w\u030c":"w","X\u030c":"X","x\u030c":"x","Y\u030c":"Y","y\u030c":"y","A\u0327":"A","a\u0327":"a","B\u0327":"B","b\u0327":"b","\u1e10":"D","\u1e11":"d","\u0228":"E","\u0229":"e","\u0190\u0327":"E","\u025b\u0327":"e","\u1e28":"H","\u1e29":"h","I\u0327":"I","i\u0327":"i","\u0197\u0327":"I","\u0268\u0327":"i","M\u0327":"M","m\u0327":"m","O\u0327":"O","o\u0327":"o","Q\u0327":"Q","q\u0327":"q","U\u0327":"U","u\u0327":"u","X\u0327":"X","x\u0327":"x","Z\u0327":"Z","z\u0327":"z","\u0439":"\u0438","\u0419":"\u0418","\u0451":"\u0435","\u0401":"\u0415"},n=Object.keys(t).join("|"),r=new RegExp(n,"g"),o=new RegExp(n,"");function i(e){return t[e]}function s(e){return e.replace(r,i)}e.exports=s,e.exports.has=function(e){return!!e.match(o)},e.exports.remove=s},9196:function(e){"use strict";e.exports=window.React}},r={};function Va(e){var t=r[e];return void 0!==t||(t=r[e]={exports:{}},n[e].call(t.exports,t,t.exports,Va)),t.exports}Va.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Va.d(t,{a:t}),t},Va.d=function(e,t){for(var n in t)Va.o(t,n)&&!Va.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},Va.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Va.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var Wa={};!function(){"use strict";Va.r(Wa),Va.d(Wa,{AlignmentToolbar:function(){return js},Autocomplete:function(){return Ws},AutosaveMonitor:function(){return dr},BlockAlignmentToolbar:function(){return Gs},BlockControls:function(){return Ks},BlockEdit:function(){return $s},BlockEditorKeyboardShortcuts:function(){return Ys},BlockFormatControls:function(){return qs},BlockIcon:function(){return Qs},BlockInspector:function(){return Xs},BlockList:function(){return Zs},BlockMover:function(){return Js},BlockNavigationDropdown:function(){return ea},BlockSelectionClearer:function(){return ta},BlockSettingsMenu:function(){return na},BlockTitle:function(){return ra},BlockToolbar:function(){return oa},CharacterCount:function(){return Ps},ColorPalette:function(){return ia},ContrastChecker:function(){return sa},CopyHandler:function(){return aa},DefaultBlockAppender:function(){return la},DocumentOutline:function(){return yr},DocumentOutlineCheck:function(){return br},EditorHistoryRedo:function(){return xr},EditorHistoryUndo:function(){return Br},EditorKeyboardShortcutsRegister:function(){return wr},EditorNotices:function(){return Nr},EditorProvider:function(){return Hs},EditorSnackbars:function(){return Ar},EntitiesSavedStates:function(){return Fr},ErrorBoundary:function(){return Wr},FontSizePicker:function(){return ca},InnerBlocks:function(){return da},Inserter:function(){return ua},InspectorAdvancedControls:function(){return pa},InspectorControls:function(){return ma},LocalAutosaveMonitor:function(){return $r},MediaPlaceholder:function(){return ya},MediaUpload:function(){return ba},MediaUploadCheck:function(){return Ea},MultiSelectScrollIntoView:function(){return Sa},NavigableToolbar:function(){return ka},ObserveTyping:function(){return Pa},PageAttributesCheck:function(){return Yr},PageAttributesOrder:function(){return Qr},PageAttributesParent:function(){return ro},PageTemplate:function(){return oo},PanelColorSettings:function(){return ga},PlainText:function(){return ha},PostAuthor:function(){return lo},PostAuthorCheck:function(){return co},PostComments:function(){return uo},PostExcerpt:function(){return po},PostExcerptCheck:function(){return mo},PostFeaturedImage:function(){return Eo},PostFeaturedImageCheck:function(){return fo},PostFormat:function(){return Po},PostFormatCheck:function(){return So},PostLastRevision:function(){return To},PostLastRevisionCheck:function(){return Co},PostLockedModal:function(){return xo},PostPendingStatus:function(){return Io},PostPendingStatusCheck:function(){return Bo},PostPingbacks:function(){return No},PostPreviewButton:function(){return Do},PostPublishButton:function(){return Uo},PostPublishButtonLabel:function(){return Ro},PostPublishPanel:function(){return Vi},PostSavedState:function(){return $i},PostSchedule:function(){return oi},PostScheduleCheck:function(){return Yi},PostScheduleLabel:function(){return ii},PostSlug:function(){return Xi},PostSlugCheck:function(){return qi},PostSticky:function(){return Ji},PostStickyCheck:function(){return Zi},PostSwitchToDraftButton:function(){return es},PostSyncStatus:function(){return rs},PostSyncStatusModal:function(){return os},PostTaxonomies:function(){return is},PostTaxonomiesCheck:function(){return ss},PostTaxonomiesFlatTermSelector:function(){return vi},PostTaxonomiesHierarchicalTermSelector:function(){return Bi},PostTextEditor:function(){return ls},PostTitle:function(){return ds},PostTrash:function(){return ps},PostTrashCheck:function(){return ms},PostTypeSupportCheck:function(){return S},PostURL:function(){return gs},PostURLCheck:function(){return hs},PostURLLabel:function(){return fs},PostVisibility:function(){return Ho},PostVisibilityCheck:function(){return vs},PostVisibilityLabel:function(){return Vo},RichText:function(){return Vs},RichTextShortcut:function(){return fa},RichTextToolbarButton:function(){return _a},ServerSideRender:function(){return zs()},SkipToSelectedBlock:function(){return wa},TableOfContents:function(){return Cs},TextEditorGlobalKeyboardShortcuts:function(){return Pr},ThemeSupportCheck:function(){return ho},TimeToRead:function(){return ks},URLInput:function(){return Ca},URLInputButton:function(){return Ta},URLPopover:function(){return xa},UnsavedChangesWarning:function(){return Ts},VisualEditorGlobalKeyboardShortcuts:function(){return kr},Warning:function(){return Ba},WordCount:function(){return Es},WritingFlow:function(){return Ia},__unstableRichTextInputEvent:function(){return va},cleanForSlug:function(){return Ha},createCustomColorsHOC:function(){return Na},getColorClassName:function(){return Aa},getColorObjectByAttributeValues:function(){return Da},getColorObjectByColorValue:function(){return Ra},getFontSize:function(){return La},getFontSizeClass:function(){return Oa},getTemplatePartIcon:function(){return te},mediaUpload:function(){return Rs},privateApis:function(){return za},store:function(){return F},storeConfig:function(){return ar},transformStyles:function(){return w.transformStyles},useEntitiesSavedStatesIsDirty:function(){return Or},usePostScheduleLabel:function(){return si},usePostURLLabel:function(){return _s},usePostVisibilityLabel:function(){return Wo},userAutocompleter:function(){return cr},withColorContext:function(){return Ua},withColors:function(){return Fa},withFontSizes:function(){return Ma}});var e={},t=(Va.r(e),Va.d(e,{__experimentalGetDefaultTemplatePartAreas:function(){return en},__experimentalGetDefaultTemplateType:function(){return tn},__experimentalGetDefaultTemplateTypes:function(){return Jt},__experimentalGetTemplateInfo:function(){return nn},__unstableIsEditorReady:function(){return Ze},canInsertBlockType:function(){return qt},canUserUseUnfilteredHTML:function(){return Ke},didPostSaveRequestFail:function(){return Be},didPostSaveRequestSucceed:function(){return xe},getActivePostLock:function(){return Ge},getAdjacentBlockClientId:function(){return bt},getAutosaveAttribute:function(){return he},getBlock:function(){return it},getBlockAttributes:function(){return ot},getBlockCount:function(){return dt},getBlockHierarchyRootClientId:function(){return yt},getBlockIndex:function(){return Rt},getBlockInsertionPoint:function(){return jt},getBlockListSettings:function(){return Zt},getBlockMode:function(){return zt},getBlockName:function(){return nt},getBlockOrder:function(){return Dt},getBlockRootClientId:function(){return vt},getBlockSelectionEnd:function(){return mt},getBlockSelectionStart:function(){return pt},getBlocks:function(){return st},getBlocksByClientId:function(){return ut},getClientIdsOfDescendants:function(){return at},getClientIdsWithDescendants:function(){return lt},getCurrentPost:function(){return i},getCurrentPostAttribute:function(){return me},getCurrentPostId:function(){return u},getCurrentPostLastRevisionId:function(){return de},getCurrentPostRevisionsCount:function(){return ue},getCurrentPostType:function(){return a},getEditedPostAttribute:function(){return d},getEditedPostContent:function(){return Re},getEditedPostPreviewLink:function(){return Ae},getEditedPostSlug:function(){return Fe},getEditedPostVisibility:function(){return fe},getEditorBlocks:function(){return Ye},getEditorSelection:function(){return Xe},getEditorSelectionEnd:function(){return Qe},getEditorSelectionStart:function(){return qe},getEditorSettings:function(){return Je},getFirstMultiSelectedBlockClientId:function(){return Ct},getGlobalBlockCount:function(){return ct},getInserterItems:function(){return Qt},getLastMultiSelectedBlockClientId:function(){return Tt},getMultiSelectedBlockClientIds:function(){return Pt},getMultiSelectedBlocks:function(){return wt},getMultiSelectedBlocksEndClientId:function(){return At},getMultiSelectedBlocksStartClientId:function(){return Nt},getNextBlockClientId:function(){return St},getPermalink:function(){return Ue},getPermalinkParts:function(){return Me},getPostEdits:function(){return pe},getPostLockUser:function(){return je},getPostTypeLabel:function(){return rn},getPreviousBlockClientId:function(){return Et},getSelectedBlock:function(){return _t},getSelectedBlockClientId:function(){return ft},getSelectedBlockCount:function(){return gt},getSelectedBlocksInitialCaretPosition:function(){return kt},getStateBeforeOptimisticTransaction:function(){return et},getSuggestedPostFormat:function(){return De},getTemplate:function(){return $t},getTemplateLock:function(){return Yt},hasChangedContent:function(){return se},hasEditorRedo:function(){return oe},hasEditorUndo:function(){return re},hasInserterItems:function(){return Xt},hasMultiSelection:function(){return Ft},hasNonPostEntityChanges:function(){return le},hasSelectedBlock:function(){return ht},hasSelectedInnerBlock:function(){return Ot},inSomeHistory:function(){return tt},isAncestorMultiSelected:function(){return It},isAutosavingPost:function(){return Ie},isBlockInsertionPointVisible:function(){return Gt},isBlockMultiSelected:function(){return Bt},isBlockSelected:function(){return Lt},isBlockValid:function(){return rt},isBlockWithinSelection:function(){return Ut},isCaretWithinFormattedText:function(){return Wt},isCleanNewPost:function(){return ce},isCurrentPostPending:function(){return _e},isCurrentPostPublished:function(){return ve},isCurrentPostScheduled:function(){return ye},isDeletingPost:function(){return Ce},isEditedPostAutosaveable:function(){return ke},isEditedPostBeingScheduled:function(){return Pe},isEditedPostDateFloating:function(){return we},isEditedPostDirty:function(){return ae},isEditedPostEmpty:function(){return Se},isEditedPostNew:function(){return ie},isEditedPostPublishable:function(){return be},isEditedPostSaveable:function(){return Ee},isFirstMultiSelectedBlock:function(){return xt},isMultiSelecting:function(){return Mt},isPermalinkEditable:function(){return Oe},isPostAutosavingLocked:function(){return Ve},isPostLockTakeover:function(){return We},isPostLocked:function(){return He},isPostSavingLocked:function(){return ze},isPreviewingPost:function(){return Ne},isPublishSidebarEnabled:function(){return $e},isPublishingPost:function(){return Le},isSavingNonPostEntityChanges:function(){return Te},isSavingPost:function(){return r},isSelectionEnabled:function(){return Ht},isTyping:function(){return Vt},isValidTemplate:function(){return Kt}}),{}),D=(Va.r(t),Va.d(t,{__experimentalTearDownEditor:function(){return cn},autosave:function(){return _n},clearSelectedBlock:function(){return Fn},createUndoLevel:function(){return bn},disablePublishSidebar:function(){return kn},editPost:function(){return mn},enablePublishSidebar:function(){return Sn},enterFormattedText:function(){return rr},exitFormattedText:function(){return or},hideInsertionPoint:function(){return Yn},insertBlock:function(){return Gn},insertBlocks:function(){return Kn},insertDefaultBlock:function(){return ir},lockPostAutosaving:function(){return Cn},lockPostSaving:function(){return Pn},mergeBlocks:function(){return Xn},moveBlockToPosition:function(){return jn},moveBlocksDown:function(){return Vn},moveBlocksUp:function(){return Wn},multiSelect:function(){return Un},receiveBlocks:function(){return Nn},redo:function(){return vn},refreshPost:function(){return hn},removeBlock:function(){return Jn},removeBlocks:function(){return Zn},replaceBlock:function(){return zn},replaceBlocks:function(){return Hn},resetBlocks:function(){return In},resetEditorBlocks:function(){return xn},resetPost:function(){return un},savePost:function(){return gn},selectBlock:function(){return Rn},setTemplateValidity:function(){return qn},setupEditor:function(){return ln},setupEditorState:function(){return pn},showInsertionPoint:function(){return $n},startMultiSelect:function(){return Ln},startTyping:function(){return tr},stopMultiSelect:function(){return On},stopTyping:function(){return nr},synchronizeTemplate:function(){return Qn},toggleBlockMode:function(){return er},toggleSelection:function(){return Mn},trashPost:function(){return fn},undo:function(){return yn},unlockPostAutosaving:function(){return Tn},unlockPostSaving:function(){return wn},updateBlock:function(){return An},updateBlockAttributes:function(){return Dn},updateBlockListSettings:function(){return sr},updateEditorSettings:function(){return Bn},updatePost:function(){return dn},updatePostLock:function(){return En}}),window.gc.element),b=window.gc.blocks,R=window.gc.data,L=window.gc.coreData,O=window.gc.compose,y=window.gc.hooks,w=window.gc.blockEditor;const x={...w.SETTINGS_DEFAULTS,richEditingEnabled:!0,codeEditingEnabled:!0,enableCustomFields:void 0};function B(e){return e&&"object"==typeof e&&"raw"in e?e.raw:e}var I=(0,R.combineReducers)({postId:function(e=null,t){return"SETUP_EDITOR_STATE"===t.type?t.post.id:e},postType:function(e=null,t){return"SETUP_EDITOR_STATE"===t.type?t.post.type:e},saving:function(e={},t){switch(t.type){case"REQUEST_POST_UPDATE_START":case"REQUEST_POST_UPDATE_FINISH":return{pending:"REQUEST_POST_UPDATE_START"===t.type,options:t.options||{}}}return e},deleting:function(e={},t){switch(t.type){case"REQUEST_POST_DELETE_START":case"REQUEST_POST_DELETE_FINISH":return{pending:"REQUEST_POST_DELETE_START"===t.type}}return e},postLock:function(e={isLocked:!1},t){return"UPDATE_POST_LOCK"===t.type?t.lock:e},template:function(e={isValid:!0},t){return"SET_TEMPLATE_VALIDITY"===t.type?{...e,isValid:t.isValid}:e},postSavingLock:function(e={},t){switch(t.type){case"LOCK_POST_SAVING":return{...e,[t.lockName]:!0};case"UNLOCK_POST_SAVING":{const{[t.lockName]:n,...r}=e;return r}}return e},isReady:function(e=!1,t){switch(t.type){case"SETUP_EDITOR_STATE":return!0;case"TEAR_DOWN_EDITOR":return!1}return e},editorSettings:function(e=x,t){return"UPDATE_EDITOR_SETTINGS"===t.type?{...e,...t.settings}:e},postAutosavingLock:function(e={},t){switch(t.type){case"LOCK_POST_AUTOSAVING":return{...e,[t.lockName]:!0};case"UNLOCK_POST_AUTOSAVING":{const{[t.lockName]:n,...r}=e;return r}}return e}}),N={};function A(e){return[e]}function z(e,t,n){var r;if(e.length===t.length){for(r=n;r<e.length;r++)if(e[r]!==t[r])return;return 1}}function V(s,e){var l,a=e||A;function t(){l=new WeakMap}function n(){for(var e,t,n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];for((e=function(e){for(var t,n,r,o,i=l,s=!0,a=0;a<e.length;a++){if(t=e[a],!(r=t)||"object"!=typeof r){s=!1;break}i=i.has(t)?i.get(t):(r=new WeakMap,i.set(t,r),r)}return i.has(N)||((n=o={clear:function(){o.head=null}}).isUniqueByDependants=s,i.set(N,n)),i.get(N)}(n=a.apply(null,o))).isUniqueByDependants||(e.lastDependants&&!z(n,e.lastDependants,0)&&e.clear(),e.lastDependants=n),t=e.head;t;){if(z(t.args,o,1))return t!==e.head&&(t.prev.next=t.next,t.next&&(t.next.prev=t.prev),t.next=e.head,t.prev=null,e.head.prev=t,e.head=t),t.val;t=t.next}return t={val:s.apply(null,o)},o[0]=null,t.args=o,e.head&&((e.head.prev=t).next=e.head),(e.head=t).val}return n.getDependants=a,(n.clear=t)(),n}var c=window.gc.date,f=window.gc.url,n=window.gc.deprecated,o=Va.n(n),n=window.gc.primitives,W=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})),j=window.gc.preferences;const G=new Set(["meta"]);const K="SAVE_POST_NOTICE_ID",$="TRASH_POST_NOTICE_ID",Y=/%(?:postname|pagename)%/,q=6e4,Q=["title","excerpt","content"];var X=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M18.5 10.5H10v8h8a.5.5 0 00.5-.5v-7.5zm-10 0h-3V18a.5.5 0 00.5.5h2.5v-8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})),Z=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{fillRule:"evenodd",d:"M18 5.5h-8v8h8.5V6a.5.5 0 00-.5-.5zm-9.5 8h-3V6a.5.5 0 01.5-.5h2.5v8zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})),J=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M18 5.5H6a.5.5 0 00-.5.5v3h13V6a.5.5 0 00-.5-.5zm.5 5H10v8h8a.5.5 0 00.5-.5v-7.5zM6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})),ee=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M21.3 10.8l-5.6-5.6c-.7-.7-1.8-.7-2.5 0l-5.6 5.6c-.7.7-.7 1.8 0 2.5l5.6 5.6c.3.3.8.5 1.2.5s.9-.2 1.2-.5l5.6-5.6c.8-.7.8-1.9.1-2.5zm-17.6 1L10 5.5l-1-1-6.3 6.3c-.7.7-.7 1.8 0 2.5L9 19.5l1.1-1.1-6.3-6.3c-.2 0-.2-.2-.1-.3z"}));function te(e){return"header"===e?X:"footer"===e?Z:"sidebar"===e?J:ee}const l={},ne=[],re=(0,R.createRegistrySelector)(e=>()=>e(L.store).hasUndo()),oe=(0,R.createRegistrySelector)(e=>()=>e(L.store).hasRedo());function ie(e){return"auto-draft"===i(e).status}function se(e){return"content"in pe(e)}const ae=(0,R.createRegistrySelector)(n=>e=>{var t=a(e),e=u(e);return!!n(L.store).hasEditsForEntityRecord("postType",t,e)}),le=(0,R.createRegistrySelector)(o=>e=>{var t=o(L.store).__experimentalGetDirtyEntityRecords();const{type:n,id:r}=i(e);return t.some(e=>"postType"!==e.kind||e.name!==n||e.key!==r)});function ce(e){return!ae(e)&&ie(e)}const i=(0,R.createRegistrySelector)(n=>e=>{var t=u(e),e=a(e),e=n(L.store).getRawEntityRecord("postType",e,t);return e||l});function a(e){return e.postType}function u(e){return e.postId}function ue(e){return null!=(e=i(e)._links?.["version-history"]?.[0]?.count)?e:0}function de(e){return null!=(e=i(e)._links?.["predecessor-version"]?.[0]?.id)?e:null}const pe=(0,R.createRegistrySelector)(n=>e=>{var t=a(e),e=u(e);return n(L.store).getEntityRecordEdits("postType",t,e)||l});function me(e,t){switch(t){case"type":return a(e);case"id":return u(e);default:var n=i(e);if(n.hasOwnProperty(t))return B(n[t])}}const ge=(e,t)=>{var n=pe(e);return n.hasOwnProperty(t)?{...me(e,t),...n[t]}:me(e,t)};function d(e,t){var n;return"content"===t?Re(e):(n=pe(e)).hasOwnProperty(t)?G.has(t)?ge(e,t):n[t]:me(e,t)}const he=(0,R.createRegistrySelector)(o=>(e,t)=>{var n,r;if(Q.includes(t)||"preview_link"===t)return r=a(e),e=u(e),n=o(L.store).getCurrentUser()?.id,(r=o(L.store).getAutosave(r,e,n))?B(r[t]):void 0});function fe(e){return"private"===d(e,"status")?"private":d(e,"password")?"password":"public"}function _e(e){return"pending"===i(e).status}function ve(e,t){t=t||i(e);return-1!==["publish","private"].indexOf(t.status)||"future"===t.status&&!(0,c.isInTheFuture)(new Date(Number((0,c.getDate)(t.date))-q))}function ye(e){return"future"===i(e).status&&!ve(e)}function be(e){var t=i(e);return ae(e)||-1===["publish","private","future"].indexOf(t.status)}function Ee(e){return!(r(e)||!d(e,"title")&&!d(e,"excerpt")&&Se(e)&&"native"!==D.Platform.OS)}function Se(e){var t=Ye(e);if(t.length){if(1<t.length)return!1;t=t[0].name;if(t!==(0,b.getDefaultBlockName)()&&t!==(0,b.getFreeformContentHandlerName)())return!1}return!Re(e)}const ke=(0,R.createRegistrySelector)(s=>t=>{if(!Ee(t))return!1;if(Ve(t))return!1;var e=a(t),n=u(t),r=s(L.store).hasFetchedAutosaves(e,n),o=s(L.store).getCurrentUser()?.id;const i=s(L.store).getAutosave(e,n,o);return!!r&&(!i||!!se(t)||["title","excerpt","meta"].some(e=>B(i[e])!==d(t,e)))});function Pe(e){e=d(e,"date"),e=new Date(Number((0,c.getDate)(e))-q);return(0,c.isInTheFuture)(e)}function we(e){var t=d(e,"date"),n=d(e,"modified"),e=i(e).status;return!("draft"!==e&&"auto-draft"!==e&&"pending"!==e||t!==n&&null!==t)}function Ce(e){return!!e.deleting.pending}const r=(0,R.createRegistrySelector)(n=>e=>{var t=a(e),e=u(e);return n(L.store).isSavingEntityRecord("postType",t,e)}),Te=(0,R.createRegistrySelector)(o=>e=>{var t=o(L.store).__experimentalGetEntitiesBeingSaved();const{type:n,id:r}=i(e);return t.some(e=>"postType"!==e.kind||e.name!==n||e.key!==r)}),xe=(0,R.createRegistrySelector)(n=>e=>{var t=a(e),e=u(e);return!n(L.store).getLastEntitySaveError("postType",t,e)}),Be=(0,R.createRegistrySelector)(n=>e=>{var t=a(e),e=u(e);return!!n(L.store).getLastEntitySaveError("postType",t,e)});function Ie(e){return!!r(e)&&Boolean(e.saving.options?.isAutosave)}function Ne(e){return!!r(e)&&Boolean(e.saving.options?.isPreview)}function Ae(t){if(!t.saving.pending&&!r(t)){let e=he(t,"preview_link");e&&"draft"!==i(t).status||(e=(e=d(t,"link"))&&(0,f.addQueryArgs)(e,{preview:!0}));t=d(t,"featured_media");return e&&t?(0,f.addQueryArgs)(e,{_thumbnail_id:t}):e}}function De(e){var t,e=Ye(e);if(2<e.length)return null;let n;switch(1===e.length&&"core/embed"===(n=e[0].name)&&(t=e[0].attributes?.providerNameSlug,["youku","vimeo"].includes(t)?n="core/video":["spotify","soundcloud"].includes(t)&&(n="core/audio")),n=2===e.length&&"core/paragraph"===e[1].name?e[0].name:n){case"core/image":return"image";case"core/quote":case"core/pullquote":return"quote";case"core/gallery":return"gallery";case"core/video":return"video";case"core/audio":return"audio";default:return null}}const Re=(0,R.createRegistrySelector)(n=>e=>{var t=u(e),e=a(e),e=n(L.store).getEditedEntityRecord("postType",e,t);if(e){if("function"==typeof e.content)return e.content(e);if(e.blocks)return(0,b.__unstableSerializeAndClean)(e.blocks);if(e.content)return e.content}return""});function Le(e){return r(e)&&!ve(e)&&"publish"===d(e,"status")}function Oe(e){e=d(e,"permalink_template");return Y.test(e)}function Ue(e){var t,n,r=Me(e);return r?({prefix:r,postName:t,suffix:n}=r,Oe(e)?r+t+n:r):null}function Fe(e){return d(e,"slug")||(0,f.cleanForSlug)(d(e,"title"))||u(e)}function Me(e){var t,n=d(e,"permalink_template");return n?(e=d(e,"slug")||d(e,"generated_slug"),[n,t]=n.split(Y),{prefix:n,postName:e,suffix:t}):null}function He(e){return e.postLock.isLocked}function ze(e){return 0<Object.keys(e.postSavingLock).length}function Ve(e){return 0<Object.keys(e.postAutosavingLock).length}function We(e){return e.postLock.isTakeover}function je(e){return e.postLock.user}function Ge(e){return e.postLock.activePostLock}function Ke(e){return Boolean(i(e)._links?.hasOwnProperty("gc:action-unfiltered-html"))}const $e=(0,R.createRegistrySelector)(e=>()=>!!e(j.store).get("core/edit-post","isPublishSidebarEnabled"));function Ye(e){return d(e,"blocks")||ne}function qe(e){return o()("select('core/editor').getEditorSelectionStart",{since:"5.8",alternative:"select('core/editor').getEditorSelection"}),d(e,"selection")?.selectionStart}function Qe(e){return o()("select('core/editor').getEditorSelectionStart",{since:"5.8",alternative:"select('core/editor').getEditorSelection"}),d(e,"selection")?.selectionEnd}function Xe(e){return d(e,"selection")}function Ze(e){return e.isReady}function Je(e){return e.editorSettings}function et(){return o()("select('core/editor').getStateBeforeOptimisticTransaction",{since:"5.7",hint:"No state history is kept on this store anymore"}),null}function tt(){return o()("select('core/editor').inSomeHistory",{since:"5.7",hint:"No state history is kept on this store anymore"}),!1}function s(r){return(0,R.createRegistrySelector)(n=>(e,...t)=>(o()("`gc.data.select( 'core/editor' )."+r+"`",{since:"5.3",alternative:"`gc.data.select( 'core/block-editor' )."+r+"`",version:"6.2"}),n(w.store)[r](...t)))}const nt=s("getBlockName"),rt=s("isBlockValid"),ot=s("getBlockAttributes"),it=s("getBlock"),st=s("getBlocks"),at=s("getClientIdsOfDescendants"),lt=s("getClientIdsWithDescendants"),ct=s("getGlobalBlockCount"),ut=s("getBlocksByClientId"),dt=s("getBlockCount"),pt=s("getBlockSelectionStart"),mt=s("getBlockSelectionEnd"),gt=s("getSelectedBlockCount"),ht=s("hasSelectedBlock"),ft=s("getSelectedBlockClientId"),_t=s("getSelectedBlock"),vt=s("getBlockRootClientId"),yt=s("getBlockHierarchyRootClientId"),bt=s("getAdjacentBlockClientId"),Et=s("getPreviousBlockClientId"),St=s("getNextBlockClientId"),kt=s("getSelectedBlocksInitialCaretPosition"),Pt=s("getMultiSelectedBlockClientIds"),wt=s("getMultiSelectedBlocks"),Ct=s("getFirstMultiSelectedBlockClientId"),Tt=s("getLastMultiSelectedBlockClientId"),xt=s("isFirstMultiSelectedBlock"),Bt=s("isBlockMultiSelected"),It=s("isAncestorMultiSelected"),Nt=s("getMultiSelectedBlocksStartClientId"),At=s("getMultiSelectedBlocksEndClientId"),Dt=s("getBlockOrder"),Rt=s("getBlockIndex"),Lt=s("isBlockSelected"),Ot=s("hasSelectedInnerBlock"),Ut=s("isBlockWithinSelection"),Ft=s("hasMultiSelection"),Mt=s("isMultiSelecting"),Ht=s("isSelectionEnabled"),zt=s("getBlockMode"),Vt=s("isTyping"),Wt=s("isCaretWithinFormattedText"),jt=s("getBlockInsertionPoint"),Gt=s("isBlockInsertionPointVisible"),Kt=s("isValidTemplate"),$t=s("getTemplate"),Yt=s("getTemplateLock"),qt=s("canInsertBlockType"),Qt=s("getInserterItems"),Xt=s("hasInserterItems"),Zt=s("getBlockListSettings");function Jt(e){return Je(e)?.defaultTemplateTypes}const en=V(e=>{return(Je(e)?.defaultTemplatePartAreas||[])?.map(e=>({...e,icon:te(e.icon)}))},e=>[Je(e)?.defaultTemplatePartAreas]),tn=V((e,t)=>{var e=Jt(e);return e&&null!=(e=Object.values(e).find(e=>e.slug===t))?e:l},(e,t)=>[Jt(e),t]);function nn(e,t){if(!t)return l;const{description:n,slug:r,title:o,area:i}=t;var{title:t,description:s}=tn(e,r),a="string"==typeof o?o:o?.rendered;return{title:a&&a!==r?a:t||r,description:("string"==typeof n?n:n?.raw)||s,icon:en(e).find(e=>i===e.area)?.icon||W}}const rn=(0,R.createRegistrySelector)(t=>e=>{e=a(e);return t(L.store).getPostType(e)?.labels?.singular_name});var p=window.gc.apiFetch,on=Va.n(p),C=window.gc.notices;function sn(e,t){return"gc-autosave-block-editor-post-"+(t?"auto-draft":e)}function an(e,t){window.sessionStorage.removeItem(sn(e,t))}var U=window.gc.i18n;const ln=(r,o,i)=>({dispatch:t})=>{if(t.setupEditorState(r),"auto-draft"===r.status&&i){let e;e="content"in o?o.content:r.content.raw;var n=(0,b.parse)(e),n=(0,b.synchronizeBlocksWithTemplate)(n,i);t.resetEditorBlocks(n,{__unstableShouldCreateUndoLevel:!1})}o&&Object.values(o).some(([e,t])=>{return t!==(null!=(t=r[e]?.raw)?t:r[e])})&&t.editPost(o)};function cn(){return{type:"TEAR_DOWN_EDITOR"}}function un(){return o()("gc.data.dispatch( 'core/editor' ).resetPost",{since:"6.0",version:"6.3",alternative:"Initialize the editor with the setupEditorState action"}),{type:"DO_NOTHING"}}function dn(){return o()("gc.data.dispatch( 'core/editor' ).updatePost",{since:"5.7",alternative:"Use the core entities store instead"}),{type:"DO_NOTHING"}}function pn(e){return{type:"SETUP_EDITOR_STATE",post:e}}const mn=(r,o)=>({select:e,registry:t})=>{var{id:e,type:n}=e.getCurrentPost();t.dispatch(L.store).editEntityRecord("postType",n,e,r,o)},gn=(i={})=>async({select:e,dispatch:t,registry:n})=>{var r,o;e.isEditedPostSaveable()&&(o=e.getEditedPostContent(),i.isAutosave||t.editPost({content:o},{undoIgnore:!0}),o={id:(r=e.getCurrentPost()).id,...n.select(L.store).getEntityRecordNonTransientEdits("postType",r.type,r.id),content:o},t({type:"REQUEST_POST_UPDATE_START",options:i}),await n.dispatch(L.store).saveEntityRecord("postType",r.type,o,i),t({type:"REQUEST_POST_UPDATE_FINISH",options:i}),(t=n.select(L.store).getLastEntitySaveError("postType",r.type,r.id))?(o=function(e){var{post:e,edits:t,error:n}=e;if(n&&"rest_autosave_no_changes"===n.code)return[];var r=["publish","private","future"],e=-1!==r.indexOf(e.status),o={publish:(0,U.__)("\u53d1\u5e03\u5931\u8d25\u3002"),private:(0,U.__)("\u53d1\u5e03\u5931\u8d25\u3002"),future:(0,U.__)("\u8ba1\u5212\u5931\u8d25\u3002")};let i=e||-1===r.indexOf(t.status)?(0,U.__)("\u66f4\u65b0\u5931\u8d25\u3002"):o[t.status];return[i=n.message&&!/<\/?[^>]*>/.test(n.message)?[i,n.message].join(" "):i,{id:K}]}({post:r,edits:o,error:t})).length&&n.dispatch(C.store).createErrorNotice(...o):((o=function(e){var{previousPost:t,post:n,postType:r}=e;if(e.options?.isAutosave)return[];if("trash"===n.status&&"trash"!==t.status)return[];t=(e=["publish","private","future"]).includes(t.status),e=e.includes(n.status);let o,i=null!=(a=r?.viewable)&&a,s;t||e?t&&!e?(o=r.labels.item_reverted_to_draft,i=!1):o=!t&&e?{publish:r.labels.item_published,private:r.labels.item_published_privately,future:r.labels.item_scheduled}[n.status]:r.labels.item_updated:(o=(0,U.__)("\u8349\u7a3f\u5df2\u4fdd\u5b58\u3002"),s=!0);var a=[];return i&&a.push({label:s?(0,U.__)("\u67e5\u770b\u9884\u89c8"):r.labels.view_item,url:n.link}),[o,{id:K,type:"snackbar",actions:a}]}({previousPost:r,post:t=e.getCurrentPost(),postType:await n.resolveSelect(L.store).getPostType(t.type),options:i})).length&&n.dispatch(C.store).createSuccessNotice(...o),i.isAutosave||n.dispatch(w.store).__unstableMarkLastChangeAsPersistent()))};function hn(){return o()("gc.data.dispatch( 'core/editor' ).refreshPost",{since:"6.0",version:"6.3",alternative:"Use the core entities store instead"}),{type:"DO_NOTHING"}}const fn=()=>async({select:t,dispatch:e,registry:n})=>{var r=t.getCurrentPostType(),r=await n.resolveSelect(L.store).getPostType(r),{rest_base:r,rest_namespace:o="gc/v2"}=(n.dispatch(C.store).removeNotice($),r);e({type:"REQUEST_POST_DELETE_START"});try{var i=t.getCurrentPost();await on()({path:`/${o}/${r}/`+i.id,method:"DELETE"}),await e.savePost()}catch(e){n.dispatch(C.store).createErrorNotice(...[(t={error:e}).error.message&&"unknown_error"!==t.error.code?t.error.message:(0,U.__)("\u79fb\u52a8\u81f3\u56de\u6536\u7ad9\u5931\u8d25"),{id:$}])}e({type:"REQUEST_POST_DELETE_FINISH"})},_n=({local:s=!1,...a}={})=>async({select:e,dispatch:t})=>{var n,r,o,i;s?(i=e.getCurrentPost(),n=e.isEditedPostNew(),r=e.getEditedPostAttribute("title"),o=e.getEditedPostAttribute("content"),e=e.getEditedPostAttribute("excerpt"),i=i.id,window.sessionStorage.setItem(sn(i,n),JSON.stringify({post_title:r,content:o,excerpt:e}))):await t.savePost({isAutosave:!0,...a})},vn=()=>({registry:e})=>{e.dispatch(L.store).redo()},yn=()=>({registry:e})=>{e.dispatch(L.store).undo()};function bn(){return o()("gc.data.dispatch( 'core/editor' ).createUndoLevel",{since:"6.0",version:"6.3",alternative:"Use the core entities store instead"}),{type:"DO_NOTHING"}}function En(e){return{type:"UPDATE_POST_LOCK",lock:e}}const Sn=()=>({registry:e})=>{e.dispatch(j.store).set("core/edit-post","isPublishSidebarEnabled",!0)},kn=()=>({registry:e})=>{e.dispatch(j.store).set("core/edit-post","isPublishSidebarEnabled",!1)};function Pn(e){return{type:"LOCK_POST_SAVING",lockName:e}}function wn(e){return{type:"UNLOCK_POST_SAVING",lockName:e}}function Cn(e){return{type:"LOCK_POST_AUTOSAVING",lockName:e}}function Tn(e){return{type:"UNLOCK_POST_AUTOSAVING",lockName:e}}const xn=(i,s={})=>({select:e,dispatch:t,registry:n})=>{var{__unstableShouldCreateUndoLevel:r,selection:o}=s,o={blocks:i,selection:o};if(!1!==r){var{id:r,type:e}=e.getCurrentPost();if(n.select(L.store).getEditedEntityRecord("postType",e,r).blocks===o.blocks)return void n.dispatch(L.store).__unstableCreateUndoLevel("postType",e,r);o.content=({blocks:e=[]})=>(0,b.__unstableSerializeAndClean)(e)}t.editPost(o)};function Bn(e){return{type:"UPDATE_EDITOR_SETTINGS",settings:e}}p=n=>(...t)=>({registry:e})=>{o()("`gc.data.dispatch( 'core/editor' )."+n+"`",{since:"5.3",alternative:"`gc.data.dispatch( 'core/block-editor' )."+n+"`",version:"6.2"}),e.dispatch(w.store)[n](...t)};const In=p("resetBlocks"),Nn=p("receiveBlocks"),An=p("updateBlock"),Dn=p("updateBlockAttributes"),Rn=p("selectBlock"),Ln=p("startMultiSelect"),On=p("stopMultiSelect"),Un=p("multiSelect"),Fn=p("clearSelectedBlock"),Mn=p("toggleSelection"),Hn=p("replaceBlocks"),zn=p("replaceBlock"),Vn=p("moveBlocksDown"),Wn=p("moveBlocksUp"),jn=p("moveBlockToPosition"),Gn=p("insertBlock"),Kn=p("insertBlocks"),$n=p("showInsertionPoint"),Yn=p("hideInsertionPoint"),qn=p("setTemplateValidity"),Qn=p("synchronizeTemplate"),Xn=p("mergeBlocks"),Zn=p("removeBlocks"),Jn=p("removeBlock"),er=p("toggleBlockMode"),tr=p("startTyping"),nr=p("stopTyping"),rr=p("enterFormattedText"),or=p("exitFormattedText"),ir=p("insertDefaultBlock"),sr=p("updateBlockListSettings"),ar={reducer:I,selectors:e,actions:t},F=(0,R.createReduxStore)("core/editor",{...ar});(0,R.register)(F);function lr(e){var a,t=Object.fromEntries(Object.entries(null!=(t=e.attributes)?t:{}).filter(([,{source:e}])=>"meta"===e).map(([e,{meta:t}])=>[e,t]));return Object.entries(t).length&&(e.edit=(a=t,(0,O.createHigherOrderComponent)(s=>({attributes:e,setAttributes:n,...t})=>{var r=(0,R.useSelect)(e=>e(F).getCurrentPostType(),[]);const[o,i]=(0,L.useEntityProp)("postType",r,"meta");r=(0,D.useMemo)(()=>({...e,...Object.fromEntries(Object.entries(a).map(([e,t])=>[e,o[t]]))}),[e,o]);return(0,D.createElement)(s,{attributes:r,setAttributes:e=>{var t=Object.fromEntries(Object.entries(null!=e?e:{}).filter(([e])=>e in a).map(([e,t])=>[a[e],t]));Object.entries(t).length&&i(t),n(e)},...t})},"withMetaAttributeSource")(e.edit))),e}(0,y.addFilter)("blocks.registerBlockType","core/editor/custom-sources-backwards-compatibility/shim-attribute-source",lr),(0,R.select)(b.store).getBlockTypes().map(({name:e})=>(0,R.select)(b.store).getBlockType(e)).forEach(lr);var cr={name:"users",className:"editor-autocompleters__user",triggerPrefix:"@",useItems(t){const e=(0,R.useSelect)(e=>{e=e(L.store).getUsers;return e({context:"view",search:encodeURIComponent(t)})},[t]);return[(0,D.useMemo)(()=>e?e.map(e=>{return{key:"user-"+e.slug,value:e,label:(t=(e=e).avatar_urls&&e.avatar_urls[24]?(0,D.createElement)("img",{className:"editor-autocompleters__user-avatar",alt:"",src:e.avatar_urls[24]}):(0,D.createElement)("span",{className:"editor-autocompleters__no-avatar"}),(0,D.createElement)(D.Fragment,null,t,(0,D.createElement)("span",{className:"editor-autocompleters__user-name"},e.name),(0,D.createElement)("span",{className:"editor-autocompleters__user-slug"},e.slug)))};var t}):[],[e])]},getOptionCompletion(e){return"@"+e.slug}};(0,y.addFilter)("editor.Autocomplete.completers","editor/autocompleters/set-default-completers",function(e=[]){return e.push({...cr}),e});class ur extends D.Component{constructor(e){super(e),this.needsAutosave=!(!e.isDirty||!e.isAutosaveable)}componentDidMount(){this.props.disableIntervalChecks||this.setAutosaveTimer()}componentDidUpdate(e){this.props.disableIntervalChecks?this.props.editsReference!==e.editsReference&&this.props.autosave():(this.props.interval!==e.interval&&(clearTimeout(this.timerId),this.setAutosaveTimer()),!this.props.isDirty||this.props.isAutosaving&&!e.isAutosaving?this.needsAutosave=!1:this.props.editsReference!==e.editsReference&&(this.needsAutosave=!0))}componentWillUnmount(){clearTimeout(this.timerId)}setAutosaveTimer(e=1e3*this.props.interval){this.timerId=setTimeout(()=>{this.autosaveTimerHandler()},e)}autosaveTimerHandler(){this.props.isAutosaveable?(this.needsAutosave&&(this.needsAutosave=!1,this.props.autosave()),this.setAutosaveTimer()):this.setAutosaveTimer(1e3)}render(){return null}}var dr=(0,O.compose)([(0,R.withSelect)((e,t)=>{var n=e(L.store)["getReferenceByDistinctEdits"],{isEditedPostDirty:e,isEditedPostAutosaveable:r,isAutosavingPost:o,getEditorSettings:i}=e(F),{interval:t=i().autosaveInterval}=t;return{editsReference:n(),isDirty:e(),isAutosaveable:r(),isAutosaving:o(),interval:t}}),(0,R.withDispatch)((t,n)=>({autosave(){var{autosave:e=t(F).autosave}=n;e()}}))])(ur),E=window.gc.richText,p=Va(4403),T=Va.n(p),pr=({children:e,isValid:t,level:n,href:r,onSelect:o})=>(0,D.createElement)("li",{className:T()("document-outline__item","is-"+n.toLowerCase(),{"is-invalid":!t})},(0,D.createElement)("a",{href:r,className:"document-outline__button",onClick:o},(0,D.createElement)("span",{className:"document-outline__emdash","aria-hidden":"true"}),(0,D.createElement)("strong",{className:"document-outline__level"},n),(0,D.createElement)("span",{className:"document-outline__item-content"},e)));const mr=(0,D.createElement)("em",null,(0,U.__)("\uff08\u7a7a\u6807\u9898\uff09")),gr=[(0,D.createElement)("br",{key:"incorrect-break"}),(0,D.createElement)("em",{key:"incorrect-message"},(0,U.__)("\uff08\u9519\u8bef\u7684\u6807\u9898\u7ea7\u522b\uff09"))],hr=[(0,D.createElement)("br",{key:"incorrect-break-h1"}),(0,D.createElement)("em",{key:"incorrect-message-h1"},(0,U.__)("\uff08\u60a8\u7684\u4e3b\u9898\u53ef\u80fd\u5df2\u7ecf\u4e3a\u6587\u7ae0\u6807\u9898\u4f7f\u7528\u4e86H1\uff09"))],fr=[(0,D.createElement)("br",{key:"incorrect-break-multiple-h1"}),(0,D.createElement)("em",{key:"incorrect-message-multiple-h1"},(0,U.__)("\uff08\u4e0d\u63a8\u8350\u4f7f\u7528\u591a\u4e2aH1\u6807\u9898\uff09"))],_r=(e=[])=>e.flatMap((e={})=>"core/heading"===e.name?{...e,level:e.attributes.level,isEmpty:vr(e)}:_r(e.innerBlocks)),vr=e=>!e.attributes.content||0===e.attributes.content.length;var yr=(0,O.compose)((0,R.withSelect)(e=>{var t=e(w.store)["getBlocks"],n=e(F)["getEditedPostAttribute"],e=e(L.store)["getPostType"],e=e(n("type"));return{title:n("title"),blocks:t(),isTitleSupported:null!=(n=e?.supports?.title)&&n}}))(({blocks:e=[],title:t,onSelect:o,isTitleSupported:n,hasOutlineItemsDisabled:i})=>{e=_r(e);const s=(0,R.useDispatch)(w.store)["selectBlock"];if(e.length<1)return null;let a=1;var r=document.querySelector(".editor-post-title__input");const l=n&&t&&r,c=1<e.reduce((e,t)=>({...e,[t.level]:(e[t.level]||0)+1}),{})[1];return(0,D.createElement)("div",{className:"document-outline"},(0,D.createElement)("ul",null,l&&(0,D.createElement)(pr,{level:(0,U.__)("\u6807\u9898"),isValid:!0,onSelect:o,href:"#"+r.id,isDisabled:i},t),e.map((e,t)=>{var n=e.level>a+1,r=!(e.isEmpty||n||!e.level||1===e.level&&(c||l));return a=e.level,(0,D.createElement)(pr,{key:t,level:"H"+e.level,isValid:r,isDisabled:i,href:"#block-"+e.clientId,onSelect:()=>{s(e.clientId),o?.()}},e.isEmpty?mr:(0,E.getTextContent)((0,E.create)({html:e.attributes.content})),n&&gr,1===e.level&&c&&fr,l&&1===e.level&&!c&&hr)})))});var br=(0,R.withSelect)(e=>({blocks:e(w.store).getBlocks()}))(function({blocks:e,children:t}){return e.filter(e=>"core/heading"===e.name).length<1?null:t}),Er=window.gc.keyboardShortcuts;var Sr=function({resetBlocksOnSave:t}){const{resetEditorBlocks:n,savePost:r}=(0,R.useDispatch)(F),{isEditedPostDirty:o,getPostEdits:i,isPostSavingLocked:s}=(0,R.useSelect)(F);return(0,Er.useShortcut)("core/editor/save",e=>{e.preventDefault(),s()||o()&&(t&&(e=i()).content&&"string"==typeof e.content&&(e=(0,b.parse)(e.content),n(e)),r())}),null};var kr=function(){const{redo:t,undo:n}=(0,R.useDispatch)(F);return(0,Er.useShortcut)("core/editor/undo",e=>{n(),e.preventDefault()}),(0,Er.useShortcut)("core/editor/redo",e=>{t(),e.preventDefault()}),(0,D.createElement)(Sr,null)};function Pr(){return(0,D.createElement)(Sr,{resetBlocksOnSave:!0})}var k=window.gc.keycodes;var wr=function(){const e=(0,R.useDispatch)(Er.store)["registerShortcut"];return(0,D.useEffect)(()=>{e({name:"core/editor/save",category:"global",description:(0,U.__)("\u4fdd\u5b58\u60a8\u7684\u66f4\u6539\u3002"),keyCombination:{modifier:"primary",character:"s"}}),e({name:"core/editor/undo",category:"global",description:(0,U.__)("\u64a4\u9500\u60a8\u7684\u4e0a\u4e00\u4e2a\u66f4\u6539\u3002"),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/editor/redo",category:"global",description:(0,U.__)("\u91cd\u505a\u60a8\u64a4\u9500\u7684\u64cd\u4f5c\u3002"),keyCombination:{modifier:"primaryShift",character:"z"},aliases:(0,k.isAppleOS)()?[]:[{modifier:"primary",character:"y"}]})},[e]),(0,D.createElement)(w.BlockEditorKeyboardShortcuts.Register,null)},M=window.gc.components,Cr=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M15.6 6.5l-1.1 1 2.9 3.3H8c-.9 0-1.7.3-2.3.9-1.4 1.5-1.4 4.2-1.4 5.6v.2h1.5v-.3c0-1.1 0-3.5 1-4.5.3-.3.7-.5 1.3-.5h9.2L14.5 15l1.1 1.1 4.6-4.6-4.6-5z"})),Tr=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M18.3 11.7c-.6-.6-1.4-.9-2.3-.9H6.7l2.9-3.3-1.1-1-4.5 5L8.5 16l1-1-2.7-2.7H16c.5 0 .9.2 1.3.5 1 1 1 3.4 1 4.5v.3h1.5v-.2c0-1.5 0-4.3-1.5-5.7z"}));var xr=(0,D.forwardRef)(function(e,t){var n=(0,k.isAppleOS)()?k.displayShortcut.primaryShift("z"):k.displayShortcut.primary("y"),r=(0,R.useSelect)(e=>e(F).hasEditorRedo(),[]),o=(0,R.useDispatch)(F)["redo"];return(0,D.createElement)(M.Button,{...e,ref:t,icon:(0,U.isRTL)()?Tr:Cr,label:(0,U.__)("\u91cd\u505a"),shortcut:n,"aria-disabled":!r,onClick:r?o:void 0,className:"editor-history__redo"})});var Br=(0,D.forwardRef)(function(e,t){var n=(0,R.useSelect)(e=>e(F).hasEditorUndo(),[]),r=(0,R.useDispatch)(F)["undo"];return(0,D.createElement)(M.Button,{...e,ref:t,icon:(0,U.isRTL)()?Cr:Tr,label:(0,U.__)("\u64a4\u9500"),shortcut:k.displayShortcut.primary("z"),"aria-disabled":!n,onClick:n?r:void 0,className:"editor-history__undo"})});var Ir=(0,O.compose)([(0,R.withSelect)(e=>({isValid:e(w.store).isValidTemplate()})),(0,R.withDispatch)(e=>{const{setTemplateValidity:t,synchronizeTemplate:n}=e(w.store);return{resetTemplateValidity:()=>t(!0),synchronizeTemplate:n}})])(function({isValid:e,...t}){return e?null:(0,D.createElement)(M.Notice,{className:"editor-template-validation-notice",isDismissible:!1,status:"warning",actions:[{label:(0,U.__)("\u4fdd\u6301\u539f\u6837"),onClick:t.resetTemplateValidity},{label:(0,U.__)("\u91cd\u7f6e\u6a21\u677f"),onClick:()=>{window.confirm((0,U.__)("\u91cd\u7f6e\u6a21\u677f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e22\u5931\u5185\u5bb9\uff0c\u60a8\u5e0c\u671b\u7ee7\u7eed\u5417\uff1f"))&&t.synchronizeTemplate()}}]},(0,U.__)("\u6587\u7ae0\u5185\u5bb9\u4e0e\u5206\u914d\u7ed9\u6587\u7ae0\u7c7b\u578b\u7684\u6a21\u677f\u4e0d\u5339\u914d\u3002"))});var Nr=(0,O.compose)([(0,R.withSelect)(e=>({notices:e(C.store).getNotices()})),(0,R.withDispatch)(e=>({onRemove:e(C.store).removeNotice}))])(function({notices:e,onRemove:t}){var n=e.filter(({isDismissible:e,type:t})=>e&&"default"===t),e=e.filter(({isDismissible:e,type:t})=>!e&&"default"===t);return(0,D.createElement)(D.Fragment,null,(0,D.createElement)(M.NoticeList,{notices:e,className:"components-editor-notices__pinned"}),(0,D.createElement)(M.NoticeList,{notices:n,className:"components-editor-notices__dismissible",onRemove:t},(0,D.createElement)(Ir,null)))});function Ar(){var e=(0,R.useSelect)(e=>e(C.store).getNotices(),[]),t=(0,R.useDispatch)(C.store)["removeNotice"],e=e.filter(({type:e})=>"snackbar"===e);return(0,D.createElement)(M.SnackbarList,{notices:e,className:"components-editor-notices__snackbar",onRemove:t})}var H=window.gc.htmlEntities;function Dr({record:e,checked:t,onChange:n,closePanel:r}){const{name:o,kind:i,title:s,key:a}=e,l=(0,R.useSelect)(e=>{var{blocks:t=[]}=e(L.store).getEditedEntityRecord(i,o,a),e=e(w.store).getBlockParents(t[0]?.clientId);return e[e.length-1]},[]);var e=(0,R.useSelect)(e=>{var t;return"postType"!==i||"gc_template"!==o?s:(t=e(L.store).getEditedEntityRecord(i,o,a),e(F).__experimentalGetTemplateInfo(t).title)},[o,i,s,a]),c=(0,R.useSelect)(e=>{return e(w.store).getSelectedBlockClientId()===l},[l]),u=c?(0,U.__)("\u5df2\u9009\u4e2d"):(0,U.__)("\u9009\u62e9");const d=(0,R.useDispatch)(w.store)["selectBlock"];var p=(0,D.useCallback)(()=>d(l),[l]),m=(0,D.useCallback)(()=>{d(l),r()},[l]);return(0,D.createElement)(M.PanelRow,null,(0,D.createElement)(M.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,D.createElement)("strong",null,(0,H.decodeEntities)(e)||(0,U.__)("\u672a\u547d\u540d")),checked:t,onChange:n}),l?(0,D.createElement)(D.Fragment,null,(0,D.createElement)(M.Button,{onClick:p,className:"entities-saved-states__find-entity",disabled:c},u),(0,D.createElement)(M.Button,{onClick:m,className:"entities-saved-states__find-entity-small",disabled:c},u)):null)}function Rr({list:e,unselectedEntities:n,setUnselectedEntities:r,closePanel:o}){var t=e.length;const i=e[0];var s=(0,R.useSelect)(e=>e(L.store).getEntityConfig(i.kind,i.name),[i.kind,i.name]),a=i["name"];let l=s.label;"gc_template_part"===a&&(l=(0,U.__)("\u6a21\u7248\u7ec4\u4ef6"));s=function(e,t){switch(e){case"site":return 1===t?(0,U.__)("\u6b64\u66f4\u6539\u5c06\u5f71\u54cd\u6574\u4e2a\u7cfb\u7edf\u3002"):(0,U.__)("\u8fd9\u4e9b\u66f4\u6539\u5c06\u5f71\u54cd\u60a8\u7684\u6574\u4e2a\u7cfb\u7edf\u3002");case"gc_template":return(0,U.__)("\u6b64\u66f4\u6539\u5c06\u5f71\u54cd\u4f7f\u7528\u6b64\u6a21\u677f\u7684\u9875\u9762\u548c\u6587\u7ae0\u3002");case"page":case"post":return(0,U.__)("\u4ee5\u4e0b\u5185\u5bb9\u5df2\u88ab\u4fee\u6539\u3002")}}(a,t);return(0,D.createElement)(M.PanelBody,{title:l,initialOpen:!0},s&&(0,D.createElement)(M.PanelRow,null,s),e.map(t=>(0,D.createElement)(Dr,{key:t.key||t.property,record:t,checked:!n.some(e=>e.kind===t.kind&&e.name===t.name&&e.key===t.key&&e.property===t.property),onChange:e=>r(t,e),closePanel:o})))}const Lr={title:(0,U.__)("\u6807\u9898"),description:(0,U.__)("\u526f\u6807\u9898"),site_logo:(0,U.__)("Logo"),site_icon:(0,U.__)("\u56fe\u6807"),show_on_front:(0,U.__)("\u5728\u524d\u9762\u663e\u793a"),page_on_front:(0,U.__)("\u524d\u4e00\u9875"),posts_per_page:(0,U.__)("\u6bcf\u9875\u6700\u591a\u6587\u7ae0\u6570"),default_comment_status:(0,U.__)("\u5141\u8bb8\u5bf9\u65b0\u6587\u7ae0\u53d1\u8868\u8bc4\u8bba")},Or=()=>{var e=(0,R.useSelect)(e=>{var t=e(L.store).__experimentalGetDirtyEntityRecords().filter(e=>!("root"===e.kind&&"site"===e.name)),n=[];for(const r in e(L.store).getEntityRecordEdits("root","site"))n.push({kind:"root",name:"site",title:Lr[r]||r,property:r});return{dirtyEntityRecords:[...t,...n]}},[])["dirtyEntityRecords"];const[i,s]=(0,D.useState)([]);return{dirtyEntityRecords:e,isDirty:0<e.length-i.length,setUnselectedEntities:({kind:t,name:n,key:r,property:o},e)=>{e?s(i.filter(e=>e.kind!==t||e.name!==n||e.key!==r||e.property!==o)):s([...i,{kind:t,name:n,key:r,property:o}])},unselectedEntities:i}},Ur=[{kind:"postType",name:"gc_navigation"}];function Fr({close:e}){var t=Or();return(0,D.createElement)(Mr,{close:e,...t})}function Mr({additionalPrompt:e=void 0,close:n,onSave:r=function(e){return e},saveEnabled:t=void 0,saveLabel:o=(0,U.__)("\u4fdd\u5b58"),dirtyEntityRecords:s,isDirty:i,setUnselectedEntities:a,unselectedEntities:l}){var c=(0,D.useRef)();const{editEntityRecord:u,saveEditedEntityRecord:d,__experimentalSaveSpecifiedEntityEdits:p}=(0,R.useDispatch)(L.store),m=(0,R.useDispatch)(w.store)["__unstableMarkLastChangeAsPersistent"],{createSuccessNotice:g,createErrorNotice:h,removeNotice:f}=(0,R.useDispatch)(C.store),{site:_,gc_template:v,gc_template_part:y,...b}=s.reduce((e,t)=>{var n=t["name"];return e[n]||(e[n]=[]),e[n].push(t),e},{});var E=[_,v,y,...Object.values(b)].filter(Array.isArray),t=null!=t?t:i;const S=(0,D.useCallback)(()=>n(),[n]);var[k,P]=(0,O.__experimentalUseDialog)({onClose:()=>S()});return(0,D.createElement)("div",{ref:k,...P,className:"entities-saved-states__panel"},(0,D.createElement)(M.Flex,{className:"entities-saved-states__panel-header",gap:2},(0,D.createElement)(M.FlexItem,{isBlock:!0,as:M.Button,ref:c,variant:"primary",disabled:!t,onClick:()=>{const t="site-editor-save-success";f(t);var e=s.filter(({kind:t,name:n,key:r,property:o})=>!l.some(e=>e.kind===t&&e.name===n&&e.key===r&&e.property===o));n(e);const o=[],i=[];e.forEach(({kind:t,name:n,key:e,property:r})=>{"root"===t&&"site"===n?o.push(r):(Ur.some(e=>e.kind===t&&e.name===n)&&u(t,n,e,{status:"publish"}),i.push(d(t,n,e)))}),o.length&&i.push(p("root","site",void 0,o)),m(),Promise.all(i).then(e=>r(e)).then(e=>{e.some(e=>void 0===e)?h((0,U.__)("\u4fdd\u5b58\u5931\u8d25\u3002")):g((0,U.__)("\u7cfb\u7edf\u5df2\u66f4\u65b0\u3002"),{type:"snackbar",id:t})}).catch(e=>h((0,U.__)("\u4fdd\u5b58\u5931\u8d25\u3002")+" "+e))},className:"editor-entities-saved-states__save-button"},o),(0,D.createElement)(M.FlexItem,{isBlock:!0,as:M.Button,variant:"secondary",onClick:S},(0,U.__)("\u53d6\u6d88"))),(0,D.createElement)("div",{className:"entities-saved-states__text-prompt"},(0,D.createElement)("strong",null,(0,U.__)("\u51c6\u5907\u597d\u4fdd\u5b58\u4e86\u5417\uff1f")),e,i&&(0,D.createElement)("p",null,(0,U.__)("\u4ee5\u4e0b\u66f4\u6539\u4f1a\u5f71\u54cd\u5230\u60a8\u7684\u7cfb\u7edf\u3001\u6a21\u677f\u548c\u5185\u5bb9\u3002"))),E.map(e=>(0,D.createElement)(Rr,{key:e[0].name,list:e,closePanel:S,unselectedEntities:l,setUnselectedEntities:a})))}function Hr(){try{return(0,R.select)(F).getEditedPostContent()}catch(e){}}function zr({text:e,children:t}){e=(0,O.useCopyToClipboard)(e);return(0,D.createElement)(M.Button,{variant:"secondary",ref:e},t)}class Vr extends D.Component{constructor(){super(...arguments),this.state={error:null}}componentDidCatch(e){(0,y.doAction)("editor.ErrorBoundary.errorLogged",e)}static getDerivedStateFromError(e){return{error:e}}render(){var e=this.state["error"];return e?(e=[(0,D.createElement)(zr,{key:"copy-post",text:Hr},(0,U.__)("\u590d\u5236\u6587\u7ae0\u6587\u672c")),(0,D.createElement)(zr,{key:"copy-error",text:e.stack},(0,U.__)("\u590d\u5236\u9519\u8bef"))],(0,D.createElement)(w.Warning,{className:"editor-error-boundary",actions:e},(0,U.__)("\u7f16\u8f91\u5668\u9047\u5230\u4e86\u672a\u77e5\u9519\u8bef\u3002"))):this.props.children}}var Wr=Vr;const jr=window.requestIdleCallback||window.requestAnimationFrame;let Gr;function Kr(){const{postId:s,isEditedPostNew:a,hasRemoteAutosave:l}=(0,R.useSelect)(e=>({postId:e(F).getCurrentPostId(),isEditedPostNew:e(F).isEditedPostNew(),hasRemoteAutosave:!!e(F).getEditorSettings().autosave}),[]),c=(0,R.useSelect)(F)["getEditedPostAttribute"],{createWarningNotice:u,removeNotice:d}=(0,R.useDispatch)(C.store),{editPost:p,resetEditorBlocks:m}=(0,R.useDispatch)(F);(0,D.useEffect)(()=>{t=s,n=a;let e=window.sessionStorage.getItem(sn(t,n));if(e){try{e=JSON.parse(e)}catch{return}var{post_title:t,content:n,excerpt:r}=e;const o={title:t,content:n,excerpt:r};if(Object.keys(o).some(e=>o[e]!==c(e))){if(!l){const i="gcEditorAutosaveRestore";u((0,U.__)("\u6b64\u6587\u7ae0\u5728\u60a8\u6d4f\u89c8\u5668\u4e2d\u7684\u5907\u4efd\u4e0e\u4ee5\u4e0b\u7248\u672c\u4e0d\u540c\u3002"),{id:i,actions:[{label:(0,U.__)("\u6062\u590d\u6b64\u5907\u4efd"),onClick(){const{content:e,...t}=o;p(t),m((0,b.parse)(o.content)),d(i)}}]})}}else an(s,a)}},[a,s])}var $r=(0,O.ifCondition)(()=>{if(void 0===Gr)try{window.sessionStorage.setItem("__gcEditorTestSessionStorage",""),window.sessionStorage.removeItem("__gcEditorTestSessionStorage"),Gr=!0}catch{Gr=!1}return Gr})(function(){const e=(0,R.useDispatch)(F)["autosave"];var t=(0,D.useCallback)(()=>{jr(()=>e({local:!0}))},[]);Kr();{const{postId:r,isEditedPostNew:o,isDirty:i,isAutosaving:s,didError:a}=(0,R.useSelect)(e=>({postId:e(F).getCurrentPostId(),isEditedPostNew:e(F).isEditedPostNew(),isDirty:e(F).isEditedPostDirty(),isAutosaving:e(F).isAutosavingPost(),didError:e(F).didPostSaveRequestFail()}),[]),l=(0,D.useRef)(i),c=(0,D.useRef)(s),u=((0,D.useEffect)(()=>{!a&&(c.current&&!s||l.current&&!i)&&an(r,o),l.current=i,c.current=s},[i,s,a]),(0,O.usePrevious)(o)),d=(0,O.usePrevious)(r);(0,D.useEffect)(()=>{d===r&&u&&!o&&an(r,!0)},[o,r])}var n=(0,R.useSelect)(e=>e(F).getEditorSettings().localAutosaveInterval,[]);return(0,D.createElement)(dr,{interval:n,autosave:t})});var Yr=function({children:e}){return(0,R.useSelect)(e=>{var t=e(F)["getEditedPostAttribute"],e=e(L.store)["getPostType"];return!!e(t("type"))?.supports?.["page-attributes"]},[])?e:null};var S=(0,R.withSelect)(e=>{var t=e(F)["getEditedPostAttribute"],e=e(L.store)["getPostType"];return{postType:e(t("type"))}})(function({postType:t,children:e,supportKeys:n}){let r=!0;return(r=t?(Array.isArray(n)?n:[n]).some(e=>!!t.supports[e]):r)?e:null});const qr=({onUpdateOrder:n,order:e=0})=>{const[t,r]=(0,D.useState)(null);e=null===t?e:t;return(0,D.createElement)(M.Flex,null,(0,D.createElement)(M.FlexBlock,null,(0,D.createElement)(M.__experimentalNumberControl,{label:(0,U.__)("\u6392\u5e8f"),value:e,onChange:e=>{r(e);var t=Number(e);Number.isInteger(t)&&""!==e.trim?.()&&n(Number(e))},labelPosition:"side",onBlur:()=>{r(null)}})))};var Qr=(0,O.compose)([(0,R.withSelect)(e=>({order:e(F).getEditedPostAttribute("menu_order")})),(0,R.withDispatch)(t=>({onUpdateOrder(e){t(F).editPost({menu_order:e})}}))])(function(e){return(0,D.createElement)(S,{supportKeys:"page-attributes"},(0,D.createElement)(qr,{...e}))}),I=Va(4793),Xr=Va.n(I);function Zr(e){e=e.map(e=>({children:[],parent:null,...e}));if(e.some(({parent:e})=>null===e))return e;const n=e.reduce((e,t)=>{var n=t["parent"];return e[n]||(e[n]=[]),e[n].push(t),e},{}),r=e=>e.map(e=>{var t=n[e.id];return{...e,children:t&&t.length?r(t):[]}});return r(n[0]||[])}const P=e=>(0,H.decodeEntities)(e),Jr=e=>({...e,name:P(e.name)}),eo=e=>(null!=e?e:[]).map(Jr);function to(e){return e?.title?.rendered?(0,H.decodeEntities)(e.title.rendered):`#${e.id} (${(0,U.__)("\u65e0\u6807\u9898")})`}const no=(e,t)=>{e=Xr()(e||"").toLowerCase(),t=Xr()(t||"").toLowerCase();return e===t?0:e.startsWith(t)?e.length:1/0};var ro=function(){const t=(0,R.useDispatch)(F)["editPost"],[a,n]=(0,D.useState)(!1),{isHierarchical:e,parentPost:o,parentPostId:i,items:r,postType:s}=(0,R.useSelect)(e=>{var{getPostType:t,getEntityRecords:n,getEntityRecord:r}=e(L.store),{getCurrentPostId:e,getEditedPostAttribute:o}=e(F),i=o("type"),o=o("parent"),t=t(i),e=e(),s=null!=(s=t?.hierarchical)&&s,e={per_page:100,exclude:e,parent_exclude:e,orderby:"menu_order",order:"asc",_fields:"id,title,parent"};return a&&(e.search=a),{isHierarchical:s,parentPostId:o,parentPost:o?r("postType",i,o):null,items:s?n("postType",i,e):[],postType:t}},[a]);var l=s?.labels?.parent_item_colon;const c=r||[];var u=(0,D.useMemo)(()=>{const n=(e,t=0)=>{return e.map(e=>[{value:e.id,label:"\u2014 ".repeat(t)+(0,H.decodeEntities)(e.name),rawName:e.name},...n(e.children||[],t+1)]).sort(([e],[t])=>{e=no(e.rawName,a);return no(t.rawName,a)<=e?1:-1}).flat()};let e=c.map(e=>({id:e.id,parent:e.parent,name:to(e)}));a||(e=Zr(e));var t=n(e),r=t.find(e=>e.value===i);return o&&!r&&t.unshift({value:i,label:to(o)}),t},[c,a]);return e&&l?(0,D.createElement)(M.ComboboxControl,{__nextHasNoMarginBottom:!0,className:"editor-page-attributes__parent",label:l,value:i,options:u,onFilterValueChange:(0,O.debounce)(e=>{n(e)},300),onChange:e=>{t({parent:e})}}):null};var oo=function(){var{availableTemplates:e,selectedTemplate:t,isViewable:n}=(0,R.useSelect)(e=>{var{getEditedPostAttribute:t,getEditorSettings:n,getCurrentPostType:r}=e(F),e=e(L.store)["getPostType"];return{selectedTemplate:t("template"),availableTemplates:n().availableTemplates,isViewable:null!=(t=e(r())?.viewable)&&t}},[]);const r=(0,R.useDispatch)(F)["editPost"];return n&&e&&Object.keys(e).length?(0,D.createElement)(M.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,U.__)("\u6a21\u677f\uff1a"),value:t,onChange:e=>{r({template:e||""})},options:Object.entries(null!=e?e:{}).map(([e,t])=>({value:e,label:t}))}):null};const io={who:"authors",per_page:50,_fields:"id,name",context:"view"};function so(){const[i,t]=(0,D.useState)(),{authorId:e,isLoading:n,authors:r,postAuthor:o}=(0,R.useSelect)(e=>{var{getUser:t,getUsers:n,isResolving:r}=e(L.store),e=e(F)["getEditedPostAttribute"],t=t(e("author"),{context:"view"}),o={...io};return i&&(o.search=i),{authorId:e("author"),postAuthor:t,authors:n(o),isLoading:r("core","getUsers",[o])}},[i]),s=(0,R.useDispatch)(F)["editPost"];var a=(0,D.useMemo)(()=>{var e=(null!==r&&void 0!==r?r:[]).map(e=>({value:e.id,label:(0,H.decodeEntities)(e.name)}));return e.findIndex(({value:e})=>o?.id===e)<0&&o?[{value:o.id,label:(0,H.decodeEntities)(o.name)},...e]:e},[r,o]);return o?(0,D.createElement)(M.ComboboxControl,{__nextHasNoMarginBottom:!0,label:(0,U.__)("\u4f5c\u8005"),options:a,value:e,onFilterValueChange:(0,O.debounce)(e=>{t(e)},300),onChange:e=>{e&&s({author:e})},isLoading:n,allowReset:!1}):null}function ao(){const t=(0,R.useDispatch)(F)["editPost"],{postAuthor:e,authors:n}=(0,R.useSelect)(e=>({postAuthor:e(F).getEditedPostAttribute("author"),authors:e(L.store).getUsers(io)}),[]);var r=(0,D.useMemo)(()=>(null!==n&&void 0!==n?n:[]).map(e=>({value:e.id,label:(0,H.decodeEntities)(e.name)})),[n]);return(0,D.createElement)(M.SelectControl,{__nextHasNoMarginBottom:!0,className:"post-author-selector",label:(0,U.__)("\u4f5c\u8005"),options:r,onChange:e=>{e=Number(e);t({author:e})},value:e})}var lo=function(){return(0,R.useSelect)(e=>{return 25<=e(L.store).getUsers(io)?.length},[])?(0,D.createElement)(so,null):(0,D.createElement)(ao,null)};function co({children:e}){var{hasAssignAuthorAction:t,hasAuthors:n}=(0,R.useSelect)(e=>{var t=e(F).getCurrentPost(),e=e(L.store).getUsers(io);return{hasAssignAuthorAction:null!=(t=t._links?.["gc:action-assign-author"])&&t,hasAuthors:1<=e?.length}},[]);return t&&n?(0,D.createElement)(S,{supportKeys:"author"},e):null}var uo=(0,O.compose)([(0,R.withSelect)(e=>({commentStatus:e(F).getEditedPostAttribute("comment_status")})),(0,R.withDispatch)(e=>({editPost:e(F).editPost}))])(function({commentStatus:e="open",...t}){return(0,D.createElement)(M.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,U.__)("\u5141\u8bb8\u8bc4\u8bba"),checked:"open"===e,onChange:()=>t.editPost({comment_status:"open"===e?"closed":"open"})})});var po=(0,O.compose)([(0,R.withSelect)(e=>({excerpt:e(F).getEditedPostAttribute("excerpt")})),(0,R.withDispatch)(t=>({onUpdateExcerpt(e){t(F).editPost({excerpt:e})}}))])(function({excerpt:e,onUpdateExcerpt:t}){return(0,D.createElement)("div",{className:"editor-post-excerpt"},(0,D.createElement)(M.TextareaControl,{__nextHasNoMarginBottom:!0,label:(0,U.__)("\u64b0\u5199\u6458\u8981\uff08\u53ef\u9009\uff09"),className:"editor-post-excerpt__textarea",onChange:e=>t(e),value:e}),(0,D.createElement)(M.ExternalLink,{href:(0,U.__)("https://www.gechiui.com/support/page-post-settings-sidebar/#excerpt")},(0,U.__)("\u4e86\u89e3\u5173\u4e8e\u4eba\u5de5\u6458\u8981\u7ec6\u8282")))});var mo=function(e){return(0,D.createElement)(S,{...e,supportKeys:"excerpt"})},go=window.gc.blob;var ho=(0,R.withSelect)(e=>{var t=e(L.store)["getThemeSupports"],e=e(F)["getEditedPostAttribute"];return{postType:e("type"),themeSupports:t()}})(function({themeSupports:n,children:e,postType:r,supportKeys:t}){return(Array.isArray(t)?t:[t]).some(e=>{var t=null!=(t=n?.[e])&&t;return"post-thumbnails"===e&&Array.isArray(t)?t.includes(r):t})?e:null});var fo=function(e){return(0,D.createElement)(ho,{supportKeys:"post-thumbnails"},(0,D.createElement)(S,{...e,supportKeys:"thumbnail"}))};const _o=["image"],vo=(0,U.__)("\u7279\u8272\u56fe\u7247"),yo=(0,U.__)("\u8bbe\u7f6e\u7279\u8272\u56fe\u7247"),bo=(0,D.createElement)("p",null,(0,U.__)("\u8981\u7f16\u8f91\u7279\u8272\u56fe\u7247\uff0c\u60a8\u9700\u8981\u6709\u4e0a\u4f20\u5a92\u4f53\u7684\u6743\u9650\u3002"));var e=(0,R.withSelect)(e=>{var{getMedia:t,getPostType:n}=e(L.store),{getCurrentPostId:e,getEditedPostAttribute:r}=e(F),o=r("featured_media");return{media:o?t(o,{context:"view"}):null,currentPostId:e(),postType:n(r("type")),featuredImageId:o}}),t=(0,R.withDispatch)((e,{noticeOperations:t},{select:n})=>{const r=e(F)["editPost"];return{onUpdateImage(e){r({featured_media:e.id})},onDropImage(e){n(w.store).getSettings().mediaUpload({allowedTypes:["image"],filesList:e,onFileChange([e]){r({featured_media:e.id})},onError(e){t.removeAllNotices(),t.createErrorNotice(e)}})},onRemoveImage(){r({featured_media:0})}}}),Eo=(0,O.compose)(M.withNotices,e,t,(0,M.withFilters)("editor.PostFeaturedImage"))(function({currentPostId:e,featuredImageId:t,onUpdateImage:n,onRemoveImage:r,media:o,postType:i,noticeUI:s,noticeOperations:a}){const l=(0,D.useRef)(),[c,u]=(0,D.useState)(!1),d=(0,R.useSelect)(e=>e(w.store).getSettings().mediaUpload,[]),{mediaWidth:p,mediaHeight:m,mediaSourceUrl:g}=(e=e,(h=o)?(f=(0,y.applyFilters)("editor.PostFeaturedImage.imageSize","large",h.id,e))in(null!=(_=h?.media_details?.sizes)?_:{})?{mediaWidth:h.media_details.sizes[f].width,mediaHeight:h.media_details.sizes[f].height,mediaSourceUrl:h.media_details.sizes[f].source_url}:(_=(0,y.applyFilters)("editor.PostFeaturedImage.imageSize","thumbnail",h.id,e))in(null!=(f=h?.media_details?.sizes)?f:{})?{mediaWidth:h.media_details.sizes[_].width,mediaHeight:h.media_details.sizes[_].height,mediaSourceUrl:h.media_details.sizes[_].source_url}:{mediaWidth:h.media_details.width,mediaHeight:h.media_details.height,mediaSourceUrl:h.source_url}:{});var h,f,_;function v(e){d({allowedTypes:["image"],filesList:e,onFileChange([e]){(0,go.isBlobURL)(e?.url)?u(!0):(n(e),u(!1))},onError(e){a.removeAllNotices(),a.createErrorNotice(e)}})}return(0,D.createElement)(fo,null,s,(0,D.createElement)("div",{className:"editor-post-featured-image"},o&&(0,D.createElement)("div",{id:`editor-post-featured-image-${t}-describedby`,className:"hidden"},o.alt_text&&(0,U.sprintf)((0,U.__)("\u5f53\u524d\u56fe\u7247\uff1a%s"),o.alt_text),!o.alt_text&&(0,U.sprintf)((0,U.__)("\u5f53\u524d\u56fe\u7247\u6ca1\u6709\u66ff\u4ee3\u6587\u5b57\u3002\u6587\u4ef6\u540d\u4e3a\uff1a%s"),o.media_details.sizes?.full?.file||o.slug)),(0,D.createElement)(w.MediaUploadCheck,{fallback:bo},(0,D.createElement)(w.MediaUpload,{title:i?.labels?.featured_image||vo,onSelect:n,unstableFeaturedImageFlow:!0,allowedTypes:_o,modalClass:"editor-post-featured-image__media-modal",render:({open:e})=>(0,D.createElement)("div",{className:"editor-post-featured-image__container"},(0,D.createElement)(M.Button,{ref:l,className:t?"editor-post-featured-image__preview":"editor-post-featured-image__toggle",onClick:e,"aria-label":t?(0,U.__)("\u7f16\u8f91\u6216\u66f4\u65b0\u6b64\u56fe\u7247"):null,"aria-describedby":t?`editor-post-featured-image-${t}-describedby`:null},!!t&&o&&(0,D.createElement)(M.ResponsiveWrapper,{naturalWidth:p,naturalHeight:m,isInline:!0},(0,D.createElement)("img",{src:g,alt:""})),c&&(0,D.createElement)(M.Spinner,null),!t&&!c&&(i?.labels?.set_featured_image||yo)),!!t&&(0,D.createElement)(M.__experimentalHStack,{className:"editor-post-featured-image__actions"},(0,D.createElement)(M.Button,{className:"editor-post-featured-image__action",onClick:e,"aria-hidden":"true"},(0,U.__)("\u66ff\u6362")),(0,D.createElement)(M.Button,{className:"editor-post-featured-image__action",onClick:()=>{r(),l.current.focus()}},(0,U.__)("\u79fb\u9664"))),(0,D.createElement)(M.DropZone,{onFilesDrop:v})),value:t}))))});var So=(0,R.withSelect)(e=>{return{disablePostFormats:e(F).getEditorSettings().disablePostFormats}})(function({disablePostFormats:e,...t}){return!e&&(0,D.createElement)(S,{...t,supportKeys:"post-formats"})});const ko=[{id:"aside",caption:(0,U.__)("\u65e5\u5fd7")},{id:"audio",caption:(0,U.__)("\u97f3\u9891")},{id:"chat",caption:(0,U.__)("\u804a\u5929")},{id:"gallery",caption:(0,U.__)("\u56fe\u5e93")},{id:"image",caption:(0,U.__)("\u56fe\u7247")},{id:"link",caption:(0,U.__)("\u94fe\u63a5")},{id:"quote",caption:(0,U.__)("\u5f15\u7528")},{id:"standard",caption:(0,U.__)("\u6807\u51c6")},{id:"status",caption:(0,U.__)("\u72b6\u6001")},{id:"video",caption:(0,U.__)("\u89c6\u9891")}].sort((e,t)=>{e=e.caption.toUpperCase(),t=t.caption.toUpperCase();return e<t?-1:t<e?1:0});function Po(){var e="post-format-selector-"+(0,O.useInstanceId)(Po);const{postFormat:t,suggestedFormat:n,supportedFormats:r}=(0,R.useSelect)(e=>{var{getEditedPostAttribute:t,getSuggestedPostFormat:n}=e(F),t=t("format"),e=e(L.store).getThemeSupports();return{postFormat:null!=t?t:"standard",suggestedFormat:n(),supportedFormats:e.formats}},[]);var o=ko.filter(e=>r?.includes(e.id)||t===e.id);const i=o.find(e=>e.id===n),s=(0,R.useDispatch)(F)["editPost"],a=e=>s({format:e});return(0,D.createElement)(So,null,(0,D.createElement)("div",{className:"editor-post-format"},(0,D.createElement)(M.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,U.__)("\u6587\u7ae0\u5f62\u5f0f"),value:t,onChange:e=>a(e),id:e,options:o.map(e=>({label:e.caption,value:e.id}))}),i&&i.id!==t&&(0,D.createElement)("p",{className:"editor-post-format__suggestion"},(0,D.createElement)(M.Button,{variant:"link",onClick:()=>a(i.id)},(0,U.sprintf)((0,U.__)("\u5e94\u7528\u63a8\u8350\u7684\u683c\u5f0f\uff1a%s"),i.caption)))))}var wo=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M5.5 12h1.75l-2.5 3-2.5-3H4a8 8 0 113.134 6.35l.907-1.194A6.5 6.5 0 105.5 12zm9.53 1.97l-2.28-2.28V8.5a.75.75 0 00-1.5 0V12a.747.747 0 00.218.529l1.282-.84-1.28.842 2.5 2.5a.75.75 0 101.06-1.061z"}));var Co=(0,R.withSelect)(e=>{var{getCurrentPostLastRevisionId:e,getCurrentPostRevisionsCount:t}=e(F);return{lastRevisionId:e(),revisionsCount:t()}})(function({lastRevisionId:e,revisionsCount:t,children:n}){return!e||t<2?null:(0,D.createElement)(S,{supportKeys:"revisions"},n)});var To=(0,R.withSelect)(e=>{var{getCurrentPostLastRevisionId:e,getCurrentPostRevisionsCount:t}=e(F);return{lastRevisionId:e(),revisionsCount:t()}})(function({lastRevisionId:e,revisionsCount:t}){return(0,D.createElement)(Co,null,(0,D.createElement)(M.Button,{href:(0,f.addQueryArgs)("revision.php",{revision:e,gutenberg:!0}),className:"editor-post-last-revision__title",icon:wo},(0,U.sprintf)((0,U._n)("%d\u4e2a\u4fee\u8ba2\u7248\u672c","%d Revisions",t),t)))});function xo(){var e,t,n,r,o;const i="core/editor/post-locked-modal-"+(0,O.useInstanceId)(xo),{autosave:s,updatePostLock:a}=(0,R.useDispatch)(F),{isLocked:l,isTakeover:c,user:u,postId:d,postLockUtils:p,activePostLock:m,postType:g,previewLink:h}=(0,R.useSelect)(e=>{var{isPostLocked:t,isPostLockTakeover:n,getPostLockUser:r,getCurrentPostId:o,getActivePostLock:i,getEditedPostAttribute:s,getEditedPostPreviewLink:a,getEditorSettings:l}=e(F),e=e(L.store)["getPostType"];return{isLocked:t(),isTakeover:n(),user:r(),postId:o(),postLockUtils:l().postLockUtils,activePostLock:i(),postType:e(s("type")),previewLink:a()}},[]);return(0,D.useEffect)(()=>{function e(){var e,t;!l&&m&&((e=new window.FormData).append("action","gc-remove-post-lock"),e.append("_gcnonce",p.unlockNonce),e.append("post_ID",d),e.append("active_post_lock",m),window.navigator.sendBeacon?window.navigator.sendBeacon(p.ajaxUrl,e):((t=new window.XMLHttpRequest).open("POST",p.ajaxUrl,!1),t.send(e)))}return(0,y.addAction)("heartbeat.send",i,function(e){l||(e["gc-refresh-post-lock"]={lock:m,post_id:d})}),(0,y.addAction)("heartbeat.tick",i,function(e){e["gc-refresh-post-lock"]&&((e=e["gc-refresh-post-lock"]).lock_error?(s(),a({isLocked:!0,isTakeover:!0,user:{name:e.lock_error.name,avatar:e.lock_error.avatar_src_2x}})):e.new_lock&&a({isLocked:!1,activePostLock:e.new_lock}))}),window.addEventListener("beforeunload",e),()=>{(0,y.removeAction)("heartbeat.send",i),(0,y.removeAction)("heartbeat.tick",i),window.removeEventListener("beforeunload",e)}},[]),l?(e=u.name,t=u.avatar,n=(0,f.addQueryArgs)("post.php",{"get-post-lock":"1",lockKey:!0,post:d,action:"edit",_gcnonce:p.nonce}),r=(0,f.addQueryArgs)("edit.php",{post_type:g?.slug}),o=(0,U.__)("\u9000\u51fa\u7f16\u8f91\u5668"),(0,D.createElement)(M.Modal,{title:c?(0,U.__)("\u5df2\u6709\u5176\u4ed6\u4eba\u63a5\u7ba1\u4e86\u6b64\u6587\u7ae0\u7684\u7f16\u8f91\u5de5\u4f5c\u3002"):(0,U.__)("\u6b64\u6587\u7ae0\u5df2\u88ab\u7f16\u8f91"),focusOnMount:!0,shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1,isDismissible:!1,className:"editor-post-locked-modal"},(0,D.createElement)(M.__experimentalHStack,{alignment:"top",spacing:6},!!t&&(0,D.createElement)("img",{src:t,alt:(0,U.__)("\u5934\u50cf"),className:"editor-post-locked-modal__avatar",width:64,height:64}),(0,D.createElement)("div",null,!!c&&(0,D.createElement)("p",null,(0,D.createInterpolateElement)(e?(0,U.sprintf)((0,U.__)("<strong>%s</strong> \u73b0\u5728\u62e5\u6709\u6b64\u6587\u7ae0 (<PreviewLink />) \u7684\u7f16\u8f91\u63a7\u5236\u6743\u3002\u4e0d\u5fc5\u62c5\u5fc3\uff0c\u60a8\u5230\u76ee\u524d\u4e3a\u6b62\u7684\u66f4\u6539\u5747\u5df2\u4fdd\u5b58\u3002"),e):(0,U.__)("\u53e6\u4e00\u7528\u6237\u73b0\u5728\u62e5\u6709\u6b64\u6587\u7ae0\u7684\u7f16\u8f91\u63a7\u5236\u6743 (<PreviewLink />)\u3002\u4e0d\u7528\u62c5\u5fc3\uff0c\u5230\u76ee\u524d\u4e3a\u6b62\u60a8\u6240\u505a\u7684\u66f4\u6539\u5747\u5df2\u4fdd\u5b58\u3002"),{strong:(0,D.createElement)("strong",null),PreviewLink:(0,D.createElement)(M.ExternalLink,{href:h},(0,U.__)("\u9884\u89c8"))})),!c&&(0,D.createElement)(D.Fragment,null,(0,D.createElement)("p",null,(0,D.createInterpolateElement)(e?(0,U.sprintf)((0,U.__)("<strong>%s</strong> \u73b0\u5728\u6b63\u5728\u7f16\u8f91\u6b64\u6587\u7ae0 (<PreviewLink />)\uff0c\u8fd9\u610f\u5473\u7740\u60a8\u73b0\u5728\u4e0d\u80fd\u4fee\u6539\uff0c\u9664\u975e\u60a8\u63a5\u7ba1\u3002"),e):(0,U.__)("\u76ee\u524d\uff0c\u53e6\u4e00\u7528\u6237\u6b63\u5728\u5904\u7406\u6b64\u6587\u7ae0 (<PreviewLink />)\uff0c\u8fd9\u610f\u5473\u7740\u60a8\u65e0\u6cd5\u8fdb\u884c\u66f4\u6539\uff0c\u9664\u975e\u60a8\u63a5\u7ba1\u3002"),{strong:(0,D.createElement)("strong",null),PreviewLink:(0,D.createElement)(M.ExternalLink,{href:h},(0,U.__)("\u9884\u89c8"))})),(0,D.createElement)("p",null,(0,U.__)("\u5982\u679c\u60a8\u63a5\u7ba1\uff0c\u5176\u4ed6\u7528\u6237\u5c06\u4f1a\u5931\u53bb\u6b64\u6587\u7ae0\u7684\u7f16\u8f91\u63a7\u5236\u6743\uff0c\u4f46\u662f\u4ed6\u4eec\u6240\u505a\u7684\u66f4\u6539\u5c06\u4f1a\u88ab\u4fdd\u5b58\u3002"))),(0,D.createElement)(M.__experimentalHStack,{className:"editor-post-locked-modal__buttons",justify:"flex-end"},!c&&(0,D.createElement)(M.Button,{variant:"tertiary",href:n},(0,U.__)("\u63a5\u7ba1")),(0,D.createElement)(M.Button,{variant:"primary",href:r},o)))))):null}var Bo=(0,O.compose)((0,R.withSelect)(e=>{var{isCurrentPostPublished:e,getCurrentPostType:t,getCurrentPost:n}=e(F);return{hasPublishAction:null!=(n=n()._links?.["gc:action-publish"])&&n,isPublished:e(),postType:t()}}))(function({hasPublishAction:e,isPublished:t,children:n}){return t||!e?null:n});var Io=(0,O.compose)((0,R.withSelect)(e=>({status:e(F).getEditedPostAttribute("status")})),(0,R.withDispatch)(t=>({onUpdateStatus(e){t(F).editPost({status:e})}})))(function({status:e,onUpdateStatus:t}){return(0,D.createElement)(Bo,null,(0,D.createElement)(M.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,U.__)("\u7b49\u5f85\u590d\u5ba1"),checked:"pending"===e,onChange:()=>{t("pending"===e?"draft":"pending")}}))});var No=(0,O.compose)([(0,R.withSelect)(e=>({pingStatus:e(F).getEditedPostAttribute("ping_status")})),(0,R.withDispatch)(e=>({editPost:e(F).editPost}))])(function({pingStatus:e="open",...t}){return(0,D.createElement)(M.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,U.__)("\u5141\u8bb8pingback\u548ctrackback"),checked:"open"===e,onChange:()=>t.editPost({ping_status:"open"===e?"closed":"open"})})});class Ao extends D.Component{constructor(){super(...arguments),this.buttonRef=(0,D.createRef)(),this.openPreviewWindow=this.openPreviewWindow.bind(this)}componentDidUpdate(e){var t=this.props["previewLink"];t&&!e.previewLink&&this.setPreviewWindowLink(t)}setPreviewWindowLink(e){var t=this["previewWindow"];t&&!t.closed&&(t.location=e,this.buttonRef.current)&&this.buttonRef.current.focus()}getWindowTarget(){var e=this.props["postId"];return"gc-preview-"+e}openPreviewWindow(e){var t;e.preventDefault(),this.previewWindow&&!this.previewWindow.closed||(this.previewWindow=window.open("",this.getWindowTarget())),this.previewWindow.focus(),!this.props.isAutosaveable||this.props.isPostLocked?this.setPreviewWindowLink(e.target.href):(this.props.isDraft?this.props.savePost({isPreview:!0}):this.props.autosave({isPreview:!0}),e=this.previewWindow.document,t=(0,D.renderToString)((0,D.createElement)("div",{className:"editor-post-preview-button__interstitial-message"},(0,D.createElement)(M.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 96 96"},(0,D.createElement)(M.Path,{className:"outer",d:"M48 12c19.9 0 36 16.1 36 36S67.9 84 48 84 12 67.9 12 48s16.1-36 36-36",fill:"none"}),(0,D.createElement)(M.Path,{className:"inner",d:"M69.5 46.4c0-3.9-1.4-6.7-2.6-8.8-1.6-2.6-3.1-4.9-3.1-7.5 0-2.9 2.2-5.7 5.4-5.7h.4C63.9 19.2 56.4 16 48 16c-11.2 0-21 5.7-26.7 14.4h2.1c3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3L40 67.5l7-20.9L42 33c-1.7-.1-3.3-.3-3.3-.3-1.7-.1-1.5-2.7.2-2.6 0 0 5.3.4 8.4.4 3.3 0 8.5-.4 8.5-.4 1.7-.1 1.9 2.4.2 2.6 0 0-1.7.2-3.7.3l11.5 34.3 3.3-10.4c1.6-4.5 2.4-7.8 2.4-10.5zM16.1 48c0 12.6 7.3 23.5 18 28.7L18.8 35c-1.7 4-2.7 8.4-2.7 13zm32.5 2.8L39 78.6c2.9.8 5.9 1.3 9 1.3 3.7 0 7.3-.6 10.6-1.8-.1-.1-.2-.3-.2-.4l-9.8-26.9zM76.2 36c0 3.2-.6 6.9-2.4 11.4L64 75.6c9.5-5.5 15.9-15.8 15.9-27.6 0-5.5-1.4-10.8-3.9-15.3.1 1 .2 2.1.2 3.3z",fill:"none"})),(0,D.createElement)("p",null,(0,U.__)("\u6b63\u5728\u751f\u6210\u9884\u89c8...")))),t=(0,y.applyFilters)("editor.PostPreview.interstitialMarkup",t+=`
		<style>
			body {
				margin: 0;
			}
			.editor-post-preview-button__interstitial-message {
				display: flex;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				height: 100vh;
				width: 100vw;
			}
			@-webkit-keyframes paint {
				0% {
					stroke-dashoffset: 0;
				}
			}
			@-moz-keyframes paint {
				0% {
					stroke-dashoffset: 0;
				}
			}
			@-o-keyframes paint {
				0% {
					stroke-dashoffset: 0;
				}
			}
			@keyframes paint {
				0% {
					stroke-dashoffset: 0;
				}
			}
			.editor-post-preview-button__interstitial-message svg {
				width: 192px;
				height: 192px;
				stroke: #555d66;
				stroke-width: 0.75;
			}
			.editor-post-preview-button__interstitial-message svg .outer,
			.editor-post-preview-button__interstitial-message svg .inner {
				stroke-dasharray: 280;
				stroke-dashoffset: 280;
				-webkit-animation: paint 1.5s ease infinite alternate;
				-moz-animation: paint 1.5s ease infinite alternate;
				-o-animation: paint 1.5s ease infinite alternate;
				animation: paint 1.5s ease infinite alternate;
			}
			p {
				text-align: center;
				font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
			}
		</style>
	`),e.write(t),e.title=(0,U.__)("\u6b63\u5728\u751f\u6210\u9884\u89c8..."),e.close())}render(){var{previewLink:e,currentPostLink:t,isSaveable:n,role:r}=this.props,e=e||t,t=T()({"editor-post-preview":!this.props.className},this.props.className);return(0,D.createElement)(M.Button,{variant:this.props.className?void 0:"tertiary",className:t,href:e,target:this.getWindowTarget(),disabled:!n,onClick:this.openPreviewWindow,ref:this.buttonRef,role:r},this.props.textContent||(0,D.createElement)(D.Fragment,null,(0,U._x)("Preview","imperative verb"),(0,D.createElement)(M.VisuallyHidden,{as:"span"},(0,U.__)("\uff08\u5728\u65b0\u7a97\u53e3\u4e2d\u6253\u5f00\uff09"))))}}var Do=(0,O.compose)([(0,R.withSelect)((e,{forcePreviewLink:t,forceIsAutosaveable:n})=>{var{getCurrentPostId:r,getCurrentPostAttribute:o,getEditedPostAttribute:i,isEditedPostSaveable:s,isEditedPostAutosaveable:a,getEditedPostPreviewLink:l,isPostLocked:c}=e(F),e=e(L.store)["getPostType"],l=l(),e=e(i("type"));return{postId:r(),currentPostLink:o("link"),previewLink:void 0!==t?t:l,isSaveable:s(),isAutosaveable:n||a(),isViewable:null!=(r=e?.viewable)&&r,isDraft:-1!==["draft","auto-draft"].indexOf(i("status")),isPostLocked:c()}}),(0,R.withDispatch)(e=>({autosave:e(F).autosave,savePost:e(F).savePost})),(0,O.ifCondition)(({isViewable:e})=>e)])(Ao);var Ro=(0,O.compose)([(0,R.withSelect)((e,{forceIsSaving:t})=>{var{isCurrentPostPublished:e,isEditedPostBeingScheduled:n,isSavingPost:r,isPublishingPost:o,getCurrentPost:i,getCurrentPostType:s,isAutosavingPost:a}=e(F);return{isPublished:e(),isBeingScheduled:n(),isSaving:t||r(),isPublishing:o(),hasPublishAction:null!=(e=i()._links?.["gc:action-publish"])&&e,postType:s(),isAutosaving:a()}})])(function({isPublished:e,isBeingScheduled:t,isSaving:n,isPublishing:r,hasPublishAction:o,isAutosaving:i,hasNonPostEntityChanges:s}){return r?(0,U.__)("\u6b63\u5728\u53d1\u5e03..."):e&&n&&!i?(0,U.__)("\u6b63\u5728\u66f4\u65b0..."):t&&n&&!i?(0,U.__)("\u6b63\u5728\u8ba1\u5212..."):o?e?s?(0,U.__)("\u66f4\u65b0..."):(0,U.__)("\u66f4\u65b0"):t?s?(0,U.__)("\u8ba1\u5212..."):(0,U.__)("\u8ba1\u5212"):(0,U.__)("\u53d1\u5e03"):s?(0,U.__)("\u63d0\u4ea4\u590d\u5ba1..."):(0,U.__)("\u63d0\u4ea4\u590d\u5ba1")});const Lo=()=>{};class Oo extends D.Component{constructor(e){super(e),this.buttonNode=(0,D.createRef)(),this.createOnClick=this.createOnClick.bind(this),this.closeEntitiesSavedStates=this.closeEntitiesSavedStates.bind(this),this.state={entitiesSavedStatesCallback:!1}}componentDidMount(){this.props.focusOnMount&&(this.timeoutID=setTimeout(()=>{this.buttonNode.current.focus()},0))}componentWillUnmount(){clearTimeout(this.timeoutID)}createOnClick(r){return(...e)=>{var{hasNonPostEntityChanges:t,setEntitiesSavedStatesCallback:n}=this.props;return t&&n?(this.setState({entitiesSavedStatesCallback:()=>r(...e)}),n(()=>this.closeEntitiesSavedStates),Lo):r(...e)}}closeEntitiesSavedStates(e){const{postType:t,postId:n}=this.props,r=this.state["entitiesSavedStatesCallback"];this.setState({entitiesSavedStatesCallback:!1},()=>{e&&e.some(e=>"postType"===e.kind&&e.name===t&&e.key===n)&&r()})}render(){const{forceIsDirty:e,forceIsSaving:t,hasPublishAction:n,isBeingScheduled:r,isOpen:o,isPostSavingLocked:i,isPublishable:s,isPublished:a,isSaveable:l,isSaving:c,isAutoSaving:u,isToggle:d,onSave:p,onStatusChange:m,onSubmit:g=Lo,onToggle:h,visibility:f,hasNonPostEntityChanges:_,isSavingNonPostEntityChanges:v}=this.props,y=(c||t||!l||i||!s&&!e)&&(!_||v),b=(a||c||t||!l||!s&&!e)&&(!_||v);let E;E=n?"private"===f?"private":r?"future":"publish":"pending";var S={"aria-disabled":y,className:"editor-post-publish-button",isBusy:!u&&c,variant:"primary",onClick:this.createOnClick(()=>{y||(g(),m(E),p())})},k={"aria-disabled":b,"aria-expanded":o,className:"editor-post-publish-panel__toggle",isBusy:c&&a,variant:"primary",onClick:this.createOnClick(()=>{b||h()})},P=r?(0,U.__)("\u8ba1\u5212..."):(0,U.__)("\u53d1\u5e03"),w=(0,D.createElement)(Ro,{forceIsSaving:t,hasNonPostEntityChanges:_}),k=d?k:S,S=d?P:w;return(0,D.createElement)(D.Fragment,null,(0,D.createElement)(M.Button,{ref:this.buttonNode,...k,className:T()(k.className,"editor-post-publish-button__button",{"has-changes-dot":_})},S))}}var Uo=(0,O.compose)([(0,R.withSelect)(e=>{var{isSavingPost:e,isAutosavingPost:t,isEditedPostBeingScheduled:n,getEditedPostVisibility:r,isCurrentPostPublished:o,isEditedPostSaveable:i,isEditedPostPublishable:s,isPostSavingLocked:a,getCurrentPost:l,getCurrentPostType:c,getCurrentPostId:u,hasNonPostEntityChanges:d,isSavingNonPostEntityChanges:p}=e(F),t=t();return{isSaving:e()||t,isAutoSaving:t,isBeingScheduled:n(),visibility:r(),isSaveable:i(),isPostSavingLocked:a(),isPublishable:s(),isPublished:o(),hasPublishAction:null!=(e=l()._links?.["gc:action-publish"])&&e,postType:c(),postId:u(),hasNonPostEntityChanges:d(),isSavingNonPostEntityChanges:p()}}),(0,R.withDispatch)(e=>{const{editPost:t,savePost:n}=e(F);return{onStatusChange:e=>t({status:e},{undoIgnore:!0}),onSave:n}})])(Oo),Fo=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),Mo=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M14.033 1.195a2.387 2.387 0 0 1-.87 3.235l-6.98 4.04a.602.602 0 0 0-.3.522v6.342a.6.6 0 0 0 .3.521l5.524 3.199a.585.585 0 0 0 .586 0l5.527-3.199a.603.603 0 0 0 .299-.52V11.39l-4.969 2.838a2.326 2.326 0 0 1-3.19-.9 2.388 2.388 0 0 1 .89-3.23l7.108-4.062C20.123 4.8 22.8 6.384 22.8 8.901v6.914a4.524 4.524 0 0 1-2.245 3.919l-6.345 3.672a4.407 4.407 0 0 1-4.422 0l-6.344-3.672A4.524 4.524 0 0 1 1.2 15.816V8.51a4.524 4.524 0 0 1 2.245-3.918l7.393-4.28a2.326 2.326 0 0 1 3.195.883z"}));const m={public:{label:(0,U.__)("\u516c\u5f00"),info:(0,U.__)("\u6240\u6709\u4eba\u53ef\u89c1\u3002")},private:{label:(0,U.__)("\u79c1\u5bc6"),info:(0,U.__)("\u53ea\u6709\u7cfb\u7edf\u7ba1\u7406\u5458\u548c\u7f16\u8f91\u53ef\u89c1\u3002")},password:{label:(0,U.__)("\u5bc6\u7801\u4fdd\u62a4"),info:(0,U.__)("\u53ea\u6709\u77e5\u9053\u5bc6\u7801\u7684\u7528\u6237\u624d\u80fd\u67e5\u770b\u8fd9\u7bc7\u6587\u7ae0\u3002")}};function Ho({onClose:e}){var t=(0,O.useInstanceId)(Ho);const{status:n,visibility:r,password:o}=(0,R.useSelect)(e=>({status:e(F).getEditedPostAttribute("status"),visibility:e(F).getEditedPostVisibility(),password:e(F).getEditedPostAttribute("password")})),{editPost:i,savePost:s}=(0,R.useDispatch)(F),[a,l]=(0,D.useState)(!!o),[c,u]=(0,D.useState)(!1);return(0,D.createElement)("div",{className:"editor-post-visibility"},(0,D.createElement)(w.__experimentalInspectorPopoverHeader,{title:(0,U.__)("\u53ef\u89c1\u6027"),help:(0,U.__)(""),onClose:e}),(0,D.createElement)("fieldset",{className:"editor-post-visibility__fieldset"},(0,D.createElement)(M.VisuallyHidden,{as:"legend"},(0,U.__)("\u53ef\u89c1\u6027")),(0,D.createElement)(zo,{instanceId:t,value:"public",label:m.public.label,info:m.public.info,checked:"public"===r&&!a,onChange:()=>{i({status:"private"===r?"draft":n,password:""}),l(!1)}}),(0,D.createElement)(zo,{instanceId:t,value:"private",label:m.private.label,info:m.private.info,checked:"private"===r,onChange:()=>{u(!0)}}),(0,D.createElement)(zo,{instanceId:t,value:"password",label:m.password.label,info:m.password.info,checked:a,onChange:()=>{i({status:"private"===r?"draft":n,password:o||""}),l(!0)}}),a&&(0,D.createElement)("div",{className:"editor-post-visibility__password"},(0,D.createElement)(M.VisuallyHidden,{as:"label",htmlFor:"editor-post-visibility__password-input-"+t},(0,U.__)("\u521b\u5efa\u5bc6\u7801")),(0,D.createElement)("input",{className:"editor-post-visibility__password-input",id:"editor-post-visibility__password-input-"+t,type:"text",onChange:e=>{i({password:e.target.value})},value:o,placeholder:(0,U.__)("\u4f7f\u7528\u5b89\u5168\u7684\u5bc6\u7801")}))),(0,D.createElement)(M.__experimentalConfirmDialog,{isOpen:c,onConfirm:()=>{i({status:"private",password:""}),l(!1),u(!1),s()},onCancel:()=>{u(!1)}},(0,U.__)("\u60a8\u5e0c\u671b\u73b0\u5728\u79c1\u5bc6\u5730\u53d1\u5e03\u6b64\u6587\u7ae0\u5417\uff1f")))}function zo({instanceId:e,value:t,label:n,info:r,...o}){return(0,D.createElement)("div",{className:"editor-post-visibility__choice"},(0,D.createElement)("input",{type:"radio",name:"editor-post-visibility__setting-"+e,value:t,id:`editor-post-${t}-`+e,"aria-describedby":`editor-post-${t}-${e}-description`,className:"editor-post-visibility__radio",...o}),(0,D.createElement)("label",{htmlFor:`editor-post-${t}-`+e,className:"editor-post-visibility__label"},n),(0,D.createElement)("p",{id:`editor-post-${t}-${e}-description`,className:"editor-post-visibility__info"},r))}function Vo(){return Wo()}function Wo(){var e=(0,R.useSelect)(e=>e(F).getEditedPostVisibility());return m[e]?.label}function jo(e){return(jo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Go(e,t){if(t.length<e)throw new TypeError(e+" argument"+(1<e?"s":"")+" required, but only "+t.length+" present")}function Ko(e){Go(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===jo(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function $o(e){Go(1,arguments);e=Ko(e);return e.setDate(1),e.setHours(0,0,0,0),e}Math.pow(10,8);var Yo=6e4,qo=36e5;function Qo(e,t){Go(1,arguments);var n,r,o,i,s,t=null===(t=null!=(t=null==t?void 0:t.additionalDigits)?t:2)||!0===t||!1===t?NaN:(t=Number(t),isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t));if(2!==t&&1!==t&&0!==t)throw new RangeError("additionalDigits must be 0, 1 or 2");return"string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e)||(s={},2<(r=(e=e).split(Xo.dateTimeDelimiter)).length||(/:/.test(r[0])?n=r[0]:(s.date=r[0],n=r[1],Xo.timeZoneDelimiter.test(s.date)&&(s.date=e.split(Xo.timeZoneDelimiter)[0],n=e.substr(s.date.length,e.length))),n&&((r=Xo.timezone.exec(n))?(s.time=n.replace(r[1],""),s.timezone=r[1]):s.time=n)),(e=s).date&&(r=e.date,n=t,n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+n)+"})|(\\d{2}|[+-]\\d{"+(2+n)+"})$)"),o=function(e,t){if(null===t)return new Date(NaN);e=e.match(Zo);if(!e)return new Date(NaN);var n=!!e[4],r=g(e[1]),o=g(e[2])-1,i=g(e[3]),s=g(e[4]),e=g(e[5])-1;return n?function(e,t){return 1<=e&&e<=53&&0<=t&&t<=6}(s,e)?function(e,t,n){var r=new Date(0),e=(r.setUTCFullYear(e,0,4),r.getUTCDay()||7),t=7*(t-1)+n+1-e;return r.setUTCDate(r.getUTCDate()+t),r}(t,s,e):new Date(NaN):(n=new Date(0),function(e,t,n){return 0<=t&&t<=11&&1<=n&&n<=(ni[t]||(ri(e)?29:28))}(t,o,i)&&function(e,t){return 1<=t&&t<=(ri(e)?366:365)}(t,r)?(n.setUTCFullYear(t,o,Math.max(r,i)),n):new Date(NaN))}((s=(n=r.match(n))?(s=n[1]?parseInt(n[1]):null,{year:null===(t=n[2]?parseInt(n[2]):null)?s:100*t,restDateString:r.slice((n[1]||n[2]).length)}):{year:NaN,restDateString:""}).restDateString,s.year)),!o)||isNaN(o.getTime())||(t=o.getTime(),r=0,e.time&&(r=(s=(s=e.time).match(Jo))&&(o=ti(s[1]),i=ti(s[2]),s=ti(s[3]),function(e,t,n){return 24!==e?0<=n&&n<60&&0<=t&&t<60&&0<=e&&e<25:0===t&&0===n}(o,i,s))?o*qo+i*Yo+1e3*s:NaN,isNaN(r)))?new Date(NaN):e.timezone?(s="Z"!==(i=e.timezone)&&(i=i.match(ei))?(s="+"===i[1]?-1:1,e=parseInt(i[2]),function(e){return 0<=e&&e<=59}(i=i[3]&&parseInt(i[3])||0)?s*(e*qo+i*Yo):NaN):0,isNaN(s)?new Date(NaN):new Date(t+r+s)):(e=new Date(t+r),(s=new Date(0)).setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),s.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),s)}var Xo={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Zo=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Jo=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ei=/^([+-])(\d{2})(?::?(\d{2}))?$/;function g(e){return e?parseInt(e):1}function ti(e){return e&&parseFloat(e.replace(",","."))||0}var ni=[31,null,31,30,31,30,31,31,30,31,30,31];function ri(e){return e%400==0||e%4==0&&e%100!=0}function oi({onClose:e}){const{postDate:t,postType:n}=(0,R.useSelect)(e=>({postDate:e(F).getEditedPostAttribute("date"),postType:e(F).getCurrentPostType()}),[]),r=(0,R.useDispatch)(F)["editPost"];const[o,i]=(0,D.useState)($o(new Date(t))),s=(0,R.useSelect)(e=>e(L.store).getEntityRecords("postType",n,{status:"publish,future",after:$o(o).toISOString(),before:function(e){Go(1,arguments);var e=Ko(e),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}(o).toISOString(),exclude:[e(F).getCurrentPostId()],per_page:100,_fields:"id,date"}),[o,n]);var a=(0,D.useMemo)(()=>(s||[]).map(({date:e})=>({date:new Date(e)})),[s]),l=(0,c.getSettings)(),l=/a(?!\\)/i.test(l.formats.time.toLowerCase().replace(/\\\\/g,"").split("").reverse().join(""));return(0,D.createElement)(w.__experimentalPublishDateTimePicker,{currentDate:t,onChange:e=>r({date:e}),is12Hour:l,events:a,onMonthPreviewed:e=>i(Qo(e)),onClose:e})}function ii(e){return si(e)}function si({full:e=!1}={}){var{date:t,isFloating:n}=(0,R.useSelect)(e=>({date:e(F).getEditedPostAttribute("date"),isFloating:e(F).isEditedPostDateFloating()}),[]);return e?ai(t):([e,{isFloating:t=!1,now:n=new Date}]=[t,{isFloating:n}],!e||t?(0,U.__)("\u7acb\u5373"):function(e){var t=(0,c.getSettings)()["timezone"],t=Number(t.offset),e=e.getTimezoneOffset()/60*-1;return t===e}(n)?li(t=(0,c.getDate)(e),n)?(0,U.sprintf)((0,U.__)("\u4eca\u5929 %s"),(0,c.dateI18n)((0,U._x)("g:i\xa0a","post schedule time format"),t)):((e=new Date(n)).setDate(e.getDate()+1),li(t,e)?(0,U.sprintf)((0,U.__)("\u660e\u5929 %s"),(0,c.dateI18n)((0,U._x)("g:i\xa0a","post schedule time format"),t)):t.getFullYear()!==n.getFullYear()?(0,c.dateI18n)((0,U._x)("F j, Y g:i\xa0a","post schedule full date format"),t):(0,c.dateI18n)((0,U._x)("F j g:i\xa0a","post schedule date format without year"),t)):ai(e))}function ai(e){var e=(0,c.getDate)(e),t=function(){var e=(0,c.getSettings)()["timezone"];if(e.abbr&&isNaN(Number(e.abbr)))return e.abbr;var t=e.offset<0?"":"+";return"UTC"+t+e.offset}(),e=(0,c.dateI18n)((0,U._x)("F j, Y g:i\xa0a","post schedule full date format"),e);return(0,U.isRTL)()?t+" "+e:e+" "+t}function li(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}var ci=window.gc.a11y;const ui=3,di={per_page:10,orderby:"count",order:"desc",hide_empty:!0,_fields:"id,name,count",context:"view"};function pi({onSelect:t,taxonomy:n}){var{_terms:e,showTerms:r}=(0,R.useSelect)(e=>{e=e(L.store).getEntityRecords("taxonomy",n.slug,di);return{_terms:e,showTerms:e?.length>=ui}},[n.slug]);return r?(r=eo(e),(0,D.createElement)("div",{className:"editor-post-taxonomies__flat-term-most-used"},(0,D.createElement)(M.BaseControl.VisualLabel,{as:"h3",className:"editor-post-taxonomies__flat-term-most-used-label"},n.labels.most_used),(0,D.createElement)("ul",{role:"list",className:"editor-post-taxonomies__flat-term-most-used-list"},r.map(e=>(0,D.createElement)("li",{key:e.id},(0,D.createElement)(M.Button,{variant:"link",onClick:()=>t(e)},e.name)))))):null}const mi=[],gi=20,hi={per_page:gi,_fields:"id,name",context:"view"},fi=(e,t)=>P(e).toLowerCase()===P(t).toLowerCase(),_i=(e,n)=>e.map(t=>n.find(e=>fi(e.name,t)).id);function vi({slug:a}){const[e,r]=(0,D.useState)([]),[t,n]=(0,D.useState)("");var o=(0,O.useDebounce)(n,500);const{terms:i,termIds:s,taxonomy:l,hasAssignAction:c,hasCreateAction:u,hasResolvedTerms:d}=(0,R.useSelect)(e=>{var t,{getCurrentPost:n,getEditedPostAttribute:r}=e(F),{getEntityRecords:e,getTaxonomy:o,hasFinishedResolution:i}=e(L.store),n=n(),o=o(a),r=o?r(o.rest_base):mi,s={...hi,include:r.join(","),per_page:-1};return{hasCreateAction:!!o&&null!=(t=n._links?.["gc:action-create-"+o.rest_base])&&t,hasAssignAction:!!o&&null!=(t=n._links?.["gc:action-assign-"+o.rest_base])&&t,taxonomy:o,termIds:r,terms:r.length?e("taxonomy",a,s):mi,hasResolvedTerms:i("getEntityRecords",["taxonomy",a,s])}},[a]),p=(0,R.useSelect)(e=>{e=e(L.store).getEntityRecords;return{searchResults:t?e("taxonomy",a,{...hi,search:t}):mi}},[t,a])["searchResults"];(0,D.useEffect)(()=>{var e;d&&(e=(null!==i&&void 0!==i?i:[]).map(e=>P(e.name)),r(e))},[i,d]);var m,g,h,f,_=(0,D.useMemo)(()=>(null!==p&&void 0!==p?p:[]).map(e=>P(e.name)),[p]);const v=(0,R.useDispatch)(F)["editPost"],y=(0,R.useDispatch)(L.store)["saveEntityRecord"];return c?(m=null!=(m=l?.labels?.add_new_item)?m:"post_tag"===a?(0,U.__)("\u6dfb\u52a0\u65b0\u6807\u7b7e"):(0,U.__)("\u6dfb\u52a0\u65b0\u9879\u76ee"),f=null!=(f=l?.labels?.singular_name)?f:"post_tag"===a?(0,U.__)("\u6807\u7b7e"):(0,U.__)("\u9879\u76ee"),g=(0,U.sprintf)((0,U._x)("%s added","term"),f),h=(0,U.sprintf)((0,U._x)("%s removed","term"),f),f=(0,U.sprintf)((0,U._x)("\u79fb\u9664 %s","term"),f),(0,D.createElement)(D.Fragment,null,(0,D.createElement)(M.FormTokenField,{value:e,suggestions:_,onChange:function(e){const n=[...null!==i&&void 0!==i?i:[],...null!==p&&void 0!==p?p:[]],t=e.reduce((e,t)=>(e.some(e=>e.toLowerCase()===t.toLowerCase())||e.push(t),e),[]);if(e=t.filter(t=>!n.find(e=>fi(e.name,t))),r(t),0===e.length)return b(_i(t,n));u&&Promise.all(e.map(e=>async function(t){try{var e=await y("taxonomy",a,t,{throwOnError:!0});return Jr(e)}catch(e){if("term_exists"!==e.code)throw e;return{id:e.data.term_id,name:t.name}}}({name:e}))).then(e=>{e=n.concat(e);return b(_i(t,e))})},onInputChange:o,maxSuggestions:gi,label:m,messages:{added:g,removed:h,remove:f}}),(0,D.createElement)(pi,{taxonomy:l,onSelect:function(e){var t,n;s.includes(e.id)||(e=[...s,e.id],t="post_tag"===a?(0,U.__)("\u6807\u7b7e"):(0,U.__)("\u9879\u76ee"),n=(0,U.sprintf)((0,U._x)("%s added","term"),null!=(n=l?.labels?.singular_name)?n:t),(0,ci.speak)(n,"assertive"),b(e))}}))):null;function b(e){v({[l.rest_base]:e})}}var yi=(0,M.withFilters)("editor.PostTaxonomyType")(vi);const bi=()=>{var e=[(0,U.__)("\u63a8\u8350\uff1a"),(0,D.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},(0,U.__)("\u6dfb\u52a0\u6807\u7b7e"))];return(0,D.createElement)(M.PanelBody,{initialOpen:!1,title:e},(0,D.createElement)("p",null,(0,U.__)("\u6807\u7b7e\u80fd\u591f\u5e2e\u52a9\u7528\u6237\u548c\u641c\u7d22\u5f15\u64ce\u6d4f\u89c8\u60a8\u7684\u7cfb\u7edf\u5e76\u627e\u5230\u5185\u5bb9\u3002\u8bf7\u6dfb\u52a0\u4e00\u4e9b\u80fd\u63cf\u8ff0\u60a8\u7684\u6587\u7ae0\u7684\u5173\u952e\u8bcd\u3002")),(0,D.createElement)(yi,{slug:"post_tag"}))};class Ei extends D.Component{constructor(e){super(e),this.state={hadTagsWhenOpeningThePanel:e.hasTags}}render(){return this.state.hadTagsWhenOpeningThePanel?null:(0,D.createElement)(bi,null)}}var Si=(0,O.compose)((0,R.withSelect)(e=>{const t=e(F).getCurrentPostType();var n=e(L.store).getTaxonomy("post_tag"),e=n&&e(F).getEditedPostAttribute(n.rest_base);return{areTagsFetched:void 0!==n,isPostTypeSupported:n&&n.types.some(e=>e===t),hasTags:e&&e.length}}),(0,O.ifCondition)(({areTagsFetched:e,isPostTypeSupported:t})=>t&&e))(Ei);const ki=(t,n)=>{return ko.filter(e=>t?.includes(e.id)).find(e=>e.id===n)},Pi=({suggestedPostFormat:e,suggestionText:t,onUpdatePostFormat:n})=>(0,D.createElement)(M.Button,{variant:"link",onClick:()=>n(e)},t);function wi(){var{currentPostFormat:e,suggestion:t}=(0,R.useSelect)(e=>{var{getEditedPostAttribute:t,getSuggestedPostFormat:n}=e(F),e=null!=(e=e(L.store).getThemeSupports().formats)?e:[];return{currentPostFormat:t("format"),suggestion:ki(e,n())}},[]);const n=(0,R.useDispatch)(F)["editPost"];var r=[(0,U.__)("\u63a8\u8350\uff1a"),(0,D.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},(0,U.__)("\u4f7f\u7528\u6587\u7ae0\u5f62\u5f0f"))];return t&&t.id!==e?(0,D.createElement)(M.PanelBody,{initialOpen:!1,title:r},(0,D.createElement)("p",null,(0,U.__)("\u60a8\u7684\u4e3b\u9898\u4f7f\u7528\u6587\u7ae0\u5f62\u5f0f\u5448\u73b0\u4e0d\u540c\u7c7b\u578b\u7684\u5185\u5bb9\uff0c\u4f8b\u5982\u56fe\u7247\u6216\u89c6\u9891\u3002\u5e94\u7528\u5176\u4e2d\u4e4b\u4e00\u7684\u6587\u7ae0\u5f62\u5f0f\u4fbf\u53ef\u67e5\u770b\u5176\u72ec\u7279\u6837\u5f0f\u3002")),(0,D.createElement)("p",null,(0,D.createElement)(Pi,{onUpdatePostFormat:e=>n({format:e}),suggestedPostFormat:t.id,suggestionText:(0,U.sprintf)((0,U.__)("\u5e94\u7528\u201c%1$s\u201d\u683c\u5f0f\u3002"),t.caption)}))):null}const Ci={per_page:-1,orderby:"name",order:"asc",_fields:"id,name,parent",context:"view"},Ti=8,xi=[];function Bi({slug:s}){const[a,l]=(0,D.useState)(!1),[c,u]=(0,D.useState)(""),[d,p]=(0,D.useState)(""),[e,t]=(0,D.useState)(!1),[n,o]=(0,D.useState)(""),[r,i]=(0,D.useState)([]),m=(0,O.useDebounce)(ci.speak,500),{hasCreateAction:g,hasAssignAction:h,terms:f,loading:_,availableTerms:v,taxonomy:y}=(0,R.useSelect)(e=>{var t,{getCurrentPost:n,getEditedPostAttribute:r}=e(F),{getTaxonomy:e,getEntityRecords:o,isResolving:i}=e(L.store),e=e(s),n=n();return{hasCreateAction:!!e&&null!=(t=n._links?.["gc:action-create-"+e.rest_base])&&t,hasAssignAction:!!e&&null!=(t=n._links?.["gc:action-assign-"+e.rest_base])&&t,terms:e?r(e.rest_base):xi,loading:i("getEntityRecords",["taxonomy",s,Ci]),availableTerms:o("taxonomy",s,Ci)||xi,taxonomy:e}},[s]),b=(0,R.useDispatch)(F)["editPost"],E=(0,R.useDispatch)(L.store)["saveEntityRecord"],S=(0,D.useMemo)(()=>{{var e=Zr(v),t=f;const n=e=>-1!==t.indexOf(e.id)||void 0!==e.children&&0<e.children.map(n).filter(e=>e).length;return(e=[...e]).sort((e,t)=>{e=n(e),t=n(t);return e===t?0:e&&!t?-1:!e&&t?1:0}),e}},[v]);if(!h)return null;const k=e=>{b({[y.rest_base]:e})};const P=e=>e.map(n=>(0,D.createElement)("div",{key:n.id,className:"editor-post-taxonomies__hierarchical-terms-choice"},(0,D.createElement)(M.CheckboxControl,{__nextHasNoMarginBottom:!0,checked:-1!==f.indexOf(n.id),onChange:()=>{var t,e=parseInt(n.id,10);t=e,e=f.includes(t)?f.filter(e=>e!==t):[...f,t],k(e)},label:(0,H.decodeEntities)(n.name)}),!!n.children.length&&(0,D.createElement)("div",{className:"editor-post-taxonomies__hierarchical-terms-subchoices"},P(n.children))));var w=(e,t,n)=>{return null!=(e=y?.labels?.[e])?e:"category"===s?t:n},C=w("add_new_item",(0,U.__)("\u6dfb\u52a0\u65b0\u5206\u7c7b"),(0,U.__)("\u6dfb\u52a0\u65b0\u9879\u76ee")),T=w("new_item_name",(0,U.__)("\u6dfb\u52a0\u65b0\u5206\u7c7b"),(0,U.__)("\u6dfb\u52a0\u65b0\u9879\u76ee")),w=w("parent_item",(0,U.__)("\u7236\u7ea7\u5206\u7c7b"),(0,U.__)("\u7236\u9879\u76ee")),x=`— ${w} —`,B=C,I=null!=(I=y?.labels?.search_items)?I:(0,U.__)("\u641c\u7d22\u9879\u76ee"),N=null!=(N=y?.name)?N:(0,U.__)("\u9879\u76ee"),A=v.length>=Ti;return(0,D.createElement)(M.Flex,{direction:"column",gap:"4"},A&&(0,D.createElement)(M.TextControl,{__nextHasNoMarginBottom:!0,label:I,value:n,onChange:e=>{var t=S.map(function(t){const n=e=>{return(""===t||(0<(e={...e}).children.length&&(e.children=e.children.map(n).filter(e=>e)),-1!==e.name.toLowerCase().indexOf(t.toLowerCase()))||0<e.children.length)&&e};return n}(e)).filter(e=>e);const r=t=>{let n=0;for(let e=0;e<t.length;e++)n++,void 0!==t[e].children&&(n+=r(t[e].children));return n};o(e),i(t);e=r(t),t=(0,U.sprintf)((0,U._n)("\u627e\u5230%d\u4e2a\u7ed3\u679c\u3002","%d results found.",e),e);m(t,"assertive")}}),(0,D.createElement)("div",{className:"editor-post-taxonomies__hierarchical-terms-list",tabIndex:"0",role:"group","aria-label":N},P(""!==n?r:S)),!_&&g&&(0,D.createElement)(M.FlexItem,null,(0,D.createElement)(M.Button,{onClick:()=>{t(!e)},className:"editor-post-taxonomies__hierarchical-terms-add","aria-expanded":e,variant:"link"},C)),e&&(0,D.createElement)("form",{onSubmit:async e=>{var t,n,r,o;if(e.preventDefault(),""!==c&&!a){e=v,t=d,n=c;const i=e.find(e=>(!e.parent&&!t||parseInt(e.parent)===parseInt(t))&&e.name.toLowerCase()===n.toLowerCase());i?(f.some(e=>e===i.id)||k([...f,i.id]),u(""),p("")):(l(!0),e={name:c,parent:d||void 0},e=await E("taxonomy",s,e),r="category"===s?(0,U.__)("\u5206\u7c7b\u76ee\u5f55"):(0,U.__)("\u9879\u76ee"),o=(0,U.sprintf)((0,U._x)("%s added","term"),null!=(o=y?.labels?.singular_name)?o:r),(0,ci.speak)(o,"assertive"),l(!1),u(""),p(""),k([...f,e.id]))}}},(0,D.createElement)(M.Flex,{direction:"column",gap:"4"},(0,D.createElement)(M.TextControl,{__nextHasNoMarginBottom:!0,className:"editor-post-taxonomies__hierarchical-terms-input",label:T,value:c,onChange:e=>{u(e)},required:!0}),!!v.length&&(0,D.createElement)(M.TreeSelect,{__nextHasNoMarginBottom:!0,label:w,noOptionLabel:x,onChange:e=>{p(e)},selectedId:d,tree:S}),(0,D.createElement)(M.FlexItem,null,(0,D.createElement)(M.Button,{variant:"secondary",type:"submit",className:"editor-post-taxonomies__hierarchical-terms-submit"},B)))))}var Ii=(0,M.withFilters)("editor.PostTaxonomyType")(Bi);function Ni(){const e=(0,R.useSelect)(e=>{const t=e(F).getCurrentPostType();var{canUser:n,getEntityRecord:r,getTaxonomy:o}=e(L.store),o=o("category"),n=n("read","settings")?r("root","site")?.default_category:void 0,r=n?r("taxonomy","category",n):void 0,n=o&&o.types.some(e=>e===t),e=o&&e(F).getEditedPostAttribute(o.rest_base);return!!o&&!!r&&n&&(0===e?.length||1===e?.length&&r?.id===e[0])},[]),[t,n]=(0,D.useState)(!1);var r;return(0,D.useEffect)(()=>{e&&n(!0)},[e]),t?(r=[(0,U.__)("\u63a8\u8350\uff1a"),(0,D.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},(0,U.__)("\u6307\u6d3e\u4e00\u4e2a\u5206\u7c7b"))],(0,D.createElement)(M.PanelBody,{initialOpen:!1,title:r},(0,D.createElement)("p",null,(0,U.__)("\u5206\u7c7b\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5c06\u76f8\u5173\u6587\u7ae0\u7ec4\u7ec7\u5728\u4e00\u8d77\uff0c\u5e76\u5feb\u901f\u544a\u8bc9\u8bfb\u8005\u6587\u7ae0\u5185\u5bb9\u65b9\u5411\u7684\u5b9e\u7528\u65b9\u5f0f\u3002")),(0,D.createElement)(Ii,{slug:"category"}))):null}var Ai=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"}));function Di(t){const n=(0,R.useDispatch)(w.store)["selectBlock"];return(0,D.createElement)(M.__unstableMotion.img,{tabIndex:0,role:"button","aria-label":(0,U.__)("\u9009\u62e9\u56fe\u50cf\u533a\u5757\u3002"),onClick:()=>{n(t.clientId)},onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(n(t.clientId),e.preventDefault())},key:t.clientId,alt:t.attributes.alt,src:t.attributes.url,animate:{opacity:1},exit:{opacity:0,scale:0},style:{width:"36px",height:"36px",objectFit:"cover",borderRadius:"2px",cursor:"pointer"},whileHover:{scale:1.08}})}function Ri(){const[e,t]=(0,D.useState)(!1),{editorBlocks:n,mediaUpload:o}=(0,R.useSelect)(e=>({editorBlocks:e(F).getEditorBlocks(),mediaUpload:e(w.store).getSettings().mediaUpload}),[]),r=function t(e){const n=[];return e.forEach(e=>{n.push(e),n.push(...t(e.innerBlocks))}),n}(n).filter(e=>"core/image"===e.name&&e.attributes.url&&!e.attributes.id),i=(0,R.useDispatch)(w.store)["updateBlockAttributes"];var s;return o&&r.length?(s=[(0,U.__)("\u63a8\u8350\uff1a"),(0,D.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},(0,U.__)("\u5916\u90e8\u5a92\u4f53"))],(0,D.createElement)(M.PanelBody,{initialOpen:!0,title:s},(0,D.createElement)("p",null,(0,U.__)("\u6587\u7ae0\u4e2d\u6709\u4e00\u4e9b\u5916\u90e8\u56fe\u7247\u53ef\u4ee5\u4e0a\u4f20\u5230\u5a92\u4f53\u5e93\u3002\u6765\u81ea\u4e0d\u540c\u57df\u7684\u56fe\u50cf\u53ef\u80fd\u5e76\u4e0d\u603b\u662f\u6b63\u786e\u663e\u793a\uff0c\u8bbf\u95ee\u8005\u52a0\u8f7d\u7f13\u6162\uff0c\u6216\u8005\u610f\u5916\u5220\u9664\u3002")),(0,D.createElement)("div",{style:{display:"inline-flex",flexWrap:"wrap",gap:"8px"}},(0,D.createElement)(M.__unstableAnimatePresence,null,r.map(e=>(0,D.createElement)(Di,{key:e.clientId,...e}))),e?(0,D.createElement)(M.Spinner,null):(0,D.createElement)(M.Button,{icon:Ai,variant:"primary",onClick:function(){t(!0),Promise.all(r.map(r=>window.fetch(r.attributes.url.includes("?")?r.attributes.url:r.attributes.url+"?").then(e=>e.blob()).then(n=>new Promise((t,e)=>{o({filesList:[n],onFileChange:([e])=>{(0,go.isBlobURL)(e.url)||(i(r.clientId,{id:e.id,url:e.url}),t())},onError(){e()}})})))).finally(()=>{t(!1)})}},(0,U.__)("\u5168\u90e8\u4e0a\u4f20"))))):null}function Li({children:e}){var{isBeingScheduled:t,isRequestingSiteIcon:n,hasPublishAction:r,siteIconUrl:o,siteTitle:i,siteHome:s}=(0,R.useSelect)(e=>{var{getCurrentPost:t,isEditedPostBeingScheduled:n}=e(F),{getEntityRecord:e,isResolving:r}=e(L.store),e=e("root","__unstableBase",void 0)||{};return{hasPublishAction:null!=(t=t()._links?.["gc:action-publish"])&&t,isBeingScheduled:n(),isRequestingSiteIcon:r("getEntityRecord",["root","__unstableBase",void 0]),siteIconUrl:e.site_icon_url,siteTitle:e.name,siteHome:e.home&&(0,f.filterURLForDisplay)(e.home)}},[]);let a=(0,D.createElement)(M.Icon,{className:"components-site-icon",size:"36px",icon:Mo});o&&(a=(0,D.createElement)("img",{alt:(0,U.__)("\u7cfb\u7edf\u56fe\u6807"),className:"components-site-icon",src:o})),n&&(a=null);let l,c;return c=r?t?(l=(0,U.__)("\u60a8\u51c6\u5907\u597d\u8ba1\u5212\u4e86\u5417\uff1f"),(0,U.__)("\u60a8\u7684\u5de5\u4f5c\u4f1a\u5728\u6307\u5b9a\u7684\u65e5\u671f\u548c\u65f6\u95f4\u88ab\u53d1\u5e03\u3002")):(l=(0,U.__)("\u60a8\u51c6\u5907\u597d\u53d1\u5e03\u4e86\u5417\uff1f"),(0,U.__)("\u8bf7\u5728\u53d1\u5e03\u524d\u518d\u6b21\u68c0\u67e5\u60a8\u7684\u8bbe\u7f6e\u3002")):(l=(0,U.__)("\u60a8\u51c6\u5907\u597d\u63d0\u4ea4\u590d\u5ba1\u4e86\u5417\uff1f"),(0,U.__)("\u5f53\u60a8\u51c6\u5907\u597d\u540e\uff0c\u8bf7\u63d0\u4ea4\u60a8\u7684\u5de5\u4f5c\u81f3\u590d\u5ba1\uff0c\u7136\u540e\u5176\u4ed6\u7f16\u8f91\u5c31\u53ef\u4ee5\u6279\u51c6\u60a8\u7684\u6587\u7ae0\u3002")),(0,D.createElement)("div",{className:"editor-post-publish-panel__prepublish"},(0,D.createElement)("div",null,(0,D.createElement)("strong",null,l)),(0,D.createElement)("p",null,c),(0,D.createElement)("div",{className:"components-site-card"},a,(0,D.createElement)("div",{className:"components-site-info"},(0,D.createElement)("span",{className:"components-site-name"},(0,H.decodeEntities)(i)||(0,U.__)("(\u672a\u547d\u540d)")),(0,D.createElement)("span",{className:"components-site-home"},s))),(0,D.createElement)(Ri,null),r&&(0,D.createElement)(D.Fragment,null,(0,D.createElement)(M.PanelBody,{initialOpen:!1,title:[(0,U.__)("\u53ef\u89c1\u6027\uff1a"),(0,D.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},(0,D.createElement)(Vo,null))]},(0,D.createElement)(Ho,null)),(0,D.createElement)(M.PanelBody,{initialOpen:!1,title:[(0,U.__)("\u53d1\u5e03\uff1a"),(0,D.createElement)("span",{className:"editor-post-publish-panel__link",key:"label"},(0,D.createElement)(ii,null))]},(0,D.createElement)(oi,null))),(0,D.createElement)(wi,null),(0,D.createElement)(Si,null),(0,D.createElement)(Ni,null),e)}const Oi="%postname%",Ui="%pagename%";function Fi({text:e,onCopy:t,children:n}){e=(0,O.useCopyToClipboard)(e,t);return(0,D.createElement)(M.Button,{variant:"secondary",ref:e},n)}class Mi extends D.Component{constructor(){super(...arguments),this.state={showCopyConfirmation:!1},this.onCopy=this.onCopy.bind(this),this.onSelectInput=this.onSelectInput.bind(this),this.postLink=(0,D.createRef)()}componentDidMount(){this.props.focusOnMount&&this.postLink.current.focus()}componentWillUnmount(){clearTimeout(this.dismissCopyConfirmation)}onCopy(){this.setState({showCopyConfirmation:!0}),clearTimeout(this.dismissCopyConfirmation),this.dismissCopyConfirmation=setTimeout(()=>{this.setState({showCopyConfirmation:!1})},4e3)}onSelectInput(e){e.target.select()}render(){var{children:e,isScheduled:t,post:n,postType:r}=this.props,o=r?.labels?.singular_name,i=r?.labels?.view_item,r=r?.labels?.add_new_item,s="future"===n.status?(s=(a=n).slug,a.permalink_template.includes(Oi)?a.permalink_template.replace(Oi,s):a.permalink_template.includes(Ui)?a.permalink_template.replace(Ui,s):a.permalink_template):n.link,a=(0,f.addQueryArgs)("post-new.php",{post_type:n.type}),l=t?(0,D.createElement)(D.Fragment,null,(0,U.__)("\u5df2\u6392\u5165\u53d1\u5e03\u8ba1\u5212\uff0c\u5c06\u5728\u6b64\u65f6\u95f4\u53d1\u5e03\uff1a")," ",(0,D.createElement)(ii,null),"."):(0,U.__)("\u5df2\u88ab\u53d1\u5e03\u3002");return(0,D.createElement)("div",{className:"post-publish-panel__postpublish"},(0,D.createElement)(M.PanelBody,{className:"post-publish-panel__postpublish-header"},(0,D.createElement)("a",{ref:this.postLink,href:s},(0,H.decodeEntities)(n.title)||(0,U.__)("\uff08\u65e0\u6807\u9898\uff09"))," ",l),(0,D.createElement)(M.PanelBody,null,(0,D.createElement)("p",{className:"post-publish-panel__postpublish-subheader"},(0,D.createElement)("strong",null,(0,U.__)("\u73b0\u5728\u8981\u505a\u4ec0\u4e48\uff1f"))),(0,D.createElement)("div",{className:"post-publish-panel__postpublish-post-address-container"},(0,D.createElement)(M.TextControl,{__nextHasNoMarginBottom:!0,className:"post-publish-panel__postpublish-post-address",readOnly:!0,label:(0,U.sprintf)((0,U.__)("%s\u5730\u5740"),o),value:(0,f.safeDecodeURIComponent)(s),onFocus:this.onSelectInput}),(0,D.createElement)("div",{className:"post-publish-panel__postpublish-post-address__copy-button-wrap"},(0,D.createElement)(Fi,{text:s,onCopy:this.onCopy},this.state.showCopyConfirmation?(0,U.__)("\u5df2\u590d\u5236\uff01"):(0,U.__)("\u590d\u5236")))),(0,D.createElement)("div",{className:"post-publish-panel__postpublish-buttons"},!t&&(0,D.createElement)(M.Button,{variant:"primary",href:s},i),(0,D.createElement)(M.Button,{variant:t?"primary":"secondary",href:a},r))),e)}}var Hi=(0,R.withSelect)(e=>{var{getEditedPostAttribute:t,getCurrentPost:n,isCurrentPostScheduled:r}=e(F),e=e(L.store)["getPostType"];return{post:n(),postType:e(t("type")),isScheduled:r()}})(Mi);class zi extends D.Component{constructor(){super(...arguments),this.onSubmit=this.onSubmit.bind(this)}componentDidUpdate(e){e.isPublished&&!this.props.isSaving&&this.props.isDirty&&this.props.onClose()}onSubmit(){var{onClose:e,hasPublishAction:t,isPostTypeViewable:n}=this.props;t&&n||e()}render(){const{forceIsDirty:e,forceIsSaving:t,isBeingScheduled:n,isPublished:r,isPublishSidebarEnabled:o,isScheduled:i,isSaving:s,isSavingNonPostEntityChanges:a,onClose:l,onTogglePublishSidebar:c,PostPublishExtension:u,PrePublishExtension:d,...p}=this.props,{hasPublishAction:m,isDirty:g,isPostTypeViewable:h,...f}=p;var _=r||i&&n,v=!_&&!s,_=_&&!s;return(0,D.createElement)("div",{className:"editor-post-publish-panel",...f},(0,D.createElement)("div",{className:"editor-post-publish-panel__header"},_?(0,D.createElement)(M.Button,{onClick:l,icon:Fo,label:(0,U.__)("\u5173\u95ed\u9762\u677f")}):(0,D.createElement)(D.Fragment,null,(0,D.createElement)("div",{className:"editor-post-publish-panel__header-publish-button"},(0,D.createElement)(Uo,{focusOnMount:!0,onSubmit:this.onSubmit,forceIsDirty:e,forceIsSaving:t})),(0,D.createElement)("div",{className:"editor-post-publish-panel__header-cancel-button"},(0,D.createElement)(M.Button,{disabled:a,onClick:l,variant:"secondary"},(0,U.__)("\u53d6\u6d88"))))),(0,D.createElement)("div",{className:"editor-post-publish-panel__content"},v&&(0,D.createElement)(Li,null,d&&(0,D.createElement)(d,null)),_&&(0,D.createElement)(Hi,{focusOnMount:!0},u&&(0,D.createElement)(u,null)),s&&(0,D.createElement)(M.Spinner,null)),(0,D.createElement)("div",{className:"editor-post-publish-panel__footer"},(0,D.createElement)(M.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,U.__)("\u603b\u662f\u663e\u793a\u53d1\u5e03\u524d\u68c0\u67e5\u3002"),checked:o,onChange:c})))}}var Vi=(0,O.compose)([(0,R.withSelect)(e=>{var t=e(L.store)["getPostType"],{getCurrentPost:n,getEditedPostAttribute:r,isCurrentPostPublished:o,isCurrentPostScheduled:i,isEditedPostBeingScheduled:s,isEditedPostDirty:a,isSavingPost:l,isSavingNonPostEntityChanges:c}=e(F),e=e(F)["isPublishSidebarEnabled"],t=t(r("type"));return{hasPublishAction:null!=(r=n()._links?.["gc:action-publish"])&&r,isPostTypeViewable:t?.viewable,isBeingScheduled:s(),isDirty:a(),isPublished:o(),isPublishSidebarEnabled:e(),isSaving:l(),isSavingNonPostEntityChanges:c(),isScheduled:i()}}),(0,R.withDispatch)((e,{isPublishSidebarEnabled:t})=>{const{disablePublishSidebar:n,enablePublishSidebar:r}=e(F);return{onTogglePublishSidebar:()=>{(t?n:r)()}}}),M.withFocusReturn,M.withConstrainedTabbing])(zi),Wi=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-4v-2.4L14 14l1-1-3-3-3 3 1 1 1.2-1.2v2.4H7.7c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4H9l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8 0 1-.8 1.8-1.7 1.8z"}));var ji=function({icon:e,size:t=24,...n}){return(0,D.cloneElement)(e,{width:t,height:t,...n})},Gi=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"})),Ki=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M17.3 10.1c0-2.5-2.1-4.4-4.8-4.4-2.2 0-4.1 1.4-4.6 3.3h-.2C5.7 9 4 10.7 4 12.8c0 2.1 1.7 3.8 3.7 3.8h9c1.8 0 3.2-1.5 3.2-3.3.1-1.6-1.1-2.9-2.6-3.2zm-.5 5.1h-9c-1.2 0-2.2-1.1-2.2-2.3s1-2.4 2.2-2.4h1.3l.3-1.1c.4-1.3 1.7-2.2 3.2-2.2 1.8 0 3.3 1.3 3.3 2.9v1.3l1.3.2c.8.1 1.4.9 1.4 1.8-.1 1-.9 1.8-1.8 1.8z"}));function $i({forceIsDirty:c,forceIsSaving:u,showIconLabels:e=!1}){const[t,n]=(0,D.useState)(!1);var r=(0,O.useViewportMatch)("small");const{isAutosaving:o,isDirty:i,isNew:s,isPending:a,isPublished:l,isSaveable:d,isSaving:p,isScheduled:m,hasPublishAction:g}=(0,R.useSelect)(e=>{var{isEditedPostNew:e,isCurrentPostPublished:t,isCurrentPostScheduled:n,isEditedPostDirty:r,isSavingPost:o,isEditedPostSaveable:i,getCurrentPost:s,isAutosavingPost:a,getEditedPostAttribute:l}=e(F);return{isAutosaving:a(),isDirty:c||r(),isNew:e(),isPending:"pending"===l("status"),isPublished:t(),isSaving:u||o(),isSaveable:i(),isScheduled:n(),hasPublishAction:null!=(a=s()?._links?.["gc:action-publish"])&&a}},[c,u]),h=(0,R.useDispatch)(F)["savePost"],f=(0,O.usePrevious)(p);if((0,D.useEffect)(()=>{let e;return f&&!p&&(n(!0),e=setTimeout(()=>{n(!1)},1e3)),()=>clearTimeout(e)},[p]),!g&&a)return null;if(l||m)return null;var _=a?(0,U.__)("\u53e6\u5b58\u4e3a\u5f85\u5904\u7406"):(0,U.__)("\u4fdd\u5b58\u8349\u7a3f"),v=(0,U.__)("\u4fdd\u5b58"),y=t||!s&&!i,b=p||y,E=p||y||!d;let S;return p?S=o?(0,U.__)("\u6b63\u5728\u81ea\u52a8\u4fdd\u5b58"):(0,U.__)("\u6b63\u5728\u4fdd\u5b58"):y?S=(0,U.__)("\u5df2\u4fdd\u5b58"):r?S=_:e&&(S=v),(0,D.createElement)(M.Button,{className:d||p?T()({"editor-post-save-draft":!b,"editor-post-saved-state":b,"is-saving":p,"is-autosaving":o,"is-saved":y,[(0,M.__unstableGetAnimateClassName)({type:"loading"})]:p}):void 0,onClick:E?void 0:()=>h(),shortcut:E?void 0:k.displayShortcut.primary("s"),showTooltip:!0,variant:"tertiary",icon:r?void 0:Wi,label:S||_,"aria-disabled":E},b&&(0,D.createElement)(ji,{icon:y?Gi:Ki}),S)}var Yi=(0,O.compose)([(0,R.withSelect)(e=>{var{getCurrentPost:e,getCurrentPostType:t}=e(F);return{hasPublishAction:null!=(e=e()._links?.["gc:action-publish"])&&e,postType:t()}})])(function({hasPublishAction:e,children:t}){return e?t:null});function qi({children:e}){return(0,D.createElement)(S,{supportKeys:"slug"},e)}class Qi extends D.Component{constructor({postSlug:e,postTitle:t,postID:n}){super(...arguments),this.state={editedSlug:(0,f.safeDecodeURIComponent)(e)||(0,f.cleanForSlug)(t)||n},this.setSlug=this.setSlug.bind(this)}setSlug(e){var{postSlug:t,onUpdateSlug:n}=this.props,e=e.target["value"],e=(0,f.cleanForSlug)(e);e!==t&&n(e)}render(){var e=this.state["editedSlug"];return(0,D.createElement)(qi,null,(0,D.createElement)(M.TextControl,{__nextHasNoMarginBottom:!0,label:(0,U.__)("\u522b\u540d"),autoComplete:"off",spellCheck:"false",value:e,onChange:e=>this.setState({editedSlug:e}),onBlur:this.setSlug,className:"editor-post-slug"}))}}var Xi=(0,O.compose)([(0,R.withSelect)(e=>{var{getCurrentPost:e,getEditedPostAttribute:t}=e(F),e=e()["id"];return{postSlug:t("slug"),postTitle:t("title"),postID:e}}),(0,R.withDispatch)(e=>{const t=e(F)["editPost"];return{onUpdateSlug(e){t({slug:e})}}})])(Qi);var Zi=(0,O.compose)([(0,R.withSelect)(e=>{var t;return{hasStickyAction:null!=(t=e(F).getCurrentPost()._links?.["gc:action-sticky"])&&t,postType:e(F).getCurrentPostType()}})])(function({hasStickyAction:e,postType:t,children:n}){return"post"===t&&e?n:null});var Ji=(0,O.compose)([(0,R.withSelect)(e=>({postSticky:e(F).getEditedPostAttribute("sticky")})),(0,R.withDispatch)(t=>({onUpdateSticky(e){t(F).editPost({sticky:e})}}))])(function({onUpdateSticky:e,postSticky:t=!1}){return(0,D.createElement)(Zi,null,(0,D.createElement)(M.CheckboxControl,{__nextHasNoMarginBottom:!0,label:(0,U.__)("\u5728\u7cfb\u7edf\u4e2d\u7f6e\u9876"),checked:t,onChange:()=>e(!t)}))});var es=(0,O.compose)([(0,R.withSelect)(e=>{var{isSavingPost:e,isCurrentPostPublished:t,isCurrentPostScheduled:n}=e(F);return{isSaving:e(),isPublished:t(),isScheduled:n()}}),(0,R.withDispatch)(e=>{const{editPost:t,savePost:n}=e(F);return{onClick:()=>{t({status:"draft"}),n()}}})])(function({isSaving:e,isPublished:t,isScheduled:n,onClick:r}){const[o,i]=(0,D.useState)(!1);if(!t&&!n)return null;let s;return t?s=(0,U.__)("\u60a8\u786e\u5b9a\u8981\u53d6\u6d88\u53d1\u5e03\u6b64\u6587\u7ae0\u5417\uff1f"):n&&(s=(0,U.__)("\u60a8\u786e\u5b9a\u8981\u53d6\u6d88\u8ba1\u5212\u6b64\u6587\u7ae0\u5417\uff1f")),(0,D.createElement)(D.Fragment,null,(0,D.createElement)(M.Button,{className:"editor-post-switch-to-draft",onClick:()=>{i(!0)},disabled:e,variant:"secondary",style:{flexGrow:"1",justifyContent:"center"}},(0,U.__)("\u5207\u6362\u81f3\u8349\u7a3f")),(0,D.createElement)(M.__experimentalConfirmDialog,{isOpen:o,onConfirm:()=>{i(!1),r()},onCancel:()=>i(!1)},s))});const{lock:ts,unlock:ns}=(0,window.gc.privateApis.__dangerousOptInToUnstableAPIsOnlyForCoreModules)("I know using unstable features means my plugin or theme will inevitably break on the next GeChiUI release.","@gechiui/editor");function rs(){var{syncStatus:e,postType:t,meta:n}=(0,R.useSelect)(e=>{e=e(F).getEditedPostAttribute;return{syncStatus:e("gc_pattern_sync_status"),meta:e("meta"),postType:e("type")}});return"gc_block"!==t?null:(t="unsynced"===n?.gc_pattern_sync_status?"unsynced":e,(0,D.createElement)(M.PanelRow,{className:"edit-post-sync-status"},(0,D.createElement)("span",null,(0,U.__)("\u540c\u6b65\u72b6\u6001")),(0,D.createElement)("div",null,"unsynced"===t?(0,U.__)("\u672a\u540c\u6b65"):(0,U.__)("\u5b8c\u5168\u540c\u6b65"))))}function os(){const t=(0,R.useDispatch)(F)["editPost"],[e,n]=(0,D.useState)(!1),[r,o]=(0,D.useState)(void 0),{postType:i,isNewPost:s}=(0,R.useSelect)(e=>{var{getEditedPostAttribute:e,isCleanNewPost:t}=e(F);return{postType:e("type"),isNewPost:t()}},[]);(0,D.useEffect)(()=>{s&&"gc_block"===i&&n(!0)},[]);var a;return"gc_block"===i&&s?(a=ns(w.privateApis)["ReusableBlocksRenameHint"],(0,D.createElement)(D.Fragment,null,e&&(0,D.createElement)(M.Modal,{title:(0,U.__)("\u8bbe\u7f6e\u533a\u5757\u6837\u677f\u540c\u6b65\u72b6\u6001"),onRequestClose:()=>{n(!1)},overlayClassName:"reusable-blocks-menu-items__convert-modal"},(0,D.createElement)("form",{onSubmit:e=>{e.preventDefault(),n(!1),t({meta:{gc_pattern_sync_status:r}})}},(0,D.createElement)(M.__experimentalVStack,{spacing:"5"},(0,D.createElement)(a,null),(0,D.createElement)(M.ToggleControl,{label:(0,U.__)("\u5df2\u540c\u6b65"),help:(0,U.__)("\u7f16\u8f91\u56fe\u6848\u5c06\u5728\u4f7f\u7528\u7684\u4efb\u4f55\u4f4d\u7f6e\u8fdb\u884c\u66f4\u65b0\u3002"),checked:!r,onChange:()=>{o(r?void 0:"unsynced")}}),(0,D.createElement)(M.__experimentalHStack,{justify:"right"},(0,D.createElement)(M.Button,{variant:"primary",type:"submit"},(0,U.__)("\u521b\u5efa")))))))):null}var is=(0,O.compose)([(0,R.withSelect)(e=>({postType:e(F).getCurrentPostType(),taxonomies:e(L.store).getTaxonomies({per_page:-1})}))])(function({postType:t,taxonomies:e,taxonomyWrapper:n=e=>e}){return(null!=e?e:[]).filter(e=>e.types.includes(t)).filter(e=>e.visibility?.show_ui).map(e=>{var t=e.hierarchical?Ii:yi;return(0,D.createElement)(D.Fragment,{key:"taxonomy-"+e.slug},n((0,D.createElement)(t,{slug:e.slug}),e))})});var ss=(0,O.compose)([(0,R.withSelect)(e=>({postType:e(F).getCurrentPostType(),taxonomies:e(L.store).getTaxonomies({per_page:-1})}))])(function({postType:t,taxonomies:e,children:n}){return e?.some(e=>e.types.includes(t))?n:null}),as=Va(773);function ls(){var e=(0,R.useSelect)(e=>e(F).getEditedPostContent(),[]);const{editPost:t,resetEditorBlocks:n}=(0,R.useDispatch)(F),[r,o]=(0,D.useState)(e),[i,s]=(0,D.useState)(!1);var a=(0,O.useInstanceId)(ls);const l=(0,D.useRef)();i||r===e||o(e);return(0,D.useEffect)(()=>()=>{var e;l.current&&(e=(0,b.parse)(l.current),n(e))},[]),(0,D.createElement)(D.Fragment,null,(0,D.createElement)(M.VisuallyHidden,{as:"label",htmlFor:"post-content-"+a},(0,U.__)("\u952e\u5165\u6587\u5b57\u5185\u5bb9\u6216HTML")),(0,D.createElement)(as.Z,{autoComplete:"off",dir:"auto",value:r,onChange:e=>{e=e.target.value;t({content:e}),o(e),s(!0),l.current=e},onBlur:()=>{var e;i&&(e=(0,b.parse)(r),n(e),s(!1))},className:"editor-post-text-editor",id:"post-content-"+a,placeholder:(0,U.__)("\u5f00\u59cb\u7528\u6587\u5b57\u6216 HTML \u5199\u4f5c")}))}var cs=window.gc.dom;const us=/[\r\n]+/g;var ds=(0,D.forwardRef)(function(e,t){const r=(0,D.useRef)(),[n,o]=(0,D.useState)(!1),i=(0,R.useDispatch)(F)["editPost"],{insertDefaultBlock:s,clearSelectedBlock:a,insertBlocks:l}=(0,R.useDispatch)(w.store),{isCleanNewPost:c,title:u,placeholder:d,hasFixedToolbar:p}=(0,R.useSelect)(e=>{var{getEditedPostAttribute:t,isCleanNewPost:n}=e(F),e=e(w.store)["getSettings"],{titlePlaceholder:e,hasFixedToolbar:r}=e();return{isCleanNewPost:n(),title:t("title"),placeholder:e,hasFixedToolbar:r}},[]);function m(e){l(e,0)}function g(e){i({title:e})}(0,D.useImperativeHandle)(t,()=>({focus:()=>{r?.current?.focus()}})),(0,D.useEffect)(()=>{var e,t,n;r.current&&(e=r.current.ownerDocument["defaultView"],{name:t,parent:n}=e,{activeElement:t,body:n}=("editor-canvas"===t?n:e).document,!c||t&&n!==t||r.current.focus())},[c]);const[h,f]=(0,D.useState)({});function _(){o(!1),f({})}var t=T()("gc-block gc-block-post-title block-editor-block-list__block editor-post-title editor-post-title__input rich-text",{"is-selected":n,"has-fixed-toolbar":p}),v=(0,H.decodeEntities)(d)||(0,U.__)("\u6dfb\u52a0\u6807\u9898"),y=(0,E.__unstableUseRichText)({value:u,onChange:function(e){g(e.replace(us," "))},placeholder:v,selectionStart:h.start,selectionEnd:h.end,onSelectionChange(r,o){f(e=>{var{start:t,end:n}=e;return t===r&&n===o?e:{start:r,end:o}})},__unstableDisableFormats:!0,preserveWhiteSpace:!0})["ref"];return(0,D.createElement)(S,{supportKeys:"title"},(0,D.createElement)("h1",{ref:(0,O.useMergeRefs)([y,r]),contentEditable:!0,className:t,"aria-label":v,role:"textbox","aria-multiline":"true",onFocus:function(){o(!0),a()},onBlur:_,onKeyDown:function(e){e.keyCode===k.ENTER&&(e.preventDefault(),s(void 0,void 0,0))},onKeyPress:_,onPaste:function(e){var t=e.clipboardData;let n="",r="";try{n=t.getData("text/plain"),r=t.getData("text/html")}catch(e){try{r=t.getData("Text")}catch(e){return}}window.console.log("Received HTML:\n\n",r),window.console.log("Received plain text:\n\n",n),t=(0,b.pasteHandler)({HTML:r,plainText:n}),e.preventDefault(),t.length&&("string"!=typeof t?([e]=t,u||"core/heading"!==e.name&&"core/paragraph"!==e.name?m(t):(g((0,cs.__unstableStripHTML)(e.attributes.content)),m(t.slice(1)))):(e={...(0,E.create)({html:u}),...h},e=(0,E.insert)(e,(0,E.create)({html:(0,cs.__unstableStripHTML)(t)})),g((0,E.toHTMLString)({value:e})),f({start:e.start,end:e.end})))}}))});function ps(){var{isNew:e,isDeleting:t,postId:n}=(0,R.useSelect)(e=>{e=e(F);return{isNew:e.isEditedPostNew(),isDeleting:e.isDeletingPost(),postId:e.getCurrentPostId()}},[]);const r=(0,R.useDispatch)(F)["trashPost"];return e||!n?null:(0,D.createElement)(M.Button,{className:"editor-post-trash",isDestructive:!0,variant:"secondary",isBusy:t,"aria-disabled":t,onClick:t?void 0:()=>r()},(0,U.__)("\u79fb\u52a8\u81f3\u56de\u6536\u7ad9"))}var ms=(0,R.withSelect)(e=>{var{isEditedPostNew:t,getCurrentPostId:n,getCurrentPostType:r}=e(F),{getPostType:e,canUser:o}=e(L.store),n=n(),e=e(r())?.rest_base||"";return{isNew:t(),postId:n,canUserDelete:!(!n||!e)&&o("delete",e,n)}})(function({isNew:e,postId:t,canUserDelete:n,children:r}){return!e&&t&&n?r:null});function gs({onClose:e}){var{isEditable:t,postSlug:n,viewPostLabel:r,postLink:o,permalinkPrefix:i,permalinkSuffix:s}=(0,R.useSelect)(e=>{var t=e(F).getCurrentPost(),n=e(F).getCurrentPostType(),n=e(L.store).getPostType(n),r=e(F).getPermalinkParts(),o=null!=(o=t?._links?.["gc:action-publish"])&&o;return{isEditable:e(F).isPermalinkEditable()&&o,postSlug:(0,f.safeDecodeURIComponent)(e(F).getEditedPostSlug()),viewPostLabel:n?.labels.view_item,postLink:t.link,permalinkPrefix:r?.prefix,permalinkSuffix:r?.suffix}},[]);const a=(0,R.useDispatch)(F)["editPost"],[l,c]=(0,D.useState)(!1);return(0,D.createElement)("div",{className:"editor-post-url"},(0,D.createElement)(w.__experimentalInspectorPopoverHeader,{title:(0,U.__)("URL"),onClose:e}),t&&(0,D.createElement)(M.TextControl,{__nextHasNoMarginBottom:!0,label:(0,U.__)("\u56fa\u5b9a\u94fe\u63a5"),value:l?"":n,autoComplete:"off",spellCheck:"false",help:(0,D.createElement)(D.Fragment,null,(0,U.__)("URL\u7684\u6700\u540e\u4e00\u6bb5\u3002")," ",(0,D.createElement)(M.ExternalLink,{href:(0,U.__)("https://www.gechiui.com/support/page-post-settings-sidebar/#permalink")},(0,U.__)("\u4e86\u89e3\u66f4\u591a\u3002"))),onChange:e=>{a({slug:e}),e?l&&c(!1):l||c(!0)},onBlur:e=>{a({slug:(0,f.cleanForSlug)(e.target.value)}),l&&c(!1)}}),t&&(0,D.createElement)("h3",{className:"editor-post-url__link-label"},null!=r?r:(0,U.__)("\u67e5\u770b\u6587\u7ae0")),(0,D.createElement)("p",null,(0,D.createElement)(M.ExternalLink,{className:"editor-post-url__link",href:o,target:"_blank"},t?(0,D.createElement)(D.Fragment,null,(0,D.createElement)("span",{className:"editor-post-url__link-prefix"},i),(0,D.createElement)("span",{className:"editor-post-url__link-slug"},n),(0,D.createElement)("span",{className:"editor-post-url__link-suffix"},s)):o)))}function hs({children:e}){return(0,R.useSelect)(e=>{var t=e(F).getCurrentPostType();return!!e(L.store).getPostType(t)?.viewable&&!!e(F).getCurrentPost().link&&!!e(F).getPermalinkParts()},[])?e:null}function fs(){return _s()}function _s(){var e=(0,R.useSelect)(e=>e(F).getPermalink(),[]);return(0,f.filterURLForDisplay)((0,f.safeDecodeURIComponent)(e))}var vs=(0,O.compose)([(0,R.withSelect)(e=>{var{getCurrentPost:e,getCurrentPostType:t}=e(F);return{hasPublishAction:null!=(e=e()._links?.["gc:action-publish"])&&e,postType:t()}})])(function({hasPublishAction:e,render:t}){return t({canEdit:e})}),ys=(0,D.createElement)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,D.createElement)(n.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})),bs=window.gc.wordcount;function Es(){var e=(0,R.useSelect)(e=>e(F).getEditedPostAttribute("content"),[]),t=(0,U._x)("\u5b57\u6570","Word count type. Do not translate!");return(0,D.createElement)("span",{className:"word-count"},(0,bs.count)(e,t))}const Ss=189;function ks(){var e=(0,R.useSelect)(e=>e(F).getEditedPostAttribute("content"),[]),t=(0,U._x)("\u5b57\u6570","Word count type. Do not translate!"),e=Math.round((0,bs.count)(e,t)/Ss),t=0===e?(0,D.createInterpolateElement)((0,U.__)("<span>< 1</span> \u5206\u949f"),{span:(0,D.createElement)("span",null)}):(0,D.createInterpolateElement)((0,U.sprintf)((0,U._n)("<span>%d</span> \u5206\u949f","<span>%d</span> minutes",e),e),{span:(0,D.createElement)("span",null)});return(0,D.createElement)("span",{className:"time-to-read"},t)}function Ps(){var e=(0,R.useSelect)(e=>e(F).getEditedPostAttribute("content"),[]);return(0,bs.count)(e,"characters_including_spaces")}function ws({hasOutlineItemsDisabled:e,onRequestClose:t}){var{headingCount:n,paragraphCount:r,numberOfBlocks:o}=(0,R.useSelect)(e=>{e=e(w.store).getGlobalBlockCount;return{headingCount:e("core/heading"),paragraphCount:e("core/paragraph"),numberOfBlocks:e()}},[]);return(0,D.createElement)(D.Fragment,null,(0,D.createElement)("div",{className:"table-of-contents__wrapper",role:"note","aria-label":(0,U.__)("\u6587\u6863\u7edf\u8ba1"),tabIndex:"0"},(0,D.createElement)("ul",{role:"list",className:"table-of-contents__counts"},(0,D.createElement)("li",{className:"table-of-contents__count"},(0,U.__)("\u5b57\u6570"),(0,D.createElement)(Es,null)),(0,D.createElement)("li",{className:"table-of-contents__count"},(0,U.__)("\u5b57\u7b26"),(0,D.createElement)("span",{className:"table-of-contents__number"},(0,D.createElement)(Ps,null))),(0,D.createElement)("li",{className:"table-of-contents__count"},(0,U.__)("\u9605\u8bfb\u65f6\u957f"),(0,D.createElement)(ks,null)),(0,D.createElement)("li",{className:"table-of-contents__count"},(0,U.__)("\u6807\u9898"),(0,D.createElement)("span",{className:"table-of-contents__number"},n)),(0,D.createElement)("li",{className:"table-of-contents__count"},(0,U.__)("\u6bb5\u843d"),(0,D.createElement)("span",{className:"table-of-contents__number"},r)),(0,D.createElement)("li",{className:"table-of-contents__count"},(0,U.__)("\u533a\u5757"),(0,D.createElement)("span",{className:"table-of-contents__number"},o)))),0<n&&(0,D.createElement)(D.Fragment,null,(0,D.createElement)("hr",null),(0,D.createElement)("h2",{className:"table-of-contents__title"},(0,U.__)("\u6587\u6863\u5927\u7eb2")),(0,D.createElement)(yr,{onSelect:t,hasOutlineItemsDisabled:e})))}var Cs=(0,D.forwardRef)(function({hasOutlineItemsDisabled:t,repositionDropdown:e,...n},r){const o=(0,R.useSelect)(e=>!!e(w.store).getBlockCount(),[]);return(0,D.createElement)(M.Dropdown,{popoverProps:{placement:e?"right":"bottom"},className:"table-of-contents",contentClassName:"table-of-contents__popover",renderToggle:({isOpen:e,onToggle:t})=>(0,D.createElement)(M.Button,{...n,ref:r,onClick:o?t:void 0,icon:ys,"aria-expanded":e,"aria-haspopup":"true",label:(0,U.__)("\u8be6\u7ec6\u4fe1\u606f"),tooltipPosition:"bottom","aria-disabled":!o}),renderContent:({onClose:e})=>(0,D.createElement)(ws,{onRequestClose:e,hasOutlineItemsDisabled:t})})});function Ts(){const t=(0,R.useSelect)(t=>()=>{var e=t(L.store)["__experimentalGetDirtyEntityRecords"];return 0<e().length},[]),e=e=>{if(t())return e.returnValue=(0,U.__)("\u60a8\u6709\u672a\u4fdd\u5b58\u7684\u4fee\u6539\u3002\u5982\u679c\u60a8\u7ee7\u7eed\uff0c\u8fd9\u4e9b\u4fee\u6539\u5c06\u4f1a\u4e22\u5931\u3002"),e.returnValue};return(0,D.useEffect)(()=>(window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}),[]),null}var xs=window.gc.reusableBlocks,p=(0,O.createHigherOrderComponent)(s=>(0,R.withRegistry)(e=>{const{useSubRegistry:t=!0,registry:n,...r}=e;if(!t)return(0,D.createElement)(s,{...r});const[o,i]=(0,D.useState)(null);return(0,D.useEffect)(()=>{var e=(0,R.createRegistry)({"core/block-editor":w.storeConfig},n);e.registerStore("core/editor",ar),i(e)},[n]),o?(0,D.createElement)(R.RegistryProvider,{value:o},(0,D.createElement)(s,{...r})):null}),"withRegistryProvider");const h=(e,t)=>`<a ${Bs(e)}>${t}</a>`,Bs=e=>`href="${e}" target="_blank" rel="noreferrer noopener"`,Is=async(e={})=>{return(await(0,R.resolveSelect)(L.store).getMediaItems({...e,orderBy:e?.search?"relevance":"date"})).map(e=>({...e,alt:e.alt_text,url:e.source_url,previewUrl:e.media_details?.sizes?.medium?.source_url,caption:e.caption?.raw}))};var Ns=[{name:"images",labels:{name:(0,U.__)("\u56fe\u7247"),search_items:(0,U.__)("\u641c\u7d22\u56fe\u7247")},mediaType:"image",async fetch(e={}){return Is({...e,media_type:"image"})}},{name:"videos",labels:{name:(0,U.__)("\u89c6\u9891"),search_items:(0,U.__)("\u641c\u7d22\u89c6\u9891")},mediaType:"video",async fetch(e={}){return Is({...e,media_type:"video"})}},{name:"audio",labels:{name:(0,U.__)("\u97f3\u9891"),search_items:(0,U.__)("\u641c\u7d22\u97f3\u9891")},mediaType:"audio",async fetch(e={}){return Is({...e,media_type:"audio"})}},{name:"openverse",labels:{name:(0,U.__)("Openverse"),search_items:(0,U.__)("\u641c\u7d22 Openverse")},mediaType:"image",async fetch(e={}){e={...e,mature:!1,excluded_source:"flickr,inaturalist,wikimedia",license:"pdm,cc0"};const n={per_page:"page_size",search:"q"},r=new URL("https://api.openverse.engineering/v1/images/");return Object.entries(e).forEach(([e,t])=>{e=n[e]||e;r.searchParams.set(e,t)}),(await(await window.fetch(r,{headers:{"User-Agent":"GeChiUI/inserter-media-fetch"}})).json()).results.map(e=>({...e,title:e.title?.toLowerCase().startsWith("file:")?e.title.slice(5):e.title,sourceId:e.id,id:void 0,caption:(e=>{var{title:e,foreign_landing_url:t,creator:n,creator_url:r,license:o,license_version:i,license_url:s}=e,o=((e,t)=>{let n=e.trim();return"pdm"!==e&&(n=e.toUpperCase().replace("SAMPLING","Sampling")),t&&(n+=" "+t),n=["pdm","cc0"].includes(e)?n:"CC "+n})(o,i),i=(0,H.decodeEntities)(n);let a;return(a=i?e?(0,U.sprintf)((0,U._x)('"%1$s" by %2$s/ %3$s',"caption"),h(t,(0,H.decodeEntities)(e)),r?h(r,i):i,s?h(s+"?ref=openverse",o):o):(0,U.sprintf)((0,U._x)("<a %1$s>Work</a> by %2$s/ %3$s","caption"),Bs(t),r?h(r,i):i,s?h(s+"?ref=openverse",o):o):e?(0,U.sprintf)((0,U._x)('"%1$s"/ %2$s',"caption"),h(t,(0,H.decodeEntities)(e)),s?h(s+"?ref=openverse",o):o):(0,U.sprintf)((0,U._x)("<a %1$s>Work</a>/ %2$s","caption"),Bs(t),s?h(s+"?ref=openverse",o):o)).replace(/\s{2}/g," ")})(e),previewUrl:e.thumbnail}))},getReportUrl:({sourceId:e})=>`https://www.gechiui.com/openverse/image/${e}/report/`,isExternalResource:!0}],As=window.gc.mediaUtils;const Ds=()=>{};function Rs({additionalData:e={},allowedTypes:t,filesList:n,maxUploadFileSize:r,onError:o=Ds,onFileChange:i}){var{getCurrentPostId:s,getEditorSettings:a}=(0,R.select)(F),l=a().allowedMimeTypes;r=r||a().maxUploadFileSize,(0,As.uploadMedia)({allowedTypes:t,filesList:n,onFileChange:i,additionalData:{post:s(),...e},maxUploadFileSize:r,onError:({message:e})=>o(e),gcAllowedMimeTypes:l})}const Ls=[],Os=["__experimentalBlockDirectory","__experimentalDiscussionSettings","__experimentalFeatures","__experimentalGlobalStylesBaseStyles","__experimentalPreferredStyleVariations","__experimentalSetIsInserterOpened","__unstableGalleryWithImageBlocks","alignWide","allowedBlockTypes","blockInspectorTabs","allowedMimeTypes","bodyPlaceholder","canLockBlocks","capabilities","clearBlockSelection","codeEditingEnabled","colors","disableCustomColors","disableCustomFontSizes","disableCustomSpacingSizes","disableCustomGradients","disableLayoutStyles","enableCustomLineHeight","enableCustomSpacing","enableCustomUnits","enableOpenverseMediaCategory","focusMode","distractionFree","fontSizes","gradients","generateAnchors","hasFixedToolbar","hasInlineToolbar","isDistractionFree","imageDefaultSize","imageDimensions","imageEditing","imageSizes","isRTL","keepCaretInsideBlock","locale","maxWidth","onUpdateDefaultBlockStyles","postContentAttributes","postsPerPage","readOnly","styles","template","templateLock","titlePlaceholder","supportsLayout","widgetTypesToHideFromLegacyWidgetBlock","__unstableHasCustomAppender","__unstableIsPreviewMode","__unstableResolvedAssets","__unstableIsBlockBasedTheme","behaviors"];var Us=function(n,e){var t;const{reusableBlocks:r,hasUploadPermissions:o,canUseUnfilteredHTML:i,userCanCreatePages:s,pageOnFront:a,postType:l}=(0,R.useSelect)(e=>{var{canUserUseUnfilteredHTML:t,getCurrentPostType:n}=e(F),r="web"===D.Platform.OS,{canUser:o,getEntityRecord:i}=e(L.store),i=o("read","settings")?i("root","site"):void 0;return{canUseUnfilteredHTML:t(),reusableBlocks:r?e(L.store).getEntityRecords("postType","gc_block",{per_page:-1}):Ls,hasUploadPermissions:null==(t=o("create","media"))||t,userCanCreatePages:o("create","pages"),pageOnFront:i?.page_on_front,postType:n()}},[]),c=null!=(t=n.__experimentalAdditionalBlockPatterns)?t:n.__experimentalBlockPatterns,u=null!=(t=n.__experimentalAdditionalBlockPatternCategories)?t:n.__experimentalBlockPatternCategories,{restBlockPatterns:d,restBlockPatternCategories:p}=(0,R.useSelect)(e=>({restBlockPatterns:e(L.store).getBlockPatterns(),restBlockPatternCategories:e(L.store).getBlockPatternCategories()}),[]),m=(0,D.useMemo)(()=>[...c||[],...d||[]].filter((t,e,n)=>e===n.findIndex(e=>t.name===e.name)).filter(({postTypes:e})=>!e||Array.isArray(e)&&e.includes(l)),[c,d,l]),g=(0,D.useMemo)(()=>[...u||[],...p||[]].filter((t,e,n)=>e===n.findIndex(e=>t.name===e.name)),[u,p]),h=(0,R.useDispatch)(F)["undo"],f=(0,R.useDispatch)(L.store)["saveEntityRecord"];return(0,D.useMemo)(()=>({...Object.fromEntries(Object.entries(n).filter(([e])=>Os.includes(e))),mediaUpload:o?Rs:void 0,__experimentalReusableBlocks:r,__experimentalBlockPatterns:m,__experimentalBlockPatternCategories:g,__experimentalFetchLinkSuggestions:(e,t)=>(0,L.__experimentalFetchLinkSuggestions)(e,t,n),inserterMediaCategories:Ns,__experimentalFetchRichUrlData:L.__experimentalFetchUrlData,__experimentalCanUserUseUnfilteredHTML:i,__experimentalUndo:h,outlineMode:e,__experimentalCreatePageEntity:e=>s?f("postType","page",e):Promise.reject({message:(0,U.__)("\u60a8\u65e0\u6743\u521b\u5efa\u9875\u9762\u3002")}),__experimentalUserCanCreatePages:s,pageOnFront:a,__experimentalPreferPatternsOnRoot:e}),[n,o,r,m,g,i,h,e,s,a])};const Fs=ns(w.privateApis)["ExperimentalBlockEditorProvider"],Ms=p(({__unstableTemplate:e,post:t,settings:n,recovery:r,initialEdits:o,children:i,BlockEditorProviderComponent:s=Fs})=>{var a=(0,D.useMemo)(()=>"gc_template"===t.type?{}:{postId:t.id,postType:t.type},[t.id,t.type]),{editorSettings:l,selection:c,isReady:u}=(0,R.useSelect)(e=>{var{getEditorSettings:e,getEditorSelection:t,__unstableIsEditorReady:n}=e(F);return{editorSettings:e(),isReady:n(),selection:t()}},[]),{id:d,type:p}=null!=e?e:t,[p,d,m]=(0,L.useEntityBlockEditor)("postType",p,{id:d}),l=Us(l,!!e);const{updatePostLock:g,setupEditor:h,updateEditorSettings:f,__experimentalTearDownEditor:_}=(0,R.useDispatch)(F),v=(0,R.useDispatch)(C.store)["createWarningNotice"];return(0,D.useLayoutEffect)(()=>{if(!r)return g(n.postLock),h(t,o,n.template),n.autosave&&v((0,U.__)("\u6b64\u6587\u7ae0\u5b58\u5728\u6bd4\u4e0b\u5217\u7248\u672c\u66f4\u65b0\u7684\u81ea\u52a8\u4fdd\u5b58\u3002"),{id:"autosave-exists",actions:[{label:(0,U.__)("\u67e5\u770b\u81ea\u52a8\u4fdd\u5b58"),url:n.autosave.editLink}]}),()=>{_()}},[]),(0,D.useEffect)(()=>{f(n)},[n]),u?(0,D.createElement)(L.EntityProvider,{kind:"root",type:"site"},(0,D.createElement)(L.EntityProvider,{kind:"postType",type:t.type,id:t.id},(0,D.createElement)(w.BlockContextProvider,{value:a},(0,D.createElement)(s,{value:p,onChange:m,onInput:d,selection:c,settings:l,useSubRegistry:!1},i,(0,D.createElement)(xs.ReusableBlocksMenuItems,null))))):null});var Hs=function(e){return(0,D.createElement)(Ms,{...e,BlockEditorProviderComponent:w.BlockEditorProvider},e.children)},I=window.gc.serverSideRender,zs=Va.n(I);function _(n,r,e=[]){const t=(0,D.forwardRef)((e,t)=>(o()("gc.editor."+n,{since:"5.3",alternative:"gc.blockEditor."+n,version:"6.2"}),(0,D.createElement)(r,{ref:t,...e})));return e.forEach(e=>{t[e]=_(n+"."+e,r[e])}),t}function v(t,n){return(...e)=>(o()("gc.editor."+t,{since:"5.3",alternative:"gc.blockEditor."+t,version:"6.2"}),n(...e))}const Vs=_("RichText",w.RichText,["Content"]),Ws=(Vs.isEmpty=v("RichText.isEmpty",w.RichText.isEmpty),_("Autocomplete",w.Autocomplete)),js=_("AlignmentToolbar",w.AlignmentToolbar),Gs=_("BlockAlignmentToolbar",w.BlockAlignmentToolbar),Ks=_("BlockControls",w.BlockControls,["Slot"]),$s=_("BlockEdit",w.BlockEdit),Ys=_("BlockEditorKeyboardShortcuts",w.BlockEditorKeyboardShortcuts),qs=_("BlockFormatControls",w.BlockFormatControls,["Slot"]),Qs=_("BlockIcon",w.BlockIcon),Xs=_("BlockInspector",w.BlockInspector),Zs=_("BlockList",w.BlockList),Js=_("BlockMover",w.BlockMover),ea=_("BlockNavigationDropdown",w.BlockNavigationDropdown),ta=_("BlockSelectionClearer",w.BlockSelectionClearer),na=_("BlockSettingsMenu",w.BlockSettingsMenu),ra=_("BlockTitle",w.BlockTitle),oa=_("BlockToolbar",w.BlockToolbar),ia=_("ColorPalette",w.ColorPalette),sa=_("ContrastChecker",w.ContrastChecker),aa=_("CopyHandler",w.CopyHandler),la=_("DefaultBlockAppender",w.DefaultBlockAppender),ca=_("FontSizePicker",w.FontSizePicker),ua=_("Inserter",w.Inserter),da=_("InnerBlocks",w.InnerBlocks,["ButtonBlockAppender","DefaultBlockAppender","Content"]),pa=_("InspectorAdvancedControls",w.InspectorAdvancedControls,["Slot"]),ma=_("InspectorControls",w.InspectorControls,["Slot"]),ga=_("PanelColorSettings",w.PanelColorSettings),ha=_("PlainText",w.PlainText),fa=_("RichTextShortcut",w.RichTextShortcut),_a=_("RichTextToolbarButton",w.RichTextToolbarButton),va=_("__unstableRichTextInputEvent",w.__unstableRichTextInputEvent),ya=_("MediaPlaceholder",w.MediaPlaceholder),ba=_("MediaUpload",w.MediaUpload),Ea=_("MediaUploadCheck",w.MediaUploadCheck),Sa=_("MultiSelectScrollIntoView",w.MultiSelectScrollIntoView),ka=_("NavigableToolbar",w.NavigableToolbar),Pa=_("ObserveTyping",w.ObserveTyping),wa=_("SkipToSelectedBlock",w.SkipToSelectedBlock),Ca=_("URLInput",w.URLInput),Ta=_("URLInputButton",w.URLInputButton),xa=_("URLPopover",w.URLPopover),Ba=_("Warning",w.Warning),Ia=_("WritingFlow",w.WritingFlow),Na=v("createCustomColorsHOC",w.createCustomColorsHOC),Aa=v("getColorClassName",w.getColorClassName),Da=v("getColorObjectByAttributeValues",w.getColorObjectByAttributeValues),Ra=v("getColorObjectByColorValue",w.getColorObjectByColorValue),La=v("getFontSize",w.getFontSize),Oa=v("getFontSizeClass",w.getFontSizeClass),Ua=v("withColorContext",w.withColorContext),Fa=v("withColors",w.withColors),Ma=v("withFontSizes",w.withFontSizes);function Ha(e){return o()("gc.editor.cleanForSlug",{since:"12.7",plugin:"Gutenberg",alternative:"gc.url.cleanForSlug"}),(0,f.cleanForSlug)(e)}const za={};ts(za,{ExperimentalEditorProvider:Ms,EntitiesSavedStatesExtensible:Mr})}(),(window.gc=window.gc||{}).editor=Wa}();