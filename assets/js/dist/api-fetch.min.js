/*! This file is auto-generated */
!function(){"use strict";var n={d:function(e,r){for(var t in r)n.o(r,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o:function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}},e={},i=(n.d(e,{default:function(){return x}}),window.gc.i18n);function r(e){const a=(e,r)=>{var{headers:t={}}=e;for(const n in t)if("x-gc-nonce"===n.toLowerCase()&&t[n]===a.nonce)return r(e);return r({...e,headers:{...t,"X-GC-Nonce":a.nonce}})};return a.nonce=e,a}var t=(e,r)=>{let t=e.path;var n,a;return"string"==typeof e.namespace&&"string"==typeof e.endpoint&&(n=e.namespace.replace(/^\/|\/$/g,""),a=e.endpoint.replace(/^\//,""),t=a?n+"/"+a:n),delete e.namespace,delete e.endpoint,r({...e,path:t})},a=o=>(e,a)=>t(e,e=>{let r=e.url,t=e.path;var n;return"string"==typeof t&&(n=o,t=(t=-1!==o.indexOf("?")?t.replace("?","&"):t).replace(/^\//,""),"string"==typeof n&&-1!==n.indexOf("?")&&(t=t.replace("?","&")),r=n+t),a({...e,url:r})}),u=window.gc.url;function p(e,r){return Promise.resolve(r?e.body:new window.Response(JSON.stringify(e.body),{status:200,statusText:"OK",headers:e.headers}))}function o(e){const d=Object.fromEntries(Object.entries(e).map(([e,r])=>[(0,u.normalizePath)(e),r]));return(e,r)=>{var t,n,a,{parse:o=!0}=e;let s=e.path;if(!s&&e.url){const{rest_route:c,...i}=(0,u.getQueryArgs)(e.url);"string"==typeof c&&(s=(0,u.addQueryArgs)(c,i))}return"string"!=typeof s?r(e):(t=e.method||"GET",n=(0,u.normalizePath)(s),"GET"===t&&d[n]?(a=d[n],delete d[n],p(a,!!o)):"OPTIONS"===t&&d[t]&&d[t][n]?(a=d[t][n],delete d[t][n],p(a,!!o)):r(e))}}const d=e=>e.json?e.json():Promise.reject(e),s=e=>{return(e=e&&e.match(/<([^>]+)>; rel="next"/))?{next:e[1]}:{}},h=e=>{e=s(e.headers.get("link")).next;return e};var c=async(e,r)=>{if(!1===e.parse)return r(e);if(t=!!(a=e).path&&-1!==a.path.indexOf("per_page=-1"),a=!!a.url&&-1!==a.url.indexOf("per_page=-1"),!t&&!a)return r(e);var t,n,r=await x({...([{path:t,url:a,...r},n]=[e,{per_page:100}],{...r,url:a&&(0,u.addQueryArgs)(a,n),path:t&&(0,u.addQueryArgs)(t,n)}),parse:!1}),a=await d(r);if(!Array.isArray(a))return a;let o=h(r);if(!o)return a;let s=[].concat(a);for(;o;){var c=await x({...e,path:void 0,url:o,parse:!1}),i=await d(c);s=s.concat(i),o=h(c)}return s};const l=new Set(["PATCH","PUT","DELETE"]);const f=(e,r=!0)=>r?204===e.status?null:e.json?e.json():Promise.reject(e):e,g=e=>{const r={code:"invalid_json",message:(0,i.__)("\u6b64\u54cd\u5e94\u4e0d\u662f\u5408\u6cd5\u7684JSON\u54cd\u5e94\u3002")};if(e&&e.json)return e.json().catch(()=>{throw r});throw r},w=(e,r=!0)=>Promise.resolve(f(e,r)).catch(e=>m(e,r));function m(e,r=!0){if(r)return g(e).then(e=>{var r={code:"unknown_error",message:(0,i.__)("\u53d1\u751f\u4e86\u672a\u77e5\u9519\u8bef\u3002")};throw e||r});throw e}var y=(t,r)=>{if(n=!!(e=t).method&&"POST"===e.method,(!e.path||-1===e.path.indexOf("/gc/v2/media"))&&(!e.url||-1===e.url.indexOf("/gc/v2/media"))||!n)return r(t);var e,n;let a=0;const o=e=>(a++,r({path:`/gc/v2/media/${e}/post-process`,method:"POST",data:{action:"create-image-subsizes"},parse:!1}).catch(()=>a<5?o(e):(r({path:`/gc/v2/media/${e}?force=true`,method:"DELETE"}),Promise.reject())));return r({...t,parse:!1}).catch(e=>{var r=e.headers.get("x-gc-upload-attachment-id");return 500<=e.status&&e.status<600&&r?o(r).catch(()=>!1!==t.parse?Promise.reject({code:"post_process",message:(0,i.__)("\u5a92\u4f53\u4e0a\u4f20\u5931\u8d25\u3002\u5982\u679c\u8fd9\u662f\u4e00\u5f20\u8f83\u5927\u7684\u7167\u7247\u6216\u56fe\u7247\uff0c\u8bf7\u5c06\u5176\u7f29\u5c0f\u5e76\u91cd\u65b0\u4e0a\u4f20\u3002")}):Promise.reject(e)):m(e,t.parse)}).then(e=>w(e,t.parse))},v=t=>(e,r)=>("string"!=typeof e.url||(0,u.hasQueryArg)(e.url,"gc_theme_preview")||(e.url=(0,u.addQueryArgs)(e.url,{gc_theme_preview:t})),"string"!=typeof e.path||(0,u.hasQueryArg)(e.path,"gc_theme_preview")||(e.path=(0,u.addQueryArgs)(e.path,{gc_theme_preview:t})),r(e));const _={Accept:"application/json, */*;q=0.1"},P={credentials:"include"},O=[(e,r)=>("string"!=typeof e.url||(0,u.hasQueryArg)(e.url,"_locale")||(e.url=(0,u.addQueryArgs)(e.url,{_locale:"user"})),"string"!=typeof e.path||(0,u.hasQueryArg)(e.path,"_locale")||(e.path=(0,u.addQueryArgs)(e.path,{_locale:"user"})),r(e)),t,(e,r)=>{var{method:t="GET"}=e;return r(e=l.has(t.toUpperCase())?{...e,headers:{...e.headers,"X-HTTP-Method-Override":t,"Content-Type":"application/json"},method:"POST"}:e)},c];const j=e=>{if(200<=e.status&&e.status<300)return e;throw e};let A=e=>{const{url:r,path:t,data:n,parse:a=!0,...o}=e;let{body:s,headers:c}=e;return c={..._,...c},n&&(s=JSON.stringify(n),c["Content-Type"]="application/json"),window.fetch(r||t||window.location.href,{...P,...o,body:s,headers:c}).then(e=>Promise.resolve(e).then(j).catch(e=>m(e,a)).then(e=>w(e,a)),e=>{if(e&&"AbortError"===e.name)throw e;throw{code:"fetch_error",message:(0,i.__)("\u60a8\u53ef\u80fd\u5df2\u7ecf\u6389\u7ebf\u3002")}})};function T(r){return O.reduceRight((r,t)=>e=>t(e,r),A)(r).catch(e=>"rest_cookie_invalid_nonce"!==e.code?Promise.reject(e):window.fetch(T.nonceEndpoint).then(j).then(e=>e.text()).then(e=>(T.nonceMiddleware.nonce=e,T(r))))}T.use=function(e){O.unshift(e)},T.setFetchHandler=function(e){A=e},T.createNonceMiddleware=r,T.createPreloadingMiddleware=o,T.createRootURLMiddleware=a,T.fetchAllMiddleware=c,T.mediaUploadMiddleware=y,T.createThemePreviewMiddleware=v;var x=T;(window.gc=window.gc||{}).apiFetch=e.default}();